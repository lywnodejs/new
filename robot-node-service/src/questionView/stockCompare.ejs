<% include ./component/params %>
<% include ./component/preAnswer %>
<% include ./component/jsLoad %>
<div class='bd' id="answer<%= sn %>">
    <div class='mb'>
        <%- data %>
    </div>
</div>
<script>
  try {
    thas.nodeFunction('questionAnalyse', '<%- JSON.stringify(info.questionAnalyse[0]) %>');
  } catch (error) {

  }

  var stockCompare = {
    onViewReady: function () {
      var chartContainerId = '<%= chartContainerId %>';
      var dataArr = JSON.parse('<%- JSON.stringify(dataArr) %>');
      stockComparision.HttpUrl = '<%= apiUrl %>';
      stockComparision.sourceUrl = '<%= config %>' + '/static';

      $('#compareId' + chartContainerId).html(stockComparision.getTarget(chartContainerId))
      stockComparision.init(dataArr[0].market, dataArr[0].stockCode, dataArr[1].market, dataArr[1].stockCode, chartContainerId);
    }
  }
  var jsArr = ['/static/js/libs/jquery-1.11.2.min',
    '/static/js/libs/7.0/highstock',
    '/static/js/libs/7.0/highcharts-more',
    '/static/js/utils/timeUtil',
    '/static/js/charts/jStockComparision'];
  loadJs(jsArr, stockCompare.onViewReady)


</script>





