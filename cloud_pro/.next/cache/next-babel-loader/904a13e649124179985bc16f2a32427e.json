{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/switch/style\";\nimport _Switch from \"antd/lib/switch\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/space/style\";\nimport _Space from \"antd/lib/space\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/input-number/style\";\nimport _InputNumber from \"antd/lib/input-number\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/tooltip/style\";\nimport _Tooltip from \"antd/lib/tooltip\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Layout } from '~/components/Layout';\nimport React, { useEffect, useState } from 'react';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { useCookies } from 'react-cookie';\nimport Router, { withRouter } from 'next/router';\nimport api from '~/api/product';\nimport { CREDIT_TYPE } from '~/utils/const';\nvar breadcrumbs = [{\n  text: '产品管理'\n}, {\n  text: '编辑产品信息'\n}];\n\nfunction body(props) {\n  var _useCookies = useCookies(['tenantId']),\n      _useCookies2 = _slicedToArray(_useCookies, 1),\n      cookies = _useCookies2[0];\n\n  var _useState = useState([]),\n      detail = _useState[0],\n      setDetail = _useState[1];\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      informationForm = _Form$useForm2[0];\n\n  var _Form$useForm3 = _Form.useForm(),\n      _Form$useForm4 = _slicedToArray(_Form$useForm3, 1),\n      extraInformationForm = _Form$useForm4[0];\n\n  var _Form$useForm5 = _Form.useForm(),\n      _Form$useForm6 = _slicedToArray(_Form$useForm5, 1),\n      yunYingForm = _Form$useForm6[0];\n\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // fetchList()\n                if (props.router.query.id !== 'new') {\n                  fetchList();\n                } else {\n                  extraInformationForm.setFieldsValue({\n                    gracePeriod: false\n                  });\n                }\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, []);\n\n  var fetchList = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _yield$api$get_produc, _yield$api$get_produc2, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return api.get_product_detail(props.router.query.id);\n\n            case 3:\n              _yield$api$get_produc = _context2.sent;\n              _yield$api$get_produc2 = _yield$api$get_produc.data;\n              data = _yield$api$get_produc2.data;\n              code = _yield$api$get_produc2.code;\n\n              if (code === 0) {\n                console.log(data); // data.newuserLimitExpireTimeUnit = String(\n                //   data.newuserLimitExpireTimeUnit,\n                // )\n                // data.olduserLimitExpireTimeUnit = String(\n                //   data.olduserLimitExpireTimeUnit,\n                // )\n                // data.isStopInterest = String(data.isStopInterest)\n\n                data.repayDay = data.fixedDeductDate == 0 ? 2 : 1;\n                data.gracePeriod = !!data.gracePeriod;\n                informationForm.setFieldsValue(data);\n                extraInformationForm.setFieldsValue(data);\n                yunYingForm.setFieldsValue(data);\n                setDetail(data);\n              }\n\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function fetchList() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var getForm1, getForm2, getForm3;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              getForm1 = informationForm.validateFields;\n              getForm2 = extraInformationForm.validateFields;\n              getForm3 = yunYingForm.validateFields;\n              Promise.all([getForm1(), getForm2(), getForm3()]).then( /*#__PURE__*/function () {\n                var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref4) {\n                  var _ref6, _ref3, values2, values3, repayDay, values1, params, requestFun, _yield$requestFun, _yield$requestFun$dat, data, code;\n\n                  return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          _ref6 = _slicedToArray(_ref4, 3), _ref3 = _ref6[0], values2 = _ref6[1], values3 = _ref6[2];\n                          repayDay = _ref3.repayDay, values1 = _objectWithoutProperties(_ref3, [\"repayDay\"]);\n\n                          if (repayDay == 2) {\n                            values1.fixedDeductDate = 0;\n                          }\n\n                          params = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, values1), values2), values3), {}, {\n                            // stepAmount: 100,\n                            tenantId: cookies.tenantId\n                          });\n                          requestFun = null;\n\n                          if (props.router.query.id !== 'new') {\n                            params.id = props.router.query.id;\n                            requestFun = api.edit_product;\n                          } else {\n                            requestFun = api.add_product;\n                          }\n\n                          _context3.prev = 6;\n                          _context3.next = 9;\n                          return requestFun(params);\n\n                        case 9:\n                          _yield$requestFun = _context3.sent;\n                          _yield$requestFun$dat = _yield$requestFun.data;\n                          data = _yield$requestFun$dat.data;\n                          code = _yield$requestFun$dat.code;\n\n                          if (code == 0) {\n                            _message.success('编辑成功');\n\n                            Router.back();\n                          }\n\n                          _context3.next = 19;\n                          break;\n\n                        case 16:\n                          _context3.prev = 16;\n                          _context3.t0 = _context3[\"catch\"](6);\n                          console.log('Failed:', _context3.t0);\n\n                        case 19:\n                        case \"end\":\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, null, [[6, 16]]);\n                }));\n\n                return function (_x) {\n                  return _ref5.apply(this, arguments);\n                };\n              }())[\"catch\"](function (error) {\n                console.error(error);\n              });\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var changeExpireTimeUnit = function changeExpireTimeUnit(val) {\n    informationForm.setFieldsValue('newuserLimitExpireTimeUnit', val);\n  };\n\n  var changeOldTimeUnit = function changeOldTimeUnit(val) {\n    informationForm.setFieldsValue('olduserLimitExpireTimeUnit', val);\n  };\n\n  var onCancel = function onCancel() {\n    Router.back();\n  };\n\n  var newTipsElement = function newTipsElement() {\n    return __jsx(React.Fragment, null, __jsx(\"span\", null, \"\\u65B0\\u6237\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u2003\"), __jsx(_Tooltip, {\n      title: \"\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u5C06\\u4F1A\\u5F71\\u54CD\\u672A\\u7533\\u8BF7\\u65F6\\u9700\\u91CD\\u65B0\\u8FDB\\u4EF6\\u6388\\u4FE1\\u8D44\\u6599\\u7684\\u65F6\\u95F4\\u3002\"\n    }, __jsx(ExclamationCircleOutlined, null)));\n  };\n\n  var oldTipsElement = function oldTipsElement() {\n    return __jsx(React.Fragment, null, __jsx(\"span\", null, \"\\u8001\\u6237\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u2003\"), __jsx(_Tooltip, {\n      title: \"\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u5C06\\u4F1A\\u5F71\\u54CD\\u7528\\u6237\\u7684\\u501F\\u6B3E\\u671F\\u9650\\u9009\\u62E9\\u3002\"\n    }, __jsx(ExclamationCircleOutlined, null)));\n  };\n\n  return __jsx(Layout, {\n    breadcrumbs: breadcrumbs\n  }, __jsx(_Card, {\n    title: \"\\u57FA\\u672C\\u4FE1\\u606F\",\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Form, {\n    requiredMark: true,\n    style: {\n      marginBottom: 20\n    },\n    form: informationForm,\n    layout: \"vertical\",\n    name: \"informationForm\",\n    initialValues: {\n      rateType: 1,\n      repaymentPeriodType: 1,\n      olduserLimitExpireTimeUnit: 1,\n      newuserLimitExpireTimeUnit: 1,\n      termModel: 1\n    }\n  }, __jsx(_Row, {\n    gutter: 50\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u4EA7\\u54C1\\u540D\\u79F0\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: '请输入产品名称'\n    }, function (_ref7) {\n      var getFieldValue = _ref7.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value && (value.length < 1 || value.length > 10)) {\n            return Promise.reject('输入范围大于1字符，小于等于10字符');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_Input, {\n    placeholder: \"\\u652F\\u6301\\u4E2D\\u82F1\\u6587\\u3001\\u6570\\u5B57\\u548C\\u4E0B\\u5212\\u7EBF\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u5E74\\u5316\\u5229\\u7387\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 10,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: \"0 0 120px\"\n  }, __jsx(_Form.Item, {\n    name: \"rateType\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u8303\\u56F4\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u56FA\\u5B9A\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, curValues) {\n      return prevValues.rateType !== curValues.rateType;\n    }\n  }, function (_ref8) {\n    var getFieldValue = _ref8.getFieldValue;\n    var rateType = getFieldValue('rateType');\n    return rateType == 2 ? __jsx(_Form.Item, {\n      name: \"yearInterestRate\",\n      rules: [{\n        required: true,\n        message: '请输入年化利率'\n      }, function (_ref9) {\n        var getFieldValue = _ref9.getFieldValue;\n        return {\n          validator: function validator(rule, value) {\n            if (value >= 37) {\n              return Promise.reject('输入范围大于0小于37');\n            }\n\n            return Promise.resolve();\n          }\n        };\n      }]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      min: 0,\n      precision: 2\n    })) : __jsx(_Row, {\n      wrap: false,\n      gutter: 24,\n      align: \"middle\"\n    }, __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"minRate\",\n      rules: [{\n        required: true,\n        message: '请输入最小年化利率'\n      }, function (_ref10) {\n        var getFieldValue = _ref10.getFieldValue;\n        return {\n          validator: function validator(rule, value) {\n            if (value >= 37) {\n              return Promise.reject('输入范围大于0小于37');\n            }\n\n            return Promise.resolve();\n          }\n        };\n      }]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      min: 0,\n      precision: 2\n    }))), __jsx(_Col, {\n      flex: \"0 0 30px\",\n      style: {\n        textAlign: 'center',\n        marginBottom: 20\n      }\n    }, \"\\u81F3\"), __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"maxRate\",\n      rules: [{\n        required: true,\n        message: '请输入最大年化利率'\n      }, function (_ref11) {\n        var getFieldValue = _ref11.getFieldValue;\n        return {\n          validator: function validator(rule, value) {\n            if (value >= 37) {\n              return Promise.reject('输入范围大于0小于37');\n            }\n\n            return Promise.resolve();\n          }\n        };\n      }]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      precision: 2,\n      min: 0\n    }))));\n  })), __jsx(_Col, {\n    flex: \"0 0 auto\",\n    style: {\n      marginBottom: 20\n    }\n  }, \"%\"))), __jsx(_Form.Item, {\n    label: \"\\u8D37\\u6B3E\\u671F\\u9650\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: \"0 0 120px\"\n  }, __jsx(_Form.Item, {\n    rules: [{\n      required: true,\n      message: '请选择'\n    }],\n    name: \"termModel\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u8303\\u56F4\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u56FA\\u5B9A\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, curValues) {\n      return prevValues.termModel !== curValues.termModel;\n    }\n  }, function (_ref12) {\n    var getFieldValue = _ref12.getFieldValue;\n    var termModel = getFieldValue('termModel');\n    return termModel == 1 ? __jsx(_Row, {\n      gutter: 24,\n      wrap: false,\n      align: \"middle\"\n    }, __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"minTerms\",\n      rules: [{\n        required: true,\n        message: '请输入贷款期限最小值'\n      } // ({getFieldValue}) => ({\n      //   validator(rule, value) {\n      //     if (value > 37) {\n      //       return Promise.reject('输入范围大于0小于37')\n      //     }\n      //     return Promise.resolve()\n      //   },\n      // }),\n      ]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6B63\\u6574\\u6570\",\n      precision: 0,\n      min: 1,\n      max: 999\n    }))), __jsx(_Col, {\n      flex: \"0 0 auto\",\n      style: {\n        marginBottom: 20\n      }\n    }, \"\\u81F3\"), __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"maxTerms\",\n      rules: [{\n        required: true,\n        message: '请输入贷款期限最大值'\n      } // ({getFieldValue}) => ({\n      //   validator(rule, value) {\n      //     if (value > 37) {\n      //       return Promise.reject('输入范围大于0小于37')\n      //     }\n      //     return Promise.resolve()\n      //   },\n      // }),\n      ]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6B63\\u6574\\u6570\",\n      precision: 0,\n      min: 1,\n      max: 999\n    })))) : __jsx(_Form.Item, {\n      name: \"allowTerms\",\n      rules: [{\n        required: true,\n        message: '请输入贷款期限'\n      }, function (_ref13) {\n        var getFieldValue = _ref13.getFieldValue;\n        return {\n          validator: function validator(rule, value) {\n            if (!value) {\n              return Promise.resolve();\n            }\n\n            var arr = value.split('/').filter(function (v) {\n              return !!v;\n            });\n            var reg = /(^[1-9]\\d*$)/;\n            var isTrue = arr.every(function (v) {\n              return reg.test(v);\n            });\n\n            if (!isTrue) {\n              return Promise.reject('请输入正确的贷款期限，必须是正整数');\n            }\n\n            var numIsTrue = arr.every(function (v) {\n              return +v > 0 && +v < 1000;\n            });\n\n            if (!numIsTrue) {\n              return Promise.reject('贷款期限大于0小于1000');\n            }\n\n            return Promise.resolve();\n          }\n        };\n      }]\n    }, __jsx(_Input, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u591A\\u4E2A\\u503C\\u7528\\u201C/\\u201D\\u9694\\u5F00\\uFF0C\\u4F8B3/6/9\"\n    }));\n  })), __jsx(_Col, {\n    flex: \"0 0 auto\",\n    style: {\n      marginBottom: 20\n    }\n  }, \"\\u6708\"))), __jsx(_Form.Item, {\n    label: \"\\u6388\\u4FE1\\u7C7B\\u578B\",\n    rules: [{\n      required: true,\n      message: '请选择授信类型'\n    }],\n    name: \"creditType\"\n  }, __jsx(_Select, {\n    style: {\n      width: 180\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, CREDIT_TYPE.map(function (v, i) {\n    return __jsx(_Select.Option, {\n      value: v.key,\n      key: i\n    }, v.name);\n  })))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u8FD8\\u6B3E\\u65B9\\u5F0F\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"repaymentTypes\",\n    rules: [{\n      required: true,\n      message: '请选择还款方式'\n    }]\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    mode: \"multiple\",\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u8FD8\\u6B3E\\u65B9\\u5F0F\",\n    optionFilterProp: \"children\",\n    allowClear: true,\n    showArrow: true\n  }, __jsx(_Select.Option, {\n    value: \"1\"\n  }, \"\\u7B49\\u989D\\u672C\\u606F\"), __jsx(_Select.Option, {\n    value: \"2\"\n  }, \"\\u7B49\\u989D\\u672C\\u91D1\"), __jsx(_Select.Option, {\n    value: \"3\"\n  }, \"\\u5148\\u606F\\u540E\\u672C\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"repaymentPeriodType\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    showArrow: true\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u6309\\u6708\\u8FD8\\u6B3E\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u6309\\u5B63\\u8FD8\\u6B3E\")))))), __jsx(_Form.Item, {\n    label: \"\\u6574\\u4F53\\u6388\\u4FE1\\u91D1\\u989D\\uFF08\\u5143\\uFF09\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"minCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入整体授信金额'\n    }, function (_ref14) {\n      var getFieldValue = _ref14.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value >= 1000000) {\n            return Promise.reject('输入范围大于0小于1000000');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))), __jsx(_Col, {\n    flex: \"0 0 24px\",\n    style: {\n      textAlign: 'center'\n    }\n  }, \"-\"), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"maxCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入整体授信金额'\n    }, function (_ref15) {\n      var getFieldValue = _ref15.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value >= 1000000) {\n            return Promise.reject('输入范围大于0小于1000000');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))))), __jsx(_Form.Item, {\n    label: \"\\u5355\\u7B14\\u7528\\u4FE1\\u91D1\\u989D\\uFF08\\u5143\\uFF09\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"minSingleCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入单笔用信金额'\n    }, function (_ref16) {\n      var getFieldValue = _ref16.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value >= 1000000) {\n            return Promise.reject('输入范围大于0小于1000000');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))), __jsx(_Col, {\n    flex: \"0 0 24px\",\n    style: {\n      textAlign: 'center'\n    }\n  }, \"-\"), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"maxSingleCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入单笔用信金额'\n    }, function (_ref17) {\n      var getFieldValue = _ref17.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value >= 1000000) {\n            return Promise.reject('输入范围大于0小于1000000');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))))), __jsx(_Form.Item, {\n    label: newTipsElement(),\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"newuserLimitExpireTime\",\n    style: {\n      display: 'inline-block',\n      marginRight: 0,\n      width: '160px'\n    },\n    rules: [{\n      required: true,\n      message: '请输入新户额度有效期'\n    }, function (_ref18) {\n      var getFieldValue = _ref18.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value > 100) {\n            return Promise.reject('输入范围大于0小于100');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6574\\u6570\",\n    min: 0,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(_Form.Item, {\n    name: \"newuserLimitExpireTimeUnit\",\n    style: {\n      display: 'inline-block',\n      width: '60px',\n      marginLeft: '10px'\n    }\n  }, __jsx(_Select, {\n    onChange: function onChange(val) {\n      return changeExpireTimeUnit(val);\n    }\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u65E5\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u6708\"))))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u8FD8\\u6B3E\\u65E5\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"start\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: \"0 0 180px\"\n  }, __jsx(_Form.Item, {\n    rules: [{\n      required: true,\n      message: '请选择还款日'\n    }],\n    name: \"repayDay\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u56FA\\u5B9A\\u8FD8\\u6B3E\\u65E5\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u653E\\u6B3E\\u65E5\\u4F5C\\u4E3A\\u8FD8\\u6B3E\\u65E5\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    style: {\n      marginBottom: 0\n    },\n    shouldUpdate: function shouldUpdate(prevValues, curValues) {\n      return prevValues.repayDay !== curValues.repayDay;\n    }\n  }, function (_ref19) {\n    var getFieldValue = _ref19.getFieldValue;\n    var repayDay = getFieldValue('repayDay');\n    return repayDay == 1 ? __jsx(_Space, {\n      align: \"baseline\"\n    }, __jsx(\"span\", null, \" \\u6BCF\\u6708\"), __jsx(_Form.Item, {\n      name: \"fixedDeductDate\",\n      rules: [{\n        required: true,\n        message: '请填写还款日'\n      } // ({getFieldValue}) => ({\n      //   validator(rule, value) {\n      //     if (value > 37) {\n      //       return Promise.reject('输入范围大于0小于37')\n      //     }\n      //     return Promise.resolve()\n      //   },\n      // }),\n      ]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      precision: 0,\n      min: 1,\n      max: 28\n    })), __jsx(\"span\", null, \"\\u65E5\")) : null;\n  })))), __jsx(_Form.Item, {\n    label: \"\\u6388\\u4FE1\\u91D1\\u989D\\u6B65\\u957F\\u9650\\u5236\",\n    name: \"creditStepAmount\",\n    rules: [{\n      required: true,\n      message: '请输入授信金额步长'\n    }, function (_ref20) {\n      var getFieldValue = _ref20.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          // if (value && (value.length < 1 || value.length > 10)) {\n          //   return Promise.reject(\n          //     '输入范围大于1字符，小于等于10字符',\n          //   )\n          // }\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    style: {\n      width: '100%'\n    },\n    min: 1,\n    max: 999999999,\n    precision: 0,\n    placeholder: \"\\u4F8B\\uFF1A\\u6B65\\u957F1000\\uFF0C\\u5219\\u6388\\u4FE1\\u91D1\\u989D\\u5FC5\\u987B\\u662F1000\\u7684\\u500D\\u6570\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u7528\\u4FE1\\u91D1\\u989D\\u6B65\\u957F\\u9650\\u5236\",\n    name: \"stepAmount\",\n    rules: [{\n      required: true,\n      message: '请输入用信金额步长限制'\n    }, function (_ref21) {\n      var getFieldValue = _ref21.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          // if (value && (value.length < 1 || value.length > 10)) {\n          //   return Promise.reject(\n          //     '输入范围大于1字符，小于等于10字符',\n          //   )\n          // }\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    min: 1,\n    max: 999999999,\n    precision: 0,\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u4F8B\\uFF1A\\u6B65\\u957F100\\uFF0C\\u5219\\u7528\\u4FE1\\u91D1\\u989D\\u5FC5\\u987B\\u662F100\\u7684\\u500D\\u6570\"\n  })), __jsx(_Form.Item, {\n    label: oldTipsElement(),\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"olduserLimitExpireTime\",\n    style: {\n      display: 'inline-block',\n      marginRight: 0,\n      width: '160px'\n    },\n    rules: [{\n      required: true,\n      message: '请输入老户额度有效期'\n    }, function (_ref22) {\n      var getFieldValue = _ref22.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value > 1000) {\n            return Promise.reject('输入范围大于0小于1000');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6574\\u6570\",\n    min: 0,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(_Form.Item, {\n    name: \"olduserLimitExpireTimeUnit\",\n    style: {\n      display: 'inline-block',\n      width: '60px',\n      marginLeft: '10px'\n    }\n  }, __jsx(_Select, {\n    onChange: function onChange(val) {\n      return changeOldTimeUnit(val);\n    }\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u65E5\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u6708\")))))))), __jsx(_Card, {\n    title: \"\\u8865\\u5145\\u4FE1\\u606F\",\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Form, {\n    style: {\n      marginBottom: 20\n    },\n    form: extraInformationForm,\n    layout: \"vertical\",\n    name: \"extraInformationForm\",\n    initialValues: {}\n  }, __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u5BBD\\u9650\\u671F\",\n    name: \"gracePeriod\",\n    valuePropName: \"checked\"\n  }, __jsx(_Switch, {\n    checkedChildren: \"\\u5F00\",\n    unCheckedChildren: \"\\u5173\"\n  })), __jsx(\"p\", {\n    style: {\n      color: '#bababa'\n    }\n  }, \"\\uFF08\\u6CE8\\uFF1A\\u5BBD\\u9650\\u671F\\u5929\\u6570\\u9ED8\\u8BA4\\u4E3A3\\u5929)\")), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u7F5A\\u606F\\u4E0A\\u6D6E\\u6BD4\\u4F8B\",\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"penaltyRate\",\n    style: {\n      display: 'inline-block',\n      marginLeft: '5px',\n      width: '200px'\n    },\n    rules: [{\n      required: true,\n      message: '请输入罚息上浮比例'\n    }, function (_ref23) {\n      var getFieldValue = _ref23.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          // if (value > 100) {\n          //   return Promise.reject('输入范围大于等于0小于101')\n          // }\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n    min: 0,\n    max: 100,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(\"span\", {\n    style: {\n      paddingLeft: '5px',\n      verticalAlign: 'sub'\n    }\n  }, \"%\"))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"LPR\\u914D\\u7F6E\",\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"lprRate\",\n    style: {\n      width: '80%',\n      display: 'inline-block',\n      marginBottom: 0\n    },\n    rules: [{\n      required: true,\n      message: '请输入LPR'\n    }, function (_ref24) {\n      var getFieldValue = _ref24.getFieldValue;\n      return {\n        validator: function validator(rule, value) {\n          if (value > 100) {\n            return Promise.reject('输入范围大于等于0小于101');\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n    min: 0,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(\"span\", {\n    style: {\n      paddingLeft: '5px',\n      verticalAlign: 'sub'\n    }\n  }, \"%\")), __jsx(\"p\", {\n    style: {\n      color: '#bababa'\n    }\n  }, \"\\uFF08\\u6CE8\\uFF1A\\u663E\\u793A\\u5728\\u534F\\u8BAE\\u4E2D\\uFF0C\\u5F53\\u914D\\u7F6E\\u4E3A0\\u5219\\u4E0D\\u5C55\\u793A\\uFF09\"))), __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u63D0\\u524D\\u8FD8\\u6B3E\",\n    rules: [{\n      required: true,\n      message: '请选择提前还款'\n    }],\n    name: \"prepaymentType\"\n  }, __jsx(_Select, {\n    style: {\n      width: 180\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u5141\\u8BB8\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u4E0D\\u5141\\u8BB8\")))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u63D0\\u524D\\u7ED3\\u6E05\",\n    rules: [{\n      required: true,\n      message: '请选择提前结清'\n    }],\n    name: \"aheadSettleType\"\n  }, __jsx(_Select, {\n    style: {\n      width: 180\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u5141\\u8BB8\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u4E0D\\u5141\\u8BB8\")))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, curValues) {\n      return prevValues.aheadSettleType !== curValues.aheadSettleType;\n    }\n  }, function (_ref25) {\n    var getFieldValue = _ref25.getFieldValue;\n    var beforeSettle = getFieldValue('aheadSettleType');\n    return beforeSettle == 1 ? __jsx(React.Fragment, null, __jsx(_Form.Item, {\n      label: \"\\u63D0\\u524D\\u7ED3\\u6E05\\u8FDD\\u7EA6\\u91D1\",\n      required: true\n    }, __jsx(_Form.Item, {\n      name: \"earlySettleAmountFee\",\n      style: {\n        width: '80%',\n        display: 'inline-block',\n        marginBottom: 0\n      },\n      rules: [{\n        required: true,\n        message: '请输入提前结清违约金'\n      }]\n    }, __jsx(_InputNumber, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      min: 0,\n      max: 999999999,\n      style: {\n        width: '100%'\n      }\n    })), __jsx(\"span\", {\n      style: {\n        paddingLeft: '5px',\n        verticalAlign: 'sub'\n      }\n    }, \"%\")), __jsx(\"p\", {\n      style: {\n        color: '#bababa'\n      }\n    }, \"\\uFF08\\u6CE8\\uFF1A\\u6309\\u5269\\u4F59\\u672C\\u91D1\\u603B\\u989D\\u7684\\u767E\\u5206\\u6BD4\\u8BA1\\u6536\\u30020\\u4E3A\\u4E0D\\u6536\\u53D6\\uFF09\")) : null;\n  }))))), __jsx(_Card, {\n    title: \"\\u8FD0\\u8425\\u4FE1\\u606F\",\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Form, {\n    style: {\n      marginBottom: 20\n    },\n    form: yunYingForm,\n    layout: \"vertical\",\n    name: \"yunYingForm\",\n    initialValues: {}\n  }, __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u8FD0\\u8425\\u6A21\\u5F0F\",\n    name: \"operatingModel\",\n    rules: [{\n      required: true,\n      message: '请选择运营模式'\n    }]\n  }, __jsx(_Select, {\n    style: {\n      width: 150\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u8FD0\\u8425\\u6A21\\u5F0F\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u8054\\u5408\\u8D37\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u52A9\\u8D37\"), __jsx(_Select.Option, {\n    value: 3\n  }, \"\\u81EA\\u8425\")))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u6BCF\\u65E5\\u653E\\u6B3E\\u9650\\u989D\"\n  }, __jsx(_Form.Item, {\n    name: \"operatingLoanAmount\",\n    style: {\n      width: '80%',\n      display: 'inline-block',\n      marginBottom: 0\n    }\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6574\\u6570\\uFF0C\\u5355\\u4F4D\\u201C\\u4E07\\u5143\\u201D\",\n    min: 0,\n    precision: 0,\n    max: 999999999,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(\"span\", {\n    style: {\n      paddingLeft: '5px',\n      verticalAlign: 'sub'\n    }\n  }, \"\\u4E07\\u5143\")))))), __jsx(_Row, {\n    style: {\n      marginTop: '10px'\n    }\n  }, __jsx(_Button, {\n    onClick: onCancel\n  }, \"\\u53D6\\u6D88\"), __jsx(_Button, {\n    type: \"primary\",\n    htmlType: \"button\",\n    onClick: onSubmit,\n    style: {\n      marginLeft: '5px'\n    }\n  }, \"\\u786E\\u5B9A\")));\n}\n\nbody.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n  return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          return _context5.abrupt(\"return\", {});\n\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _callee5);\n}));\nexport default withRouter(body);","map":null,"metadata":{},"sourceType":"module"}