{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/breadcrumb/style\";\nimport _Breadcrumb from \"antd/lib/breadcrumb\";\nimport \"antd/lib/layout/style\";\nimport _Layout from \"antd/lib/layout\";\nvar __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport Router from 'next/router';\nimport nextId from 'react-id-generator';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Sider from './Sider';\nimport { useContext, useState, useRef } from 'react';\nimport { Context } from '~/pages/_app';\nimport Header from './Header';\nimport styles from './Layout.less';\nimport NextNProgress from '../NextNProgress';\nconst {\n  Content\n} = _Layout;\nexport const CommonLayout = props => {\n  const {\n    breadcrumbs,\n    children\n  } = props;\n  const {\n    0: collapsed,\n    1: setCollapsed\n  } = useState(false);\n\n  const onCollapseChange = collapsed => {\n    setCollapsed(collapsed);\n  };\n\n  return __jsx(_Layout, {\n    style: {\n      background: '#FFFFFF'\n    }\n  }, __jsx(NextNProgress, null), __jsx(Header, {\n    fixed: true\n    /* collapsed={collapsed} */\n    ,\n    onCollapseChange: onCollapseChange\n  }), __jsx(_Layout, null, __jsx(Sider, {\n    collapsed: collapsed\n  }), __jsx(\"div\", {\n    className: styles.wrap\n  }, React.cloneElement(children))));\n};\n\nconst body = props => {\n  const {\n    breadcrumbs,\n    extra\n  } = props;\n  const router = useRouter();\n  const containerRef = useRef(null);\n\n  const onBack = () => {\n    router.back();\n  };\n\n  useEffect(() => {\n    containerRef && containerRef.current.scrollTo({\n      top: 0\n    });\n  }, []);\n  return __jsx(\"div\", {\n    className: styles.container,\n    ref: containerRef\n  }, __jsx(Content, {\n    style: props.style,\n    className: styles.content\n  }, breadcrumbs && __jsx(_Breadcrumb, {\n    style: {\n      marginBottom: '17px'\n    }\n  }, breadcrumbs.map((breadcrumb, index) => __jsx(_Breadcrumb.Item, {\n    key: index\n  }, breadcrumb.path ? __jsx(Link, {\n    href: {\n      pathname: breadcrumb.path\n    }\n  }, __jsx(\"a\", {\n    style: {\n      color: '#333'\n    }\n  }, breadcrumb.text)) : breadcrumb.text))), __jsx(\"div\", {\n    className: styles.titleBar\n  }, __jsx(\"h1\", null, Array.isArray(breadcrumbs) && breadcrumbs[breadcrumbs.length - 1].text), extra ? extra : Array.isArray(breadcrumbs) && breadcrumbs.length >= 3 && breadcrumbs[breadcrumbs.length - 2].path && __jsx(_Button, {\n    onClick: onBack\n  }, \"\\u8FD4\\u56DE\\u4E0A\\u4E00\\u9875\")), props.children));\n};\n\nexport default body;","map":{"version":3,"sources":["/Users/liuyawei/Desktop/rxhui/信用算力/项目/cloud_pro/components/Layout/Layout.js"],"names":["React","useEffect","Router","nextId","Link","useRouter","Sider","useContext","useState","useRef","Context","Header","styles","NextNProgress","Content","CommonLayout","props","breadcrumbs","children","collapsed","setCollapsed","onCollapseChange","background","wrap","cloneElement","body","extra","router","containerRef","onBack","back","current","scrollTo","top","container","style","content","marginBottom","map","breadcrumb","index","path","pathname","color","text","titleBar","Array","isArray","length"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\nimport Router from 'next/router'\nimport nextId from 'react-id-generator'\nimport Link from 'next/link'\nimport {Layout, Menu, Dropdown, Breadcrumb, Button, Tabs} from 'antd'\nimport {useRouter} from 'next/router'\nimport Sider from './Sider'\nimport {useContext, useState, useRef} from 'react'\nimport {Context} from '~/pages/_app'\nimport Header from './Header'\nimport styles from './Layout.less'\nimport NextNProgress from '../NextNProgress'\n\nconst {Content} = Layout\n\nexport const CommonLayout = (props) => {\n  const {breadcrumbs, children} = props\n  const [collapsed, setCollapsed] = useState(false)\n\n  const onCollapseChange = (collapsed) => {\n    setCollapsed(collapsed)\n  }\n\n  return (\n    <Layout style={{background: '#FFFFFF'}}>\n      <NextNProgress />\n      <Header\n        fixed={true}\n        /* collapsed={collapsed} */\n        onCollapseChange={onCollapseChange}\n      />\n      <Layout>\n        <Sider collapsed={collapsed} />\n        <div className={styles.wrap}>{React.cloneElement(children)}</div>\n      </Layout>\n    </Layout>\n  )\n}\n\nconst body = (props) => {\n  const {breadcrumbs, extra} = props\n  const router = useRouter()\n  const containerRef = useRef(null)\n\n  const onBack = () => {\n    router.back()\n  }\n\n  useEffect(() => {\n    containerRef && containerRef.current.scrollTo({top: 0})\n  }, [])\n\n  return (\n    <div className={styles.container} ref={containerRef}>\n      <Content style={props.style} className={styles.content}>\n        {breadcrumbs && (\n          <Breadcrumb style={{marginBottom: '17px'}}>\n            {breadcrumbs.map((breadcrumb, index) => (\n              <Breadcrumb.Item key={index}>\n                {breadcrumb.path ? (\n                  <Link href={{pathname: breadcrumb.path}}>\n                    <a style={{color: '#333'}}>{breadcrumb.text}</a>\n                  </Link>\n                ) : (\n                  breadcrumb.text\n                )}\n              </Breadcrumb.Item>\n            ))}\n          </Breadcrumb>\n        )}\n        <div className={styles.titleBar}>\n          <h1>\n            {Array.isArray(breadcrumbs) &&\n              breadcrumbs[breadcrumbs.length - 1].text}\n          </h1>\n          {extra\n            ? extra\n            : Array.isArray(breadcrumbs) &&\n              breadcrumbs.length >= 3 &&\n              breadcrumbs[breadcrumbs.length - 2].path && (\n                <Button onClick={onBack}>返回上一页</Button>\n              )}\n        </div>\n        {props.children}\n      </Content>\n    </div>\n  )\n}\n\nexport default body\n"]},"metadata":{},"sourceType":"module"}