{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Layout } from '~/components/Layout';\nimport React, { useEffect, useState } from 'react';\nimport apiProduct from '~/api/product';\nimport moment from 'moment';\nimport apiAccounting from '~/api/accounting';\nimport apiBusiness from '~/api/business';\nimport { useCookies } from 'react-cookie';\nconst pageParams = {\n  pageNum: 1,\n  pageSize: 10\n};\nconst {\n  RangePicker\n} = _DatePicker;\n\nconst getCurrentMonthFirst = () => {\n  var date = new Date();\n  date.setDate(1);\n  return date;\n};\n\nconst getData = async (values = {}) => {\n  const {\n    time,\n    time2\n  } = values;\n\n  if (Array.isArray(time)) {\n    values = _objectSpread(_objectSpread({}, values), {}, {\n      startTime: moment(time[0]).format('YYYY-MM-DD'),\n      endTime: moment(time[1]).format('YYYY-MM-DD')\n    });\n  }\n\n  if (Array.isArray(time2)) {\n    values = _objectSpread(_objectSpread({}, values), {}, {\n      startGrantTime: moment(time2[0]).format('YYYY-MM-DD'),\n      endGrantTime: moment(time2[1]).format('YYYY-MM-DD')\n    });\n  } else if (time2 === undefined) {\n    values = _objectSpread(_objectSpread({}, values), {}, {\n      startGrantTime: moment(new Date()).format('YYYY-MM-DD'),\n      endGrantTime: moment(new Date()).format('YYYY-MM-DD')\n    });\n  }\n\n  delete values.time;\n  delete values.time2;\n\n  try {\n    let {\n      data: {\n        code,\n        data\n      }\n    } = await apiProduct.getRecovery(_objectSpread(_objectSpread({}, pageParams), values));\n\n    if (code == 0) {\n      return data;\n    }\n\n    return {\n      total: 0,\n      list: []\n    };\n  } catch (e) {\n    return {\n      total: 0,\n      list: []\n    };\n  }\n};\n\nconst breadcrumbs = [{\n  text: 'BI报表'\n}, {\n  text: '业务台账'\n}, {\n  text: '收回报表'\n}];\n\nfunction body(props) {\n  const [cookies] = useCookies(['tenantId']);\n  const {\n    0: data,\n    1: setData\n  } = useState(props.data);\n\n  const [form] = _Form.useForm();\n\n  const {\n    0: searchParams,\n    1: setSearchParams\n  } = useState({});\n  const {\n    0: products,\n    1: setProducts\n  } = useState([]);\n  useEffect(() => {\n    getBranch4search();\n  }, []);\n\n  const onSearch = value => {\n    pageParams.pageNum = 1;\n    updateList(_objectSpread(_objectSpread({}, value), pageParams));\n    setSearchParams(_objectSpread(_objectSpread({}, value), pageParams));\n  };\n\n  const onResetForm = () => {\n    form.resetFields();\n    onSearch();\n  };\n\n  const getBranch4search = async () => {\n    let {\n      data: {\n        code,\n        data\n      }\n    } = await apiBusiness.getBranch4other();\n\n    if (code == 0) {\n      setProducts(data || []);\n    } else {\n      setProducts([]);\n    }\n  };\n\n  const onChangePage = (pageNum = pageParams.pageNum) => {\n    pageParams.pageNum = pageNum;\n    updateList(_objectSpread(_objectSpread({}, searchParams), pageParams));\n  };\n\n  const updateList = async params => {\n    let data = await getData(_objectSpread({}, params));\n    setData(data);\n  };\n\n  const columns = [{\n    title: '部门',\n    dataIndex: 'orgName',\n    fixed: 'left'\n  }, {\n    title: '借款人名称',\n    dataIndex: 'userName'\n  }, {\n    title: '借款人性质',\n    dataIndex: 'natureofBorrower'\n  }, {\n    title: '客户经理手机号',\n    dataIndex: 'managerMobile'\n  }, {\n    title: '客户经理',\n    dataIndex: 'managerName'\n  }, {\n    title: '借据号',\n    dataIndex: 'orderNum'\n  }, {\n    title: '是否广东省范围内贷款',\n    dataIndex: 'isGD'\n  }, {\n    title: '是否梅州市范围内贷款',\n    dataIndex: 'isMZ'\n  }, {\n    title: '是否农户',\n    dataIndex: 'whetherFarmers'\n  }, {\n    title: '涉农品种',\n    dataIndex: 'agricultureVarieties'\n  }, {\n    title: '涉农区域',\n    dataIndex: 'agricultureRelatedArea'\n  }, {\n    title: '结息方式',\n    dataIndex: 'rementpalyType'\n  }, {\n    title: '贷款种类',\n    dataIndex: 'productType'\n  }, {\n    title: '贷款投向一级',\n    dataIndex: 'loanClassification1'\n  }, {\n    title: '贷款投向二级',\n    dataIndex: 'loanClassification2'\n  }, {\n    title: '贷款投向三级',\n    dataIndex: 'loanClassification3'\n  }, {\n    title: '贷款投向四级',\n    dataIndex: 'loanClassification4'\n  }, {\n    title: '行业分类一级',\n    dataIndex: 'industryClassification1'\n  }, {\n    title: '行业分类二级',\n    dataIndex: 'industryClassification2'\n  }, {\n    title: '行业分类三级',\n    dataIndex: 'industryClassification3'\n  }, {\n    title: '行业分类四级',\n    dataIndex: 'industryClassification4'\n  }, {\n    title: '担保方式',\n    dataIndex: 'guaranteeMode'\n  }, {\n    title: '担保情况',\n    dataIndex: 'guaranteeSituation'\n  }, {\n    title: '借款期限',\n    children: [{\n      title: '借期',\n      dataIndex: 'loanPeriod'\n    }, {\n      title: '到期',\n      dataIndex: 'dueDate'\n    }, {\n      title: '延期',\n      dataIndex: 'delay'\n    }, {\n      title: '期限(月)',\n      dataIndex: 'term'\n    }]\n  }, {\n    title: '合同金额',\n    dataIndex: 'contractAmount'\n  }, {\n    title: '发放金额',\n    dataIndex: 'grantAmount'\n  }, {\n    title: '发放日期',\n    dataIndex: 'releaseDate'\n  }, {\n    title: '收回类型',\n    dataIndex: 'takeBackType'\n  }, {\n    title: '收回日期',\n    dataIndex: 'takeBackDate'\n  }, {\n    title: '贷款余额',\n    dataIndex: 'blance'\n  }, {\n    title: '月利率%',\n    dataIndex: 'monthInterest'\n  }, {\n    title: '逾期天数',\n    dataIndex: 'overdueDays'\n  }, {\n    title: '是否扶贫贷款',\n    dataIndex: 'isFP'\n  }, {\n    title: '是否无还本续贷',\n    dataIndex: 'isWH'\n  }, {\n    title: '五级分类状态',\n    dataIndex: 'fiveLevelType'\n  }, {\n    title: '居住地址',\n    dataIndex: 'address'\n  }, {\n    title: '贷款科目',\n    dataIndex: 'loanSubject'\n  }, {\n    title: '贷款用途详述',\n    dataIndex: 'detailsOfLoanPurpose'\n  }, {\n    title: '证件号码',\n    dataIndex: 'idCard'\n  }];\n  const paginationConfig = {\n    total: data.total,\n    current: pageParams.pageNum,\n    showSizeChanger: false,\n    showQuickJumper: true,\n    defaultPageSize: pageParams.pageSize,\n    showTotal: total => `共 ${total} 条`,\n    onChange: onChangePage\n  }; // const disabledDate = (current) => {\n  //   return current > new Date()\n  // }\n\n  const exportExcel = async () => {\n    const values = form.getFieldValue();\n    let postData = {};\n    let time = null;\n\n    if (values.time) {\n      time = values.time;\n    }\n\n    let time2 = values.time2;\n\n    try {\n      if (Array.isArray(time)) {\n        postData = _objectSpread(_objectSpread({}, postData), {}, {\n          startTime: moment(time[0]).format('YYYY-MM-DD'),\n          endTime: moment(time[1]).format('YYYY-MM-DD')\n        });\n      }\n\n      if (Array.isArray(time2)) {\n        postData = _objectSpread(_objectSpread({}, postData), {}, {\n          startGrantTime: moment(time2[0]).format('YYYY-MM-DD'),\n          endGrantTime: moment(time2[1]).format('YYYY-MM-DD')\n        });\n      } else if (time2 === undefined) {\n        postData = _objectSpread(_objectSpread({}, postData), {}, {\n          startGrantTime: moment(new Date()).format('YYYY-MM-DD'),\n          endGrantTime: moment(new Date()).format('YYYY-MM-DD')\n        });\n      }\n\n      delete postData.time2;\n      delete postData.time;\n      console.log(postData);\n      const {\n        data: {\n          data,\n          code\n        }\n      } = await apiAccounting.fetch_recovery_export(_objectSpread(_objectSpread({}, postData), values));\n\n      if (code == 0) {\n        window.open(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n\n    console.log(postData, postData1);\n  };\n\n  return __jsx(Layout, {\n    breadcrumbs: breadcrumbs\n  }, __jsx(_Card, {\n    style: {\n      marginBottom: 30\n    }\n  }, __jsx(_Form, {\n    form: form,\n    name: \"search\",\n    onFinish: onSearch,\n    layout: \"inline\",\n    initialValues: {\n      time2: [moment(getCurrentMonthFirst(), 'YYYY-MM-DD'), moment(new Date(new Date().setDate(new Date().getDate())), 'YYYY-MM-DD')],\n      orgName: ''\n    }\n  }, __jsx(_Form.Item, {\n    label: \"\\u53D1\\u653E\\u65E5\\u671F\",\n    name: \"time\"\n  }, __jsx(RangePicker, null)), __jsx(_Form.Item, {\n    label: \"\\u6536\\u56DE\\u65E5\\u671F\",\n    rules: [{\n      required: true\n    }],\n    name: \"time2\"\n  }, __jsx(RangePicker, {\n    allowClear: false\n  })), __jsx(_Form.Item, {\n    label: \"\\u90E8\\u95E8\",\n    name: \"orgName\"\n  }, __jsx(_Select, {\n    style: {\n      width: '130px'\n    },\n    defaultValue: \"\"\n  }, __jsx(_Select.Option, {\n    value: \"\"\n  }, \"\\u5168\\u90E8\"), products.map(v => __jsx(_Select.Option, {\n    key: v.name,\n    value: v.name\n  }, v.name)))), __jsx(_Form.Item, {\n    label: \"\\u501F\\u6B3E\\u4EBA\\u540D\\u79F0\",\n    name: \"userName\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u5BA2\\u6237\\u7ECF\\u7406\\u624B\\u673A\\u53F7\",\n    name: \"managerMobile\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u5BA2\\u6237\\u7ECF\\u7406\",\n    name: \"managerName\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u501F\\u636E\\u53F7\",\n    name: \"orderNum\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, null, __jsx(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u67E5\\u8BE2\")), __jsx(_Form.Item, null, __jsx(_Button, {\n    type: \"default\",\n    onClick: onResetForm\n  }, \"\\u91CD\\u7F6E\")), __jsx(_Button, {\n    style: {\n      marginRight: 15\n    },\n    onClick: exportExcel,\n    type: \"primary\"\n  }, \"\\u5BFC\\u51FA\"))), __jsx(_Table, {\n    bordered: true,\n    rowKey: (v, i) => i,\n    align: \"center\",\n    scroll: {\n      x: 'max-content'\n    },\n    pagination: paginationConfig,\n    columns: columns,\n    dataSource: data.list\n  }));\n}\n\nbody.getInitialProps = async ctx => {\n  try {\n    let data = await getData();\n    return {\n      data: data\n    };\n  } catch (error) {}\n};\n\nexport default body;","map":{"version":3,"sources":["/Users/liuyawei/Desktop/信用算力/项目/cloud_pro/pages/bi/book/recovery/index.js"],"names":["Layout","React","useEffect","useState","apiProduct","moment","apiAccounting","apiBusiness","useCookies","pageParams","pageNum","pageSize","RangePicker","getCurrentMonthFirst","date","Date","setDate","getData","values","time","time2","Array","isArray","startTime","format","endTime","startGrantTime","endGrantTime","undefined","data","code","getRecovery","total","list","e","breadcrumbs","text","body","props","cookies","setData","form","useForm","searchParams","setSearchParams","products","setProducts","getBranch4search","onSearch","value","updateList","onResetForm","resetFields","getBranch4other","onChangePage","params","columns","title","dataIndex","fixed","children","paginationConfig","current","showSizeChanger","showQuickJumper","defaultPageSize","showTotal","onChange","exportExcel","getFieldValue","postData","console","log","fetch_recovery_export","window","open","err","postData1","marginBottom","getDate","orgName","required","width","map","v","name","marginRight","i","x","getInitialProps","ctx","error"],"mappings":"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","sourcesContent":["import {Layout} from '~/components/Layout'\nimport React, {useEffect, useState} from 'react'\nimport apiProduct from '~/api/product'\nimport {Table, Button, Form, Input, Card, DatePicker, Select} from 'antd'\nimport moment from 'moment'\nimport apiAccounting from '~/api/accounting'\nimport apiBusiness from '~/api/business'\nimport {useCookies} from 'react-cookie'\nconst pageParams = {\n  pageNum: 1,\n  pageSize: 10,\n}\nconst {RangePicker} = DatePicker\n\nconst getCurrentMonthFirst = () => {\n  var date = new Date()\n  date.setDate(1)\n  return date\n}\nconst getData = async (values = {}) => {\n  const {time, time2} = values\n  if (Array.isArray(time)) {\n    values = {\n      ...values,\n      startTime: moment(time[0]).format('YYYY-MM-DD'),\n      endTime: moment(time[1]).format('YYYY-MM-DD'),\n    }\n  }\n  if (Array.isArray(time2)) {\n    values = {\n      ...values,\n      startGrantTime: moment(time2[0]).format('YYYY-MM-DD'),\n      endGrantTime: moment(time2[1]).format('YYYY-MM-DD'),\n    }\n  } else if (time2 === undefined) {\n    values = {\n      ...values,\n      startGrantTime: moment(new Date()).format('YYYY-MM-DD'),\n      endGrantTime: moment(new Date()).format('YYYY-MM-DD'),\n    }\n  }\n  delete values.time\n  delete values.time2\n  try {\n    let {\n      data: {code, data},\n    } = await apiProduct.getRecovery({\n      ...pageParams,\n      ...values,\n    })\n    if (code == 0) {\n      return data\n    }\n    return {\n      total: 0,\n      list: [],\n    }\n  } catch (e) {\n    return {\n      total: 0,\n      list: [],\n    }\n  }\n}\n\nconst breadcrumbs = [{text: 'BI报表'}, {text: '业务台账'}, {text: '收回报表'}]\n\nfunction body(props) {\n  const [cookies] = useCookies(['tenantId'])\n  const [data, setData] = useState(props.data)\n  const [form] = Form.useForm()\n  const [searchParams, setSearchParams] = useState({})\n  const [products, setProducts] = useState([])\n\n  useEffect(() => {\n    getBranch4search()\n  }, [])\n\n  const onSearch = (value) => {\n    pageParams.pageNum = 1\n    updateList({...value, ...pageParams})\n    setSearchParams({...value, ...pageParams})\n  }\n  const onResetForm = () => {\n    form.resetFields()\n    onSearch()\n  }\n\n  const getBranch4search = async () => {\n    let {\n      data: {code, data},\n    } = await apiBusiness.getBranch4other()\n    if (code == 0) {\n      setProducts(data || [])\n    } else {\n      setProducts([])\n    }\n  }\n\n  const onChangePage = (pageNum = pageParams.pageNum) => {\n    pageParams.pageNum = pageNum\n    updateList({...searchParams, ...pageParams})\n  }\n\n  const updateList = async (params) => {\n    let data = await getData({...params})\n    setData(data)\n  }\n\n  const columns = [\n    {\n      title: '部门',\n      dataIndex: 'orgName',\n      fixed: 'left',\n    },\n    {\n      title: '借款人名称',\n      dataIndex: 'userName',\n    },\n    {\n      title: '借款人性质',\n      dataIndex: 'natureofBorrower',\n    },\n    {\n      title: '客户经理手机号',\n      dataIndex: 'managerMobile',\n    },\n    {\n      title: '客户经理',\n      dataIndex: 'managerName',\n    },\n    {\n      title: '借据号',\n      dataIndex: 'orderNum',\n    },\n    {\n      title: '是否广东省范围内贷款',\n      dataIndex: 'isGD',\n    },\n    {\n      title: '是否梅州市范围内贷款',\n      dataIndex: 'isMZ',\n    },\n    {\n      title: '是否农户',\n      dataIndex: 'whetherFarmers',\n    },\n    {\n      title: '涉农品种',\n      dataIndex: 'agricultureVarieties',\n    },\n    {\n      title: '涉农区域',\n      dataIndex: 'agricultureRelatedArea',\n    },\n    {\n      title: '结息方式',\n      dataIndex: 'rementpalyType',\n    },\n    {\n      title: '贷款种类',\n      dataIndex: 'productType',\n    },\n    {\n      title: '贷款投向一级',\n      dataIndex: 'loanClassification1',\n    },\n    {\n      title: '贷款投向二级',\n      dataIndex: 'loanClassification2',\n    },\n    {\n      title: '贷款投向三级',\n      dataIndex: 'loanClassification3',\n    },\n    {\n      title: '贷款投向四级',\n      dataIndex: 'loanClassification4',\n    },\n    {\n      title: '行业分类一级',\n      dataIndex: 'industryClassification1',\n    },\n    {\n      title: '行业分类二级',\n      dataIndex: 'industryClassification2',\n    },\n    {\n      title: '行业分类三级',\n      dataIndex: 'industryClassification3',\n    },\n    {\n      title: '行业分类四级',\n      dataIndex: 'industryClassification4',\n    },\n    {\n      title: '担保方式',\n      dataIndex: 'guaranteeMode',\n    },\n    {\n      title: '担保情况',\n      dataIndex: 'guaranteeSituation',\n    },\n    {\n      title: '借款期限',\n      children: [\n        {\n          title: '借期',\n          dataIndex: 'loanPeriod',\n        },\n        {\n          title: '到期',\n          dataIndex: 'dueDate',\n        },\n        {\n          title: '延期',\n          dataIndex: 'delay',\n        },\n        {\n          title: '期限(月)',\n          dataIndex: 'term',\n        },\n      ],\n    },\n    {\n      title: '合同金额',\n      dataIndex: 'contractAmount',\n    },\n    {\n      title: '发放金额',\n      dataIndex: 'grantAmount',\n    },\n    {\n      title: '发放日期',\n      dataIndex: 'releaseDate',\n    },\n    {\n      title: '收回类型',\n      dataIndex: 'takeBackType',\n    },\n    {\n      title: '收回日期',\n      dataIndex: 'takeBackDate',\n    },\n    {\n      title: '贷款余额',\n      dataIndex: 'blance',\n    },\n    {\n      title: '月利率%',\n      dataIndex: 'monthInterest',\n    },\n    {\n      title: '逾期天数',\n      dataIndex: 'overdueDays',\n    },\n    {\n      title: '是否扶贫贷款',\n      dataIndex: 'isFP',\n    },\n    {\n      title: '是否无还本续贷',\n      dataIndex: 'isWH',\n    },\n    {\n      title: '五级分类状态',\n      dataIndex: 'fiveLevelType',\n    },\n    {\n      title: '居住地址',\n      dataIndex: 'address',\n    },\n    {\n      title: '贷款科目',\n      dataIndex: 'loanSubject',\n    },\n    {\n      title: '贷款用途详述',\n      dataIndex: 'detailsOfLoanPurpose',\n    },\n    {\n      title: '证件号码',\n      dataIndex: 'idCard',\n    },\n  ]\n\n  const paginationConfig = {\n    total: data.total,\n    current: pageParams.pageNum,\n    showSizeChanger: false,\n    showQuickJumper: true,\n    defaultPageSize: pageParams.pageSize,\n    showTotal: (total) => `共 ${total} 条`,\n    onChange: onChangePage,\n  }\n  // const disabledDate = (current) => {\n  //   return current > new Date()\n  // }\n  const exportExcel = async () => {\n    const values = form.getFieldValue()\n    let postData = {}\n    let time = null\n    if (values.time) {\n      time = values.time\n    }\n    let time2 = values.time2\n    try {\n      if (Array.isArray(time)) {\n        postData = {\n          ...postData,\n          startTime: moment(time[0]).format('YYYY-MM-DD'),\n          endTime: moment(time[1]).format('YYYY-MM-DD'),\n        }\n      }\n      if (Array.isArray(time2)) {\n        postData = {\n          ...postData,\n          startGrantTime: moment(time2[0]).format('YYYY-MM-DD'),\n          endGrantTime: moment(time2[1]).format('YYYY-MM-DD'),\n        }\n      } else if (time2 === undefined) {\n        postData = {\n          ...postData,\n          startGrantTime: moment(new Date()).format('YYYY-MM-DD'),\n          endGrantTime: moment(new Date()).format('YYYY-MM-DD'),\n        }\n      }\n      delete postData.time2\n      delete postData.time\n      console.log(postData)\n      const {\n        data: {data, code},\n      } = await apiAccounting.fetch_recovery_export({\n        ...postData,\n        ...values,\n      })\n      if (code == 0) {\n        window.open(data)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n    console.log(postData, postData1)\n  }\n  return (\n    <Layout breadcrumbs={breadcrumbs}>\n      <Card style={{marginBottom: 30}}>\n        <Form\n          form={form}\n          name=\"search\"\n          onFinish={onSearch}\n          layout=\"inline\"\n          initialValues={{\n            time2: [\n              moment(getCurrentMonthFirst(), 'YYYY-MM-DD'),\n              moment(\n                new Date(new Date().setDate(new Date().getDate())),\n                'YYYY-MM-DD',\n              ),\n            ],\n            orgName: '',\n          }}\n        >\n          <Form.Item label=\"发放日期\" name=\"time\">\n            <RangePicker />\n          </Form.Item>\n          <Form.Item label=\"收回日期\" rules={[{required: true}]} name=\"time2\">\n            <RangePicker allowClear={false} />\n          </Form.Item>\n          <Form.Item label=\"部门\" name=\"orgName\">\n            <Select style={{width: '130px'}} defaultValue=\"\">\n              <Select.Option value=\"\">全部</Select.Option>\n              {products.map((v) => (\n                <Select.Option key={v.name} value={v.name}>\n                  {v.name}\n                </Select.Option>\n              ))}\n            </Select>\n          </Form.Item>\n          <Form.Item label=\"借款人名称\" name=\"userName\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item label=\"客户经理手机号\" name=\"managerMobile\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item label=\"客户经理\" name=\"managerName\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item label=\"借据号\" name=\"orderNum\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              查询\n            </Button>\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"default\" onClick={onResetForm}>\n              重置\n            </Button>\n          </Form.Item>\n          <Button\n            style={{marginRight: 15}}\n            onClick={exportExcel}\n            type=\"primary\"\n          >\n            导出\n          </Button>\n        </Form>\n      </Card>\n      <Table\n        bordered\n        rowKey={(v, i) => i}\n        align=\"center\"\n        scroll={{x: 'max-content'}}\n        pagination={paginationConfig}\n        columns={columns}\n        dataSource={data.list}\n      />\n    </Layout>\n  )\n}\n\nbody.getInitialProps = async (ctx) => {\n  try {\n    let data = await getData()\n    return {data: data}\n  } catch (error) {}\n}\n\nexport default body\n"]},"metadata":{},"sourceType":"module"}