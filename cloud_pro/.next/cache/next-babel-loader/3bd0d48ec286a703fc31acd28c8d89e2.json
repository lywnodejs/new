{"ast":null,"code":"import \"antd/lib/space/style\";\nimport _Space from \"antd/lib/space\";\nimport \"antd/lib/dropdown/style\";\nimport _Dropdown from \"antd/lib/dropdown\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/menu/style\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport moment from 'moment';\nimport { DownOutlined } from '@ant-design/icons';\nvar RangePicker = _DatePicker.RangePicker;\n\nvar SearchForm = function SearchForm(_ref) {\n  var onSearch = _ref.onSearch,\n      productList = _ref.productList,\n      applyStatusList = _ref.applyStatusList,\n      applySource = _ref.applySource,\n      applyOrderList = _ref.applyOrderList;\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  useEffect(function () {\n    var start = moment(moment().format('YYYY-MM-DD 00:00:00'));\n    form.setFieldsValue({\n      time: [start, moment()]\n    });\n    search();\n  }, []);\n\n  var handleMenuClick = function handleMenuClick(e) {\n    search('export', e.key);\n  };\n\n  var menu = __jsx(_Menu, {\n    onClick: handleMenuClick\n  }, __jsx(_Menu.Item, {\n    key: 0\n  }, \"\\u5BFC\\u51FA\\u8FDB\\u4EF6\\u5217\\u8868\"), __jsx(_Menu.Item, {\n    key: 1\n  }, \"\\u5BFC\\u51FA\\u8FDB\\u4EF6\\u8D44\\u6599\"), __jsx(_Menu.Item, {\n    key: 3\n  }, \"\\u5BFC\\u51FA\\u6388\\u4FE1\\u8D44\\u6599\"));\n\n  var getFields = function getFields() {\n    var children = [__jsx(_Form.Item, {\n      label: \"\\u624B\\u673A\\u53F7/\\u8FDB\\u4EF6\\u53F7\",\n      name: \"keyword\"\n    }, __jsx(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\"\n    })), __jsx(_Form.Item, {\n      label: \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\",\n      name: \"idCard\"\n    }, __jsx(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\"\n    })), __jsx(_Form.Item, {\n      label: \"\\u8FDB\\u4EF6\\u65E5\\u671F\",\n      name: \"time\"\n    }, __jsx(RangePicker, {\n      showTime: true,\n      format: \"YYYY-MM-DD HH:mm\"\n    })), __jsx(_Form.Item, {\n      label: \"\\u7528\\u6237\\u540D\",\n      name: \"realName\"\n    }, __jsx(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\"\n    })), __jsx(_Form.Item, {\n      name: \"status\",\n      label: \"\\u8FDB\\u4EF6\\u72B6\\u6001\"\n    }, __jsx(_Select, {\n      style: {\n        width: '130px'\n      }\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), applyStatusList.map(function (v, i) {\n      return __jsx(_Select.Option, {\n        key: i,\n        value: v.code\n      }, v.description);\n    }))), __jsx(_Form.Item, {\n      label: \"\\u8D37\\u6B3E\\u4EA7\\u54C1\",\n      name: \"productId\"\n    }, __jsx(_Select, {\n      style: {\n        width: '160px'\n      }\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), productList.map(function (v, i) {\n      return __jsx(_Select.Option, {\n        key: i,\n        value: v.id\n      }, v.name);\n    }))), __jsx(_Form.Item, {\n      label: \"\\u5BA2\\u6237\\u7ECF\\u7406\",\n      name: \"cstMgrName\"\n    }, __jsx(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\"\n    })), __jsx(_Form.Item, {\n      label: \"\\u8FDB\\u4EF6\\u6E20\\u9053\",\n      name: \"applySource\"\n    }, __jsx(_Select, {\n      style: {\n        width: '160px'\n      }\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), applySource.map(function (v, i) {\n      return __jsx(_Select.Option, {\n        key: i,\n        value: v.code\n      }, v.description);\n    }))), __jsx(_Form.Item, {\n      name: \"orderType\",\n      label: \"\\u8BA2\\u5355\\u7C7B\\u578B\"\n    }, __jsx(_Select, {\n      style: {\n        width: '130px'\n      },\n      defaultValue: \"\"\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), applyOrderList.map(function (v, i) {\n      return __jsx(_Select.Option, {\n        key: i,\n        value: v.code\n      }, v.description);\n    }))) // <Form.Item name=\"checkProgress\" label=\"复审状态\">\n    //   <Select style={{width: '130px'}}>\n    //     <Select.Option value=\"\">全部</Select.Option>\n    //     {checkProgressList.map((v, i) => (\n    //       <Select.Option key={i} value={v.code}>\n    //         {v.description}\n    //       </Select.Option>\n    //     ))}\n    //   </Select>\n    // </Form.Item>,\n    ];\n    return children;\n  };\n\n  var onReset = function onReset() {\n    form.resetFields();\n    search();\n  };\n\n  var search = function search(type, key) {\n    var _form$getFieldsValue = form.getFieldsValue(),\n        time = _form$getFieldsValue.time,\n        params = _objectWithoutProperties(_form$getFieldsValue, [\"time\"]);\n\n    if (Array.isArray(time)) {\n      params.beginCreateTime = moment(time[0]).format('YYYY-MM-DD HH:mm');\n      params.endCreateTime = moment(time[1]).format('YYYY-MM-DD HH:mm');\n    }\n\n    if (type === 'export') {\n      params.exportType = key;\n    }\n\n    onSearch(params, type);\n  };\n\n  return __jsx(_Form, {\n    form: form,\n    onFinish: function onFinish(values) {\n      return onSearch(_objectSpread({}, values));\n    },\n    layout: \"inline\",\n    className: \"searchForm\",\n    initialValues: {\n      productId: '',\n      checkProgress: '',\n      status: '',\n      applySource: ''\n    }\n  }, getFields(), __jsx(_Form.Item, null, __jsx(_Space, null, __jsx(_Button, {\n    type: \"primary\",\n    onClick: search\n  }, \"\\u67E5\\u8BE2\"), __jsx(_Button, {\n    onClick: onReset\n  }, \"\\u91CD\\u7F6E\"), __jsx(_Dropdown, {\n    overlay: menu\n  }, __jsx(_Button, null, \"\\u6587\\u4EF6\\u5BFC\\u51FA \", __jsx(DownOutlined, null))))));\n};\n\nexport default SearchForm;","map":null,"metadata":{},"sourceType":"module"}