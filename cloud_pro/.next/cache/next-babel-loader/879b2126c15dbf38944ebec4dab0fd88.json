{"ast":null,"code":"import \"antd/lib/tabs/style\";\nimport _Tabs from \"antd/lib/tabs\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Layout } from '~/components/Layout';\nimport React, { useEffect, useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport api from '~/api/creditScore';\nimport SearchForm from './personal/SearchForm';\nimport TableList from './personal/TableList';\nimport ComSearchForm from './community/comSearchForm';\nimport ComTableList from './community/comTableList';\nimport TownSearchForm from './streetTown/TownSearchForm';\nimport TownTableList from './streetTown/TownTableList';\nconst {\n  TabPane\n} = _Tabs;\n\nfunction callback(key) {\n  console.log(key);\n}\n\nconst breadcrumbs = [{\n  text: '乡村振兴'\n}, {\n  text: '信用分查询'\n}];\nconst pageParams = {\n  pageNum: 1,\n  pageSize: 20\n};\nlet values = {};\n\nfunction body(props) {\n  const [cookies] = useCookies(['tenantId']); //个人\n\n  const {\n    0: list,\n    1: setList\n  } = useState([]);\n  const {\n    0: totalData,\n    1: setTotalData\n  } = useState([]);\n  const {\n    0: productList,\n    1: setProductList\n  } = useState([]);\n  const {\n    0: applyStatusList,\n    1: setApplyStatusList\n  } = useState([]); //村.社区\n\n  const {\n    0: listit,\n    1: setListit\n  } = useState([]);\n  const {\n    0: talData,\n    1: setTalData\n  } = useState([]); //街道.乡道\n\n  const {\n    0: tolist,\n    1: setTolist\n  } = useState([]);\n  const {\n    0: gotalData,\n    1: setGotalData\n  } = useState([]); //信用等级\n\n  const {\n    0: gradeList,\n    1: setGrade\n  } = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      fetchList();\n      onSearch();\n      onQuery();\n      onWhole();\n      fetchCredit();\n      fetchListItem();\n      fetchGrade();\n    }\n\n    fetchData();\n  }, []); //个人\n\n  const fetchList = async (values = {}) => {\n    try {\n      values.creditLevel = values.creditLevel || null;\n      values.streetCode = values.streetCode || null;\n      values.villageCode = values.villageCode || null;\n      const {\n        data: {\n          data,\n          code\n        }\n      } = await api.fetch_base_list(_objectSpread(_objectSpread({}, pageParams), values));\n\n      if (code === 0 && data) {\n        data.list.forEach(item => {\n          item.name = item.name || '-';\n          item.idCard = item.idCard || '-';\n          item.mobilePhone = item.mobilePhone || '-';\n          item.creditScore = item.creditScore || '-';\n          item.creditLevel = item.creditLevel || '-';\n          item.streetName = item.streetName || '-';\n          item.villageName = item.villageName || '-';\n        });\n        setList(data.list);\n        setTotalData(data);\n        console.log(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }; //村.社区\n\n\n  const fetchCredit = async (values = {}) => {\n    try {\n      const {\n        data: {\n          data,\n          code\n        }\n      } = await api.fetch_communityCredit_list(_objectSpread(_objectSpread({}, pageParams), values));\n\n      if (code === 0 && data) {\n        data.list.forEach(item => {\n          item.name = item.name || '-';\n          item.streetName = item.streetName || '-';\n          item.creditScore = item.creditScore || '-';\n          item.creditLevel = item.creditLevel || '-';\n        });\n        setListit(data.list);\n        setTalData(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }; //街道.乡道\n\n\n  const fetchListItem = async (values = {}) => {\n    try {\n      const {\n        data: {\n          data,\n          code\n        }\n      } = await api.fetch_streetCredit_list(_objectSpread(_objectSpread({}, pageParams), values));\n\n      if (code === 0 && data) {\n        data.list.forEach(item => {\n          item.name = item.name || '-';\n          item.creditScore = item.creditScore || '-';\n          item.creditLevel = item.creditLevel || '-';\n        });\n        setTolist(data.list);\n        setGotalData(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }; //信用等级\n\n\n  const fetchGrade = async () => {\n    try {\n      const {\n        data: {\n          code,\n          data\n        }\n      } = await api.fetch_grade_list({});\n\n      if (code == 0) {\n        setGrade(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }; //个人\n\n\n  const onSearch = async value => {\n    values = value;\n    pageParams.pageNum = 1;\n    fetchList(_objectSpread({}, values));\n  }; //村、社区\n\n\n  const onQuery = async value => {\n    values = value;\n    pageParams.pageNum = 1;\n    fetchCredit(_objectSpread({}, values));\n  }; //街道、乡镇\n\n\n  const onWhole = async value => {\n    values = value;\n    pageParams.pageNum = 1;\n    fetchListItem(_objectSpread({}, values));\n  };\n\n  const onPage = async () => {\n    fetchList(values);\n    fetchCredit(values);\n    fetchListItem(values);\n  };\n\n  return __jsx(Layout, {\n    breadcrumbs: breadcrumbs\n  }, __jsx(_Tabs, {\n    defaultActiveKey: \"1\",\n    onChange: callback\n  }, __jsx(TabPane, {\n    tab: \"\\u4E2A\\u4EBA\",\n    key: \"1\"\n  }, __jsx(SearchForm, {\n    onSearch,\n    values,\n    productList,\n    applyStatusList,\n    gradeList\n  }), __jsx(TableList, {\n    list,\n    setList,\n    pageParams,\n    totalData,\n    onPage\n  })), __jsx(TabPane, {\n    tab: \"\\u6751/\\u793E\\u533A\",\n    key: \"2\"\n  }, __jsx(ComSearchForm, {\n    onQuery,\n    gradeList\n  }), __jsx(ComTableList, {\n    listit,\n    setListit,\n    pageParams,\n    talData,\n    onPage\n  })), __jsx(TabPane, {\n    tab: \"\\u8857\\u9053/\\u4E61\\u9547\",\n    key: \"3\"\n  }, __jsx(TownSearchForm, {\n    onWhole,\n    gradeList\n  }), __jsx(TownTableList, {\n    tolist,\n    setTolist,\n    gotalData,\n    pageParams,\n    onPage\n  }))));\n}\n\nbody.getInitialProps = async () => {\n  return {};\n};\n\nexport default body;","map":{"version":3,"sources":["/Users/liuyawei/Desktop/信用算力/项目/cloud_pro/pages/vitalization/creditScore/index.js"],"names":["Layout","React","useEffect","useState","useCookies","api","SearchForm","TableList","ComSearchForm","ComTableList","TownSearchForm","TownTableList","TabPane","callback","key","console","log","breadcrumbs","text","pageParams","pageNum","pageSize","values","body","props","cookies","list","setList","totalData","setTotalData","productList","setProductList","applyStatusList","setApplyStatusList","listit","setListit","talData","setTalData","tolist","setTolist","gotalData","setGotalData","gradeList","setGrade","fetchData","fetchList","onSearch","onQuery","onWhole","fetchCredit","fetchListItem","fetchGrade","creditLevel","streetCode","villageCode","data","code","fetch_base_list","forEach","item","name","idCard","mobilePhone","creditScore","streetName","villageName","err","fetch_communityCredit_list","fetch_streetCredit_list","fetch_grade_list","value","onPage","getInitialProps"],"mappings":"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","sourcesContent":["import {Layout} from '~/components/Layout'\nimport React, {useEffect, useState} from 'react'\nimport {useCookies} from 'react-cookie'\nimport api from '~/api/creditScore'\nimport {Tabs} from 'antd'\nimport SearchForm from './personal/SearchForm'\nimport TableList from './personal/TableList'\nimport ComSearchForm from './community/comSearchForm'\nimport ComTableList from './community/comTableList'\nimport TownSearchForm from './streetTown/TownSearchForm'\nimport TownTableList from './streetTown/TownTableList'\n\nconst {TabPane} = Tabs\n\nfunction callback(key) {\n  console.log(key)\n}\nconst breadcrumbs = [{text: '乡村振兴'}, {text: '信用分查询'}]\nconst pageParams = {\n  pageNum: 1,\n  pageSize: 20,\n}\nlet values = {}\nfunction body(props) {\n  const [cookies] = useCookies(['tenantId'])\n  //个人\n  const [list, setList] = useState([])\n  const [totalData, setTotalData] = useState([])\n  const [productList, setProductList] = useState([])\n  const [applyStatusList, setApplyStatusList] = useState([])\n  //村.社区\n  const [listit, setListit] = useState([])\n  const [talData, setTalData] = useState([])\n  //街道.乡道\n  const [tolist, setTolist] = useState([])\n  const [gotalData, setGotalData] = useState([])\n\n  //信用等级\n  const [gradeList, setGrade] = useState([])\n  useEffect(() => {\n    async function fetchData() {\n      fetchList()\n      onSearch()\n      onQuery()\n      onWhole()\n      fetchCredit()\n      fetchListItem()\n      fetchGrade()\n    }\n    fetchData()\n  }, [])\n  //个人\n  const fetchList = async (values = {}) => {\n    try {\n      values.creditLevel = values.creditLevel || null\n      values.streetCode = values.streetCode || null\n      values.villageCode = values.villageCode || null\n      const {\n        data: {data, code},\n      } = await api.fetch_base_list({...pageParams, ...values})\n      if (code === 0 && data) {\n        data.list.forEach((item) => {\n          item.name = item.name || '-'\n          item.idCard = item.idCard || '-'\n          item.mobilePhone = item.mobilePhone || '-'\n          item.creditScore = item.creditScore || '-'\n          item.creditLevel = item.creditLevel || '-'\n          item.streetName = item.streetName || '-'\n          item.villageName = item.villageName || '-'\n        })\n        setList(data.list)\n        setTotalData(data)\n        console.log(data)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  //村.社区\n  const fetchCredit = async (values = {}) => {\n    try {\n      const {\n        data: {data, code},\n      } = await api.fetch_communityCredit_list({...pageParams, ...values})\n      if (code === 0 && data) {\n        data.list.forEach((item) => {\n          item.name = item.name || '-'\n          item.streetName = item.streetName || '-'\n          item.creditScore = item.creditScore || '-'\n          item.creditLevel = item.creditLevel || '-'\n        })\n        setListit(data.list)\n        setTalData(data)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  //街道.乡道\n  const fetchListItem = async (values = {}) => {\n    try {\n      const {\n        data: {data, code},\n      } = await api.fetch_streetCredit_list({\n        ...pageParams,\n        ...values,\n      })\n      if (code === 0 && data) {\n        data.list.forEach((item) => {\n          item.name = item.name || '-'\n          item.creditScore = item.creditScore || '-'\n          item.creditLevel = item.creditLevel || '-'\n        })\n        setTolist(data.list)\n        setGotalData(data)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  //信用等级\n  const fetchGrade = async () => {\n    try {\n      const {\n        data: {code, data},\n      } = await api.fetch_grade_list({})\n      if (code == 0) {\n        setGrade(data)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  //个人\n  const onSearch = async (value) => {\n    values = value\n    pageParams.pageNum = 1\n    fetchList({...values})\n  }\n  //村、社区\n  const onQuery = async (value) => {\n    values = value\n    pageParams.pageNum = 1\n    fetchCredit({...values})\n  }\n  //街道、乡镇\n  const onWhole = async (value) => {\n    values = value\n    pageParams.pageNum = 1\n    fetchListItem({...values})\n  }\n  const onPage = async () => {\n    fetchList(values)\n    fetchCredit(values)\n    fetchListItem(values)\n  }\n  return (\n    <Layout breadcrumbs={breadcrumbs}>\n      <Tabs defaultActiveKey=\"1\" onChange={callback}>\n        <TabPane tab=\"个人\" key=\"1\">\n          <SearchForm\n            {...{\n              onSearch,\n              values,\n              productList,\n              applyStatusList,\n              gradeList,\n            }}\n          />\n          <TableList\n            {...{\n              list,\n              setList,\n              pageParams,\n              totalData,\n              onPage,\n            }}\n          />\n        </TabPane>\n        <TabPane tab=\"村/社区\" key=\"2\">\n          <ComSearchForm\n            {...{\n              onQuery,\n              gradeList,\n            }}\n          />\n          <ComTableList\n            {...{\n              listit,\n              setListit,\n              pageParams,\n              talData,\n              onPage,\n            }}\n          />\n        </TabPane>\n        <TabPane tab=\"街道/乡镇\" key=\"3\">\n          <TownSearchForm\n            {...{\n              onWhole,\n              gradeList,\n            }}\n          />\n          <TownTableList\n            {...{\n              tolist,\n              setTolist,\n              gotalData,\n              pageParams,\n              onPage,\n            }}\n          />\n        </TabPane>\n      </Tabs>\n    </Layout>\n  )\n}\n\nbody.getInitialProps = async () => {\n  return {}\n}\n\nexport default body\n"]},"metadata":{},"sourceType":"module"}