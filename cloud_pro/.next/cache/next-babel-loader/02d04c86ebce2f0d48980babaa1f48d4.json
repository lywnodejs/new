{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\n\nfunction AssignModal(props) {\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(props.visible),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var _useState3 = useState([]),\n      ids = _useState3[0],\n      setIds = _useState3[1];\n\n  useEffect(function () {\n    setVisible(props.visible);\n\n    if (props.visible) {\n      setLoading(false);\n      setIds([]);\n    }\n  }, [props.visible]);\n\n  var onChange = function onChange(e) {\n    setIds(e);\n  };\n\n  var onEdit = function onEdit() {\n    if (ids.length == 0) {\n      return _message.error('请选择分配对象');\n    }\n\n    var params = {\n      accountIdList: _toConsumableArray(ids),\n      accountNameList: [],\n      companyIdList: [1],\n      type: 1\n    };\n    ids.forEach(function (id) {\n      var item = props.showList.find(function (item) {\n        return item.id == id;\n      });\n      params.accountNameList.push(item.accountName);\n    });\n    setLoading(true);\n    props.onOk(params, onFail);\n  };\n\n  var onFail = function onFail() {\n    setLoading(false);\n  };\n\n  return __jsx(_Modal, {\n    title: \"\\u9009\\u62E9\\u5206\\u914D\",\n    visible: visible,\n    confirmLoading: loading,\n    onOk: onEdit,\n    onCancel: props.onHide,\n    cancelText: \"\\u53D6\\u6D88\",\n    okText: \"\\u786E\\u5B9A\",\n    width: 600\n  }, __jsx(\"div\", {\n    style: {\n      marginBottom: 20\n    }\n  }, \"\\u9009\\u4E2D\\u6570\\u91CF \", props.showNumber || 0, \" \\u4E2A\\uFF0C\\u8BF7\\u9009\\u62E9\\u5206\\u914D\\u5BF9\\u8C61\"), __jsx(_Row, null, __jsx(_Col, null, \"\\u4EBA\\u5458\\uFF1A\"), __jsx(_Col, null, Array.isArray(props.showList) ? __jsx(_Select, {\n    value: ids,\n    onChange: onChange,\n    mode: \"multiple\",\n    style: {\n      width: 450\n    }\n  }, props.showList.map(function (v, i) {\n    return __jsx(_Select.Option, {\n      value: v.id,\n      key: i\n    }, v.accountName, \"_\", v.roleName);\n  })) : null)));\n}\n\nexport default AssignModal;","map":null,"metadata":{},"sourceType":"module"}