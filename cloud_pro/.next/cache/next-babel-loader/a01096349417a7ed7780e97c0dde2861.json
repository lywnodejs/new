{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Layout } from '~/components/Layout';\nimport React, { useEffect, useState } from 'react';\nimport apiProduct from '~/api/product';\nimport moment from 'moment';\nimport apiAccounting from '~/api/accounting';\nimport { useCookies } from 'react-cookie';\nvar pageParams = {\n  pageNum: 1,\n  pageSize: 10\n};\nvar RangePicker = _DatePicker.RangePicker;\n\nvar getCurrentMonthFirst = function getCurrentMonthFirst() {\n  var date = new Date();\n  date.setDate(1);\n  return date;\n};\n\nvar getData = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var values,\n        _values,\n        time,\n        _yield$apiProduc$getL,\n        _yield$apiProduc$getL2,\n        code,\n        data,\n        _args = arguments;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            values = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n            _values = values, time = _values.time;\n\n            if (Array.isArray(time)) {\n              values = _objectSpread(_objectSpread({}, values), {}, {\n                startTime: moment(time[0]).format('YYYY-MM-DD'),\n                endTime: moment(time[1]).format('YYYY-MM-DD')\n              });\n            } else if (time === undefined) {\n              values = _objectSpread(_objectSpread({}, values), {}, {\n                startTime: moment(getCurrentMonthFirst(), 'YYYY-MM-DD').format('YYYY-MM-DD'),\n                endTime: moment(new Date(new Date().setDate(new Date().getDate()))).format('YYYY-MM-DD')\n              });\n            } else if (time === null) {\n              values = _objectSpread(_objectSpread({}, values), {}, {\n                startTime: null,\n                endTime: null\n              });\n            }\n\n            delete values.time;\n            _context.prev = 4;\n            _context.next = 7;\n            return apiProduc.getLoanSummary(_objectSpread(_objectSpread({}, pageParams), values));\n\n          case 7:\n            _yield$apiProduc$getL = _context.sent;\n            _yield$apiProduc$getL2 = _yield$apiProduc$getL.data;\n            code = _yield$apiProduc$getL2.code;\n            data = _yield$apiProduc$getL2.data;\n\n            if (!(code == 0)) {\n              _context.next = 13;\n              break;\n            }\n\n            return _context.abrupt(\"return\", data);\n\n          case 13:\n            return _context.abrupt(\"return\", {\n              total: 0,\n              list: []\n            });\n\n          case 16:\n            _context.prev = 16;\n            _context.t0 = _context[\"catch\"](4);\n            return _context.abrupt(\"return\", {\n              total: 0,\n              list: []\n            });\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[4, 16]]);\n  }));\n\n  return function getData() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar breadcrumbs = [{\n  text: 'BI报表'\n}, {\n  text: '业务台账'\n}, {\n  text: '发放报表'\n}];\n\nfunction body(props) {\n  _s();\n\n  var _useCookies = useCookies(['tenantId']),\n      _useCookies2 = _slicedToArray(_useCookies, 1),\n      cookies = _useCookies2[0];\n\n  var _useState = useState(props.data),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState2 = useState({}),\n      searchParams = _useState2[0],\n      setSearchParams = _useState2[1];\n\n  useEffect(function () {}, []);\n\n  var onSearch = function onSearch(value) {\n    pageParams.pageNum = 1;\n    updateList(_objectSpread(_objectSpread({}, value), pageParams));\n    setSearchParams(_objectSpread(_objectSpread({}, value), pageParams));\n  };\n\n  var onResetForm = function onResetForm() {\n    form.resetFields();\n    onSearch();\n  };\n\n  var onChangePage = function onChangePage() {\n    var pageNum = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : pageParams.pageNum;\n    pageParams.pageNum = pageNum;\n    updateList(_objectSpread(_objectSpread({}, searchParams), pageParams));\n  };\n\n  var updateList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(params) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return getData(_objectSpread({}, params));\n\n            case 2:\n              data = _context2.sent;\n              setData(data);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function updateList(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var columns = [{\n    title: '发放日期',\n    dataIndex: '',\n    align: 'left',\n    fixed: 'left'\n  }, {\n    title: '经办机构',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '通讯地址',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '联系方式',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '借款人名称',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '证件号码',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '客户经理手机号',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '客户经理',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '是否广东省范围内贷款',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '是否梅州市范围内贷款',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '借据编号',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '贷款科目',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '贷款投向行业分类',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '行业分类一类',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '行业分类二类',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '行业分类三类',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '行业分类四类',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '贷款种类',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '结息方式',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '核心产品',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '是否农户',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '是否涉农',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '涉农品种',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '涉农区域',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '合同金额',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '发放金额',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '贷款余额',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '借款期限',\n    children: [{\n      title: '借期',\n      dataIndex: '',\n      align: 'left'\n    }, {\n      title: '到期',\n      dataIndex: '',\n      align: 'left'\n    }, {\n      title: '期限(月)',\n      dataIndex: '',\n      align: 'left'\n    }]\n  }, {\n    title: '月利率%',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '五级分类状态',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '违约情况',\n    children: [{\n      title: '逾期天数',\n      dataIndex: '',\n      align: 'left'\n    }, {\n      title: '累计欠息金额',\n      dataIndex: '',\n      align: 'left'\n    }]\n  }, {\n    title: '担保方式',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '保证人',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '抵质押物名称',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '借款用途详述',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '业务附加信息',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '是否扶贫贷款',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '支付方式',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '合同编号',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '是否启用LPR利率',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: 'LPR利率',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: 'LPR利率调整期限',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: '执行年利率',\n    dataIndex: '',\n    align: 'left'\n  }, {\n    title: 'LPR首次调整日期',\n    dataIndex: '',\n    align: 'left'\n  }];\n  var paginationConfig = {\n    total: data.total,\n    current: pageParams.pageNum,\n    showSizeChanger: false,\n    showQuickJumper: true,\n    defaultPageSize: pageParams.pageSize,\n    showTotal: function showTotal(total) {\n      return \"\\u5171 \".concat(total, \" \\u6761\");\n    },\n    onChange: onChangePage\n  }; // const disabledDate = (current) => {\n  //   return current > new Date()\n  // }\n\n  var exportExcel = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var values, postData, _yield$apiAccounting$, _yield$apiAccounting$2, _data, code;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              values = form.getFieldValue();\n              postData = {};\n              _context3.prev = 2;\n\n              if (Array.isArray(values.time)) {\n                postData = {\n                  startTime: moment(values.time[0]).format('YYYY-MM-DD'),\n                  endTime: moment(values.time[1]).format('YYYY-MM-DD')\n                };\n              }\n\n              delete values.time;\n              _context3.next = 7;\n              return apiAccounting.fetch_loan_export(_objectSpread(_objectSpread({}, values), postData));\n\n            case 7:\n              _yield$apiAccounting$ = _context3.sent;\n              _yield$apiAccounting$2 = _yield$apiAccounting$.data;\n              _data = _yield$apiAccounting$2.data;\n              code = _yield$apiAccounting$2.code;\n\n              if (code == 0) {\n                window.open(_data);\n              }\n\n              _context3.next = 17;\n              break;\n\n            case 14:\n              _context3.prev = 14;\n              _context3.t0 = _context3[\"catch\"](2);\n              console.log(_context3.t0);\n\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 14]]);\n    }));\n\n    return function exportExcel() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    breadcrumbs: breadcrumbs\n  }, __jsx(_Card, {\n    style: {\n      marginBottom: 30\n    }\n  }, __jsx(_Form, {\n    form: form,\n    name: \"search\",\n    onFinish: onSearch,\n    layout: \"inline\",\n    initialValues: {\n      time: [moment(getCurrentMonthFirst(), 'YYYY-MM-DD'), moment(new Date(new Date().setDate(new Date().getDate())), 'YYYY-MM-DD')],\n      productId: null\n    }\n  }, __jsx(_Form.Item, {\n    label: \"\\u53D1\\u653E\\u65E5\\u671F\",\n    name: \"time\"\n  }, __jsx(RangePicker, null)), __jsx(_Form.Item, {\n    label: \"\\u7ECF\\u529E\\u673A\\u6784\"\n  }, __jsx(_Select, {\n    style: {\n      width: '130px'\n    },\n    defaultValue: \"\"\n  }, __jsx(_Select.Option, {\n    value: \"\"\n  }, \"\\u5168\\u90E8\"))), __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u65B9\\u5F0F\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u501F\\u6B3E\\u4EBA\\u540D\\u79F0\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u8BC1\\u4EF6\\u53F7\\u7801\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u5BA2\\u6237\\u7ECF\\u7406\\u624B\\u673A\\u53F7\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, null, __jsx(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u67E5\\u8BE2\")), __jsx(_Form.Item, null, __jsx(_Button, {\n    type: \"default\",\n    onClick: onResetForm\n  }, \"\\u91CD\\u7F6E\")), __jsx(_Button, {\n    style: {\n      marginRight: 15\n    },\n    onClick: exportExcel,\n    type: \"primary\"\n  }, \"\\u5BFC\\u51FA\"))), __jsx(_Table, {\n    bordered: true,\n    rowKey: function rowKey(v, i) {\n      return i;\n    },\n    align: \"center\",\n    scroll: {\n      x: 'max-content'\n    },\n    pagination: paginationConfig,\n    columns: columns,\n    dataSource: data.list || []\n  }));\n}\n\n_s(body, \"MVf90ET7tlMEpcQxQ2QXpXLsKd4=\", false, function () {\n  return [useCookies, _Form.useForm];\n});\n\nbody.getInitialProps = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(ctx) {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return getData();\n\n          case 3:\n            data = _context4.sent;\n            return _context4.abrupt(\"return\", {\n              data: data\n            });\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 7]]);\n  }));\n\n  return function (_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nexport default body;","map":{"version":3,"sources":["/Users/liuyawei/Desktop/信用算力/项目/cloud_pro/pages/bi/book/grant/index.js"],"names":["Layout","React","useEffect","useState","apiProduct","moment","apiAccounting","useCookies","pageParams","pageNum","pageSize","RangePicker","getCurrentMonthFirst","date","Date","setDate","getData","values","time","Array","isArray","startTime","format","endTime","undefined","getDate","apiProduc","getLoanSummary","data","code","total","list","breadcrumbs","text","body","props","cookies","setData","useForm","form","searchParams","setSearchParams","onSearch","value","updateList","onResetForm","resetFields","onChangePage","params","columns","title","dataIndex","align","fixed","children","paginationConfig","current","showSizeChanger","showQuickJumper","defaultPageSize","showTotal","onChange","exportExcel","getFieldValue","postData","fetch_loan_export","window","open","console","log","marginBottom","productId","width","marginRight","v","i","x","getInitialProps","ctx"],"mappings":"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","sourcesContent":["import {Layout} from '~/components/Layout'\nimport React, {useEffect, useState} from 'react'\nimport apiProduct from '~/api/product'\nimport {Table, Button, Form, Input, Card, DatePicker, Select} from 'antd'\nimport moment from 'moment'\nimport apiAccounting from '~/api/accounting'\nimport {useCookies} from 'react-cookie'\nconst pageParams = {\n  pageNum: 1,\n  pageSize: 10,\n}\nconst {RangePicker} = DatePicker\n\nconst getCurrentMonthFirst = () => {\n  var date = new Date()\n  date.setDate(1)\n  return date\n}\n\nconst getData = async (values = {}) => {\n  const {time} = values\n  if (Array.isArray(time)) {\n    values = {\n      ...values,\n      startTime: moment(time[0]).format('YYYY-MM-DD'),\n      endTime: moment(time[1]).format('YYYY-MM-DD'),\n    }\n  } else if (time === undefined) {\n    values = {\n      ...values,\n      startTime: moment(getCurrentMonthFirst(), 'YYYY-MM-DD').format(\n        'YYYY-MM-DD',\n      ),\n      endTime: moment(\n        new Date(new Date().setDate(new Date().getDate())),\n      ).format('YYYY-MM-DD'),\n    }\n  } else if (time === null) {\n    values = {\n      ...values,\n      startTime: null,\n      endTime: null,\n    }\n  }\n  delete values.time\n  try {\n    let {\n      data: {code, data},\n    } = await apiProduc.getLoanSummary({\n      ...pageParams,\n      ...values,\n    })\n    if (code == 0) {\n      return data\n    }\n    return {\n      total: 0,\n      list: [],\n    }\n  } catch (e) {\n    return {\n      total: 0,\n      list: [],\n    }\n  }\n}\n\nconst breadcrumbs = [{text: 'BI报表'}, {text: '业务台账'}, {text: '发放报表'}]\n\nfunction body(props) {\n  const [cookies] = useCookies(['tenantId'])\n  const [data, setData] = useState(props.data)\n  const [form] = Form.useForm()\n  const [searchParams, setSearchParams] = useState({})\n\n  useEffect(() => {}, [])\n\n  const onSearch = (value) => {\n    pageParams.pageNum = 1\n    updateList({...value, ...pageParams})\n    setSearchParams({...value, ...pageParams})\n  }\n  const onResetForm = () => {\n    form.resetFields()\n    onSearch()\n  }\n\n  const onChangePage = (pageNum = pageParams.pageNum) => {\n    pageParams.pageNum = pageNum\n    updateList({...searchParams, ...pageParams})\n  }\n\n  const updateList = async (params) => {\n    let data = await getData({...params})\n    setData(data)\n  }\n\n  const columns = [\n    {\n      title: '发放日期',\n      dataIndex: '',\n      align: 'left',\n      fixed: 'left',\n    },\n    {\n      title: '经办机构',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '通讯地址',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '联系方式',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '借款人名称',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '证件号码',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '客户经理手机号',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '客户经理',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '是否广东省范围内贷款',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '是否梅州市范围内贷款',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '借据编号',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '贷款科目',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '贷款投向行业分类',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '行业分类一类',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '行业分类二类',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '行业分类三类',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '行业分类四类',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '贷款种类',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '结息方式',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '核心产品',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '是否农户',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '是否涉农',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '涉农品种',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '涉农区域',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '合同金额',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '发放金额',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '贷款余额',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '借款期限',\n      children: [\n        {\n          title: '借期',\n          dataIndex: '',\n          align: 'left',\n        },\n        {\n          title: '到期',\n          dataIndex: '',\n          align: 'left',\n        },\n        {\n          title: '期限(月)',\n          dataIndex: '',\n          align: 'left',\n        },\n      ],\n    },\n    {\n      title: '月利率%',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '五级分类状态',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '违约情况',\n      children: [\n        {\n          title: '逾期天数',\n          dataIndex: '',\n          align: 'left',\n        },\n        {\n          title: '累计欠息金额',\n          dataIndex: '',\n          align: 'left',\n        },\n      ],\n    },\n    {\n      title: '担保方式',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '保证人',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '抵质押物名称',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '借款用途详述',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '业务附加信息',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '是否扶贫贷款',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '支付方式',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '合同编号',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '是否启用LPR利率',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: 'LPR利率',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: 'LPR利率调整期限',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: '执行年利率',\n      dataIndex: '',\n      align: 'left',\n    },\n    {\n      title: 'LPR首次调整日期',\n      dataIndex: '',\n      align: 'left',\n    },\n  ]\n\n  const paginationConfig = {\n    total: data.total,\n    current: pageParams.pageNum,\n    showSizeChanger: false,\n    showQuickJumper: true,\n    defaultPageSize: pageParams.pageSize,\n    showTotal: (total) => `共 ${total} 条`,\n    onChange: onChangePage,\n  }\n  // const disabledDate = (current) => {\n  //   return current > new Date()\n  // }\n  const exportExcel = async () => {\n    const values = form.getFieldValue()\n    let postData = {}\n    try {\n      if (Array.isArray(values.time)) {\n        postData = {\n          startTime: moment(values.time[0]).format('YYYY-MM-DD'),\n          endTime: moment(values.time[1]).format('YYYY-MM-DD'),\n        }\n      }\n      delete values.time\n      const {\n        data: {data, code},\n      } = await apiAccounting.fetch_loan_export({\n        ...values,\n        ...postData,\n      })\n      if (code == 0) {\n        window.open(data)\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n  return (\n    <Layout breadcrumbs={breadcrumbs}>\n      <Card style={{marginBottom: 30}}>\n        <Form\n          form={form}\n          name=\"search\"\n          onFinish={onSearch}\n          layout=\"inline\"\n          initialValues={{\n            time: [\n              moment(getCurrentMonthFirst(), 'YYYY-MM-DD'),\n              moment(\n                new Date(new Date().setDate(new Date().getDate())),\n                'YYYY-MM-DD',\n              ),\n            ],\n            productId: null,\n          }}\n        >\n          <Form.Item label=\"发放日期\" name=\"time\">\n            <RangePicker />\n          </Form.Item>\n          <Form.Item label=\"经办机构\">\n            <Select style={{width: '130px'}} defaultValue=\"\">\n              <Select.Option value=\"\">全部</Select.Option>\n            </Select>\n          </Form.Item>\n          <Form.Item label=\"联系方式\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item label=\"借款人名称\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item label=\"证件号码\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item label=\"客户经理手机号\">\n            <Input placeholder=\"请输入\" />\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              查询\n            </Button>\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"default\" onClick={onResetForm}>\n              重置\n            </Button>\n          </Form.Item>\n          <Button\n            style={{marginRight: 15}}\n            onClick={exportExcel}\n            type=\"primary\"\n          >\n            导出\n          </Button>\n        </Form>\n      </Card>\n      <Table\n        bordered\n        rowKey={(v, i) => i}\n        align=\"center\"\n        scroll={{x: 'max-content'}}\n        pagination={paginationConfig}\n        columns={columns}\n        dataSource={data.list || []}\n      />\n    </Layout>\n  )\n}\n\nbody.getInitialProps = async (ctx) => {\n  try {\n    let data = await getData()\n    return {data: data}\n  } catch (error) {}\n}\n\nexport default body\n"]},"metadata":{},"sourceType":"module"}