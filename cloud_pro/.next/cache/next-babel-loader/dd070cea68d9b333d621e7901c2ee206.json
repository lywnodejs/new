{"ast":null,"code":"import \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport \"antd/lib/date-picker/style\";\nimport _DatePicker from \"antd/lib/date-picker\";\nvar __jsx = React.createElement;\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport moment from 'moment';\nimport { DownOutlined } from '@ant-design/icons';\nconst {\n  RangePicker\n} = _DatePicker;\n\nconst SearchForm = ({\n  onSearch,\n  onPartialAssign,\n  productList,\n  orderStatus,\n  applySource,\n  applyOrderList,\n  distribution\n}) => {\n  const [form] = _Form.useForm();\n\n  useEffect(() => {\n    // let start = moment(moment().format('YYYY-MM-DD 00:00:00'))\n    // form.setFieldsValue({\n    //   time: [start, moment()],\n    // })\n    onSearchForm();\n  }, []);\n\n  const getFields = () => {\n    const children = [__jsx(_Form.Item, {\n      label: \"\\u8FDB\\u4EF6\\u53F7/\\u624B\\u673A\\u53F7\",\n      name: \"keyword\"\n    }, __jsx(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\"\n    })), __jsx(_Form.Item, {\n      label: \"\\u4EA7\\u54C1\\u540D\\u79F0\",\n      name: \"productId\"\n    }, __jsx(_Select, {\n      style: {\n        width: '160px'\n      },\n      defaultValue: \"\"\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), productList.map((v, i) => __jsx(_Select.Option, {\n      key: i,\n      value: v.id\n    }, v.name)))), __jsx(_Form.Item, {\n      name: \"orderType\",\n      label: \"\\u8BA2\\u5355\\u7C7B\\u578B\"\n    }, __jsx(_Select, {\n      style: {\n        width: '130px'\n      },\n      defaultValue: \"\"\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), applyOrderList.map((v, i) => __jsx(_Select.Option, {\n      key: i,\n      value: v.code\n    }, v.description)))), __jsx(_Form.Item, {\n      name: \"status\",\n      label: \"\\u8BA2\\u5355\\u72B6\\u6001\"\n    }, __jsx(_Select, {\n      style: {\n        width: '150px'\n      },\n      defaultValue: \"\"\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), orderStatus.map((v, i) => __jsx(_Select.Option, {\n      key: i,\n      value: v.code\n    }, v.description)))), __jsx(_Form.Item, {\n      label: \"\\u7528\\u6237\\u540D\",\n      name: \"realName\"\n    }, __jsx(_Input, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\"\n    })), __jsx(_Form.Item, {\n      name: \"accountManagerSellStatus\",\n      label: \"\\u5206\\u914D\\u72B6\\u6001\"\n    }, __jsx(_Select, {\n      style: {\n        width: '130px'\n      },\n      defaultValue: \"\"\n    }, __jsx(_Select.Option, {\n      value: \"\"\n    }, \"\\u5168\\u90E8\"), distribution.map((v, i) => __jsx(_Select.Option, {\n      key: i,\n      value: v.code\n    }, v.description)))), __jsx(_Form.Item, {\n      label: \"\\u8FDB\\u4EF6\\u65E5\\u671F\",\n      name: \"time\"\n    }, __jsx(RangePicker, {\n      format: \"YYYY-MM-DD HH:mm\"\n    }))];\n    return children;\n  };\n\n  const onReset = () => {\n    form.resetFields();\n    onSearch();\n  };\n\n  const onSearchForm = (type, key) => {\n    const values = form.getFieldsValue();\n    onSearch(values);\n\n    const _form$getFieldsValue = form.getFieldsValue(),\n          {\n      time\n    } = _form$getFieldsValue,\n          params = _objectWithoutProperties(_form$getFieldsValue, [\"time\"]);\n\n    if (Array.isArray(time)) {\n      params.beginCreateTime = moment(time[0]).format('YYYY-MM-DD HH:mm');\n      params.endCreateTime = moment(time[1]).format('YYYY-MM-DD HH:mm');\n    }\n\n    if (type === 'export') {\n      params.exportType = key;\n    }\n\n    onSearch(params, type);\n  };\n\n  return __jsx(_Card, null, __jsx(_Form, {\n    form: form,\n    onFinish: onSearchForm,\n    layout: \"inline\",\n    className: \"searchForm\",\n    initialValues: {\n      productId: '',\n      checkProgress: '',\n      status: '',\n      applySource: ''\n    }\n  }, getFields()), __jsx(\"div\", {\n    style: {\n      display: 'block',\n      marginBottom: 15\n    }\n  }, __jsx(_Button, {\n    type: \"primary\",\n    style: {\n      marginRight: 15\n    },\n    onClick: onSearchForm\n  }, \"\\u67E5\\u8BE2\"), __jsx(_Button, {\n    style: {\n      marginRight: 15\n    },\n    onClick: onReset\n  }, \"\\u91CD\\u7F6E\")), __jsx(_Button, {\n    type: \"primary\",\n    style: {\n      marginRight: 15\n    },\n    onClick: () => onPartialAssign()\n  }, \"\\u9009\\u62E9\\u5206\\u914D\"));\n};\n\nexport default SearchForm;","map":null,"metadata":{},"sourceType":"module"}