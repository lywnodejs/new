{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport \"antd/lib/input-number/style\";\nimport _InputNumber from \"antd/lib/input-number\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/tag/style\";\nimport _Tag from \"antd/lib/tag\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/avatar/style\";\nimport _Avatar from \"antd/lib/avatar\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/descriptions/style\";\nimport _Descriptions from \"antd/lib/descriptions\";\nimport \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/image/style\";\nimport _Image from \"antd/lib/image\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport \"antd/lib/tooltip/style\";\nimport _Tooltip from \"antd/lib/tooltip\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/lib/tabs/style\";\nimport _Tabs from \"antd/lib/tabs\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Layout } from '~/components/Layout';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Router, { withRouter } from 'next/router';\nimport { UserOutlined } from '@ant-design/icons';\nimport { DownOutlined, UpOutlined } from '@ant-design/icons';\nimport apiReview from '~/api/review';\nimport styles from './index.less';\nimport InvestigationModal from '~/components/common/investigationModal';\nimport Media from '~/components/common/Media';\nvar TabPane = _Tabs.TabPane;\nvar breadcrumbs = [{\n  text: '信审管理'\n}, {\n  text: '审核列表'\n}, {\n  text: '授信详情页'\n}];\nvar tabBarStyle = {\n  backgroundColor: '#fff',\n  marginBottom: 15,\n  paddingLeft: 15\n};\nvar idCardImgType = ['idCardFrontOcr', 'idCardBackOcr', 'livenessOcr'];\n\nfunction body(props) {\n  var flag = props.router.query.flag;\n\n  var _useState = useState(false),\n      isCollapse = _useState[0],\n      setIsCollapse = _useState[1];\n\n  var _useState2 = useState([]),\n      detailData = _useState2[0],\n      setDetailData = _useState2[1];\n\n  var _useState3 = useState([]),\n      infoData = _useState3[0],\n      setInfoData = _useState3[1];\n\n  var _useState4 = useState([]),\n      primaryContactData = _useState4[0],\n      setPrimaryContactData = _useState4[1];\n\n  var _useState5 = useState([]),\n      unitData = _useState5[0],\n      setUnitData = _useState5[1];\n\n  var _useState6 = useState('tab'),\n      defaultActiveKey = _useState6[0],\n      setDefaultActiveKey = _useState6[1];\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      presentForm = _Form$useForm2[0];\n\n  var _Form$useForm3 = _Form.useForm(),\n      _Form$useForm4 = _slicedToArray(_Form$useForm3, 1),\n      remarkForm = _Form$useForm4[0];\n\n  var _Form$useForm5 = _Form.useForm(),\n      _Form$useForm6 = _slicedToArray(_Form$useForm5, 1),\n      peopleForm = _Form$useForm6[0];\n\n  var _useState7 = useState(false),\n      remarkVisible = _useState7[0],\n      setRemarkVisible = _useState7[1];\n\n  var _useState8 = useState(false),\n      addPeopleVisible = _useState8[0],\n      setAddPeopleVisible = _useState8[1];\n\n  var _useState9 = useState([]),\n      creditResult = _useState9[0],\n      setCreditResult = _useState9[1];\n\n  var _useState10 = useState([]),\n      rejectCodes = _useState10[0],\n      setRejectCodes = _useState10[1];\n\n  var _useState11 = useState([]),\n      courtData = _useState11[0],\n      setCourtData = _useState11[1];\n\n  var _useState12 = useState(false),\n      showCourt = _useState12[0],\n      setShowCourt = _useState12[1];\n\n  var _useState13 = useState([]),\n      newRecord = _useState13[0],\n      setNewRecord = _useState13[1];\n\n  var _useState14 = useState([]),\n      riskLable = _useState14[0],\n      setRiskLable = _useState14[1]; //备注历史\n\n\n  var _useState15 = useState([]),\n      remarkStatus = _useState15[0],\n      setRemarkStatus = _useState15[1];\n\n  var _useState16 = useState({\n    pageSize: 5,\n    pageNo: 1\n  }),\n      pagination = _useState16[0],\n      setPagination = _useState16[1];\n\n  var _useState17 = useState('init'),\n      loadState = _useState17[0],\n      setLoadState = _useState17[1]; //状态历史\n\n\n  var _useState18 = useState([]),\n      statusHistoryList = _useState18[0],\n      setStatusHistoryList = _useState18[1];\n\n  var _useState19 = useState({\n    pageSize: 5,\n    pageNo: 1\n  }),\n      paginationHis = _useState19[0],\n      setPaginationHis = _useState19[1];\n\n  var _useState20 = useState('init'),\n      loadStateHis = _useState20[0],\n      setLoadStateHis = _useState20[1];\n\n  var _useState21 = useState(false),\n      pointVisible = _useState21[0],\n      setPointVisible = _useState21[1];\n\n  var _useState22 = useState([]),\n      opUpdateData = _useState22[0],\n      setOpUpdateData = _useState22[1];\n\n  var _useState23 = useState(false),\n      refuseVisible = _useState23[0],\n      setRefuseVisible = _useState23[1];\n\n  var _useState24 = useState([]),\n      userInfoList = _useState24[0],\n      setUserInfoList = _useState24[1];\n\n  var _useState25 = useState(false),\n      visible = _useState25[0],\n      setVisible = _useState25[1];\n\n  var _useState26 = useState(false),\n      disabled = _useState26[0],\n      setDisabled = _useState26[1];\n\n  var remarkColums = [{\n    title: '时间',\n    dataIndex: 'updateTime',\n    key: 'updateTime'\n  }, {\n    title: '原始值',\n    dataIndex: 'oldValue',\n    key: 'oldValue'\n  }, {\n    title: '修改后',\n    dataIndex: 'newValue',\n    key: 'newValue',\n    render: function render(record, text) {\n      return String(record).length >= 10 ? __jsx(_Tooltip, {\n        placement: \"top\",\n        title: record\n      }, record.substring(0, 9) + '...') : __jsx(\"span\", null, record);\n    }\n  }, {\n    title: '修改人',\n    dataIndex: 'updateUser',\n    key: 'updateUser'\n  }];\n  var historyColumns = [{\n    title: '日期',\n    dataIndex: 'createTime',\n    key: 'createTime'\n  }, {\n    title: '状态',\n    dataIndex: 'remark',\n    key: 'remark'\n  }, {\n    title: '修改人',\n    dataIndex: 'updateUser',\n    key: 'updateUser',\n    width: 180\n  }];\n  useEffect(function () {\n    creditDetail();\n    primaryContactList();\n    unitDataList();\n    creditResultDetail();\n    fetchRejectCode();\n    var storage = window.localStorage;\n\n    if (storage['spreadId']) {\n      setIsCollapse(true);\n    }\n  }, []);\n  useEffect(function () {\n    remarkList(_objectSpread({}, pagination));\n  }, [pagination]);\n  useEffect(function () {\n    statusList(_objectSpread({}, paginationHis));\n  }, [paginationHis]);\n\n  var creditDetail = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$apiReview$fetc, _yield$apiReview$fetc2, data, code, catDTOS;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return apiReview.fetch_creditDetail_list({\n                creditId: props.router.query.creditId,\n                orderId: props.router.query.orderId\n              });\n\n            case 3:\n              _yield$apiReview$fetc = _context.sent;\n              _yield$apiReview$fetc2 = _yield$apiReview$fetc.data;\n              data = _yield$apiReview$fetc2.data;\n              code = _yield$apiReview$fetc2.code;\n\n              if (code == 0) {\n                setDetailData(data);\n                setInfoData(data.catSnapShotDTOS);\n                catDTOS = data.catSnapShotDTOS;\n\n                if (Array.isArray(catDTOS) && catDTOS.length > 0) {\n                  setDefaultActiveKey('1');\n                }\n\n                setRiskLable(data.riskLabels);\n                setUserInfoList(data.userInfo);\n              }\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function creditDetail() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var creditResultDetail = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _yield$apiReview$fetc3, _yield$apiReview$fetc4, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return apiReview.fetch_getResult_detail({\n                creditId: props.router.query.creditId\n              });\n\n            case 3:\n              _yield$apiReview$fetc3 = _context2.sent;\n              _yield$apiReview$fetc4 = _yield$apiReview$fetc3.data;\n              data = _yield$apiReview$fetc4.data;\n              code = _yield$apiReview$fetc4.code;\n\n              if (code == 0) {\n                setCreditResult(data);\n                presentForm.setFieldsValue(data);\n              }\n\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function creditResultDetail() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var fetchRejectCode = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      var _yield$apiReview$fetc5, _yield$apiReview$fetc6, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return apiReview.fetch_reject_code({\n                productScope: 10001\n              });\n\n            case 3:\n              _yield$apiReview$fetc5 = _context3.sent;\n              _yield$apiReview$fetc6 = _yield$apiReview$fetc5.data;\n              data = _yield$apiReview$fetc6.data;\n              code = _yield$apiReview$fetc6.code;\n\n              if (code == 0) {\n                setRejectCodes(data);\n              }\n\n              _context3.next = 13;\n              break;\n\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 10]]);\n    }));\n\n    return function fetchRejectCode(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var primaryContactList = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var _yield$apiReview$get_, _yield$apiReview$get_2, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return apiReview.get_data_dict('NOTE_CONTACT');\n\n            case 3:\n              _yield$apiReview$get_ = _context4.sent;\n              _yield$apiReview$get_2 = _yield$apiReview$get_.data;\n              data = _yield$apiReview$get_2.data;\n              code = _yield$apiReview$get_2.code;\n\n              if (code == 0) {\n                setPrimaryContactData(data);\n              }\n\n              _context4.next = 13;\n              break;\n\n            case 10:\n              _context4.prev = 10;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.log(_context4.t0);\n\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[0, 10]]);\n    }));\n\n    return function primaryContactList() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var remarkList = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(payload) {\n      var _yield$apiReview$fetc7, _yield$apiReview$fetc8, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              setLoadState('loading');\n              _context5.prev = 1;\n              _context5.next = 4;\n              return apiReview.fetch_remark_status(_objectSpread(_objectSpread({}, pagination), {}, {\n                creditId: Number(props.router.query.creditId),\n                type: 2\n              }, payload));\n\n            case 4:\n              _yield$apiReview$fetc7 = _context5.sent;\n              _yield$apiReview$fetc8 = _yield$apiReview$fetc7.data;\n              data = _yield$apiReview$fetc8.data;\n              code = _yield$apiReview$fetc8.code;\n\n              if (code == 0) {\n                setRemarkStatus(data.list);\n                setLoadState('init');\n              }\n\n              if (data.list.length == data.total) {\n                setLoadState('noMore');\n              }\n\n              _context5.next = 15;\n              break;\n\n            case 12:\n              _context5.prev = 12;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.log(_context5.t0);\n\n            case 15:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[1, 12]]);\n    }));\n\n    return function remarkList(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var loadMore = function loadMore() {\n    setPagination(function (pagination) {\n      return {\n        pageSize: pagination.pageSize + 10,\n        pageNo: pagination.pageNo\n      };\n    });\n  };\n\n  var statusList = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(payload) {\n      var _yield$apiReview$fetc9, _yield$apiReview$fetc10, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              setLoadStateHis('loading');\n              _context6.prev = 1;\n              _context6.next = 4;\n              return apiReview.fetch_remark_status(_objectSpread(_objectSpread({\n                creditId: Number(props.router.query.creditId),\n                type: 1\n              }, payload), paginationHis));\n\n            case 4:\n              _yield$apiReview$fetc9 = _context6.sent;\n              _yield$apiReview$fetc10 = _yield$apiReview$fetc9.data;\n              data = _yield$apiReview$fetc10.data;\n              code = _yield$apiReview$fetc10.code;\n\n              if (code == 0) {\n                setStatusHistoryList(data.list);\n                setLoadStateHis('init');\n              }\n\n              if (data.list.length == data.total) {\n                setLoadStateHis('noMore');\n              }\n\n              _context6.next = 15;\n              break;\n\n            case 12:\n              _context6.prev = 12;\n              _context6.t0 = _context6[\"catch\"](1);\n              console.log(_context6.t0);\n\n            case 15:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[1, 12]]);\n    }));\n\n    return function statusList(_x3) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var lookMore = function lookMore() {\n    setPaginationHis(function (paginationHis) {\n      return {\n        pageSize: paginationHis.pageSize + 10,\n        pageNo: paginationHis.pageNo\n      };\n    });\n  };\n\n  var unitDataList = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var _yield$apiReview$get_3, _yield$apiReview$get_4, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.prev = 0;\n              _context7.next = 3;\n              return apiReview.get_data_dict('NOTE_CONTACT_COMPANY');\n\n            case 3:\n              _yield$apiReview$get_3 = _context7.sent;\n              _yield$apiReview$get_4 = _yield$apiReview$get_3.data;\n              data = _yield$apiReview$get_4.data;\n              code = _yield$apiReview$get_4.code;\n\n              if (code == 0) {\n                setUnitData(data);\n              }\n\n              _context7.next = 13;\n              break;\n\n            case 10:\n              _context7.prev = 10;\n              _context7.t0 = _context7[\"catch\"](0);\n              console.log(_context7.t0);\n\n            case 13:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7, null, [[0, 10]]);\n    }));\n\n    return function unitDataList() {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var ShowValContainer = function ShowValContainer(_ref8) {\n    var type = _ref8.type,\n        showValue = _ref8.showValue;\n\n    if (idCardImgType.indexOf(type) > -1) {\n      type = 'image';\n    }\n\n    if (type == 'image' || type == 'voice' || type == 'video') {\n      showValue = showValue ? showValue.split(',') : [];\n    }\n\n    var getByType = function getByType() {\n      var template = null;\n\n      switch (type) {\n        case 'image':\n          template = __jsx(\"div\", {\n            className: \"imageBox\"\n          }, __jsx(_Image.PreviewGroup, null, showValue.map(function (src, i) {\n            return __jsx(_Image, {\n              src: src,\n              key: i\n            });\n          })));\n          break;\n\n        case 'video':\n          template = __jsx(_Row, {\n            gutter: 10\n          }, showValue.map(function (src, i) {\n            return __jsx(_Col, {\n              key: i\n            }, __jsx(\"video\", {\n              width: \"100\",\n              height: \"75\",\n              controls: true\n            }, __jsx(\"source\", {\n              src: src,\n              type: \"video/mp4\"\n            }), __jsx(\"source\", {\n              src: src,\n              type: \"video/ogg\"\n            }), \"\\u60A8\\u7684\\u6D4F\\u89C8\\u5668\\u4E0D\\u652F\\u6301Video\\u6807\\u7B7E\\u3002\"));\n          }));\n          break;\n\n        case 'voice':\n          template = __jsx(\"audio\", {\n            controls: true\n          }, __jsx(\"source\", {\n            src: showValue,\n            type: \"audio/ogg\"\n          }), __jsx(\"source\", {\n            src: showValue,\n            type: \"audio/mpeg\"\n          }), \"\\u60A8\\u7684\\u6D4F\\u89C8\\u5668\\u4E0D\\u652F\\u6301 audio \\u5143\\u7D20\\u3002\");\n          break;\n\n        default:\n          template = showValue;\n      }\n\n      return template;\n    };\n\n    return __jsx(React.Fragment, null, getByType());\n  };\n\n  var ContactList = function ContactList(props) {\n    var data = Array.isArray(props.data) ? _.cloneDeep(props.data) : [];\n    data = data.map(function (v, i) {\n      var arr = v.showValue ? v.showValue.split('|') : [];\n      return _objectSpread(_objectSpread({}, v), {}, {\n        userName: arr[0],\n        phoneNo: arr[1],\n        contactId: i\n      });\n    });\n    return __jsx(_Table, {\n      dataSource: data,\n      columns: contactInfoColumns,\n      pagination: false,\n      rowKey: function rowKey(record) {\n        return record.showValue + Math.random();\n      }\n    });\n  };\n\n  var contactInfoColumns = [{\n    title: '联系人姓名',\n    dataIndex: 'userName'\n  }, {\n    title: '联系电话',\n    dataIndex: 'phoneNo'\n  }, {\n    title: '联系人关系',\n    dataIndex: 'attrName'\n  }, {\n    title: '备注',\n    dataIndex: 'remark'\n  }, {\n    title: '操作',\n    dataIndex: 'cz',\n    render: function render(text, record, index) {\n      return __jsx(React.Fragment, null, flag ? __jsx(\"a\", {\n        onClick: function onClick() {\n          return remark(record);\n        }\n      }, \"\\u5907\\u6CE8\") : null);\n    }\n  }];\n  var courtColumns = [{\n    title: '序号',\n    dataIndex: 'name',\n    render: function render(text, record, index) {\n      return index + 1;\n    }\n  }, {\n    title: '失信案件发生时间',\n    dataIndex: 'datatime'\n  }, {\n    title: '失信案件执行类型',\n    dataIndex: 'datatype'\n  }, {\n    title: '失信案件执行法院',\n    dataIndex: 'court'\n  }, {\n    title: '失信案件执行标的',\n    dataIndex: 'money'\n  }, {\n    title: '失信案件生效法律文书确定的义务',\n    dataIndex: 'obligation'\n  }, {\n    title: '失信案件被执行人的履行情况',\n    dataIndex: 'performance'\n  }, {\n    title: '失信被执行人行为具体情形',\n    dataIndex: 'concretesituation'\n  }, {\n    title: '执行案件类型',\n    dataIndex: 'execDatatype'\n  }, {\n    title: '执行案件执行法院',\n    dataIndex: 'execCourt'\n  }, {\n    title: '执行案件立案时间',\n    dataIndex: 'execDatatime'\n  }, {\n    title: '执行案件标的',\n    dataIndex: 'execMoney'\n  }, {\n    title: '执行案件状态',\n    dataIndex: 'statute'\n  }, {\n    title: '执行案件做出执行依据的机构',\n    dataIndex: 'basiccourt'\n  }];\n\n  var remark = function remark(record) {\n    setRemarkVisible(true);\n    setNewRecord(record);\n  };\n\n  var ShowDescriptions = function ShowDescriptions(props) {\n    var list = props.data.list;\n    var template = Array.isArray(list) ? __jsx(_Descriptions, {\n      bordered: true\n    }, list.map(function (desc, desc_index) {\n      var values = desc.showValue;\n      var span = 1;\n\n      if (desc.attrType == 'image' || desc.attrType == 'voice' || desc.attrType == 'video') {\n        values = values ? values.split(',') : [];\n      }\n\n      if (Array.isArray(desc.list) && desc.list.length > 0 || desc.attrType == 'video' && Array.isArray(values) && values.length > 0) {\n        span = 3;\n      }\n\n      return __jsx(_Descriptions.Item, {\n        label: desc.attrName,\n        key: desc_index,\n        span: span\n      }, Array.isArray(desc.list) ? __jsx(ShowDescriptions, {\n        data: desc\n      }) : __jsx(ShowValContainer, {\n        type: desc.attrType,\n        showValue: desc.showValue\n      }));\n    })) : null;\n    return template;\n  };\n\n  var opUpdate = /*#__PURE__*/function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      var values;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return presentForm.validateFields();\n\n            case 2:\n              values = _context8.sent;\n\n              if (values.verifyResult == 'A') {\n                setPointVisible(true);\n                setOpUpdateData(values);\n              }\n\n              if (values.verifyResult == 'D') {\n                setRefuseVisible(true);\n              }\n\n            case 5:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function opUpdate() {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  var subMitFirst = /*#__PURE__*/function () {\n    var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n      var values, _yield$apiReview$fetc11, _yield$apiReview$fetc12, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.next = 2;\n              return presentForm.validateFields();\n\n            case 2:\n              values = _context9.sent;\n              _context9.prev = 3;\n              _context9.next = 6;\n              return apiReview.fetch_firstCredit_update(_objectSpread(_objectSpread({}, values), {}, {\n                creditId: props.router.query.creditId\n              }));\n\n            case 6:\n              _yield$apiReview$fetc11 = _context9.sent;\n              _yield$apiReview$fetc12 = _yield$apiReview$fetc11.data;\n              data = _yield$apiReview$fetc12.data;\n              code = _yield$apiReview$fetc12.code;\n\n              if (code == 0) {\n                _message.success('提交成功');\n\n                setPointVisible(false);\n                setRefuseVisible(false);\n                creditDetail();\n              }\n\n              _context9.next = 16;\n              break;\n\n            case 13:\n              _context9.prev = 13;\n              _context9.t0 = _context9[\"catch\"](3);\n              console.log(_context9.t0);\n\n            case 16:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, null, [[3, 13]]);\n    }));\n\n    return function subMitFirst() {\n      return _ref10.apply(this, arguments);\n    };\n  }();\n\n  var subMitReview = /*#__PURE__*/function () {\n    var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n      var values, _yield$apiReview$fetc13, _yield$apiReview$fetc14, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.next = 2;\n              return presentForm.validateFields();\n\n            case 2:\n              values = _context10.sent;\n              _context10.prev = 3;\n              _context10.next = 6;\n              return apiReview.fetch_reviewCredi_update(_objectSpread(_objectSpread({}, values), {}, {\n                creditId: props.router.query.creditId\n              }));\n\n            case 6:\n              _yield$apiReview$fetc13 = _context10.sent;\n              _yield$apiReview$fetc14 = _yield$apiReview$fetc13.data;\n              data = _yield$apiReview$fetc14.data;\n              code = _yield$apiReview$fetc14.code;\n\n              if (code == 0) {\n                _message.success('提交成功');\n\n                setPointVisible(false);\n                setRefuseVisible(false);\n                creditDetail();\n                setDisabled(true);\n              }\n\n              _context10.next = 16;\n              break;\n\n            case 13:\n              _context10.prev = 13;\n              _context10.t0 = _context10[\"catch\"](3);\n              console.log(_context10.t0);\n\n            case 16:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10, null, [[3, 13]]);\n    }));\n\n    return function subMitReview() {\n      return _ref11.apply(this, arguments);\n    };\n  }();\n\n  var subMitFinal = /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n      var values, _yield$apiReview$fetc15, _yield$apiReview$fetc16, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return presentForm.validateFields();\n\n            case 2:\n              values = _context11.sent;\n              _context11.prev = 3;\n              _context11.next = 6;\n              return apiReview.fetch_finishCredit_update(_objectSpread(_objectSpread({}, values), {}, {\n                creditId: props.router.query.creditId\n              }));\n\n            case 6:\n              _yield$apiReview$fetc15 = _context11.sent;\n              _yield$apiReview$fetc16 = _yield$apiReview$fetc15.data;\n              data = _yield$apiReview$fetc16.data;\n              code = _yield$apiReview$fetc16.code;\n\n              if (code == 0) {\n                _message.success('提交成功');\n\n                setPointVisible(false);\n                setRefuseVisible(false);\n                creditDetail();\n                setDisabled(true);\n              }\n\n              _context11.next = 16;\n              break;\n\n            case 13:\n              _context11.prev = 13;\n              _context11.t0 = _context11[\"catch\"](3);\n              console.log(_context11.t0);\n\n            case 16:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11, null, [[3, 13]]);\n    }));\n\n    return function subMitFinal() {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  var stashSub = /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {\n      var values, _yield$apiReview$fetc17, _yield$apiReview$fetc18, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n        while (1) {\n          switch (_context12.prev = _context12.next) {\n            case 0:\n              _context12.next = 2;\n              return presentForm.validateFields();\n\n            case 2:\n              values = _context12.sent;\n              console.log(values, '==');\n              _context12.prev = 4;\n              _context12.next = 7;\n              return apiReview.fetch_firstCredit_stash(_objectSpread(_objectSpread({}, values), {}, {\n                creditId: props.router.query.creditId\n              }));\n\n            case 7:\n              _yield$apiReview$fetc17 = _context12.sent;\n              _yield$apiReview$fetc18 = _yield$apiReview$fetc17.data;\n              data = _yield$apiReview$fetc18.data;\n              code = _yield$apiReview$fetc18.code;\n\n              if (code == 0) {\n                _message.success('暂存成功');\n\n                creditDetail();\n              }\n\n              _context12.next = 17;\n              break;\n\n            case 14:\n              _context12.prev = 14;\n              _context12.t0 = _context12[\"catch\"](4);\n              console.log(_context12.t0);\n\n            case 17:\n            case \"end\":\n              return _context12.stop();\n          }\n        }\n      }, _callee12, null, [[4, 14]]);\n    }));\n\n    return function stashSub() {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n\n  var backSub = /*#__PURE__*/function () {\n    var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13() {\n      var values, _yield$apiReview$fetc19, _yield$apiReview$fetc20, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              _context13.next = 2;\n              return presentForm.validateFields();\n\n            case 2:\n              values = _context13.sent;\n              _context13.prev = 3;\n              _context13.next = 6;\n              return apiReview.fetch_firstCredit_orderReturn(_objectSpread(_objectSpread({}, values), {}, {\n                creditId: props.router.query.creditId\n              }));\n\n            case 6:\n              _yield$apiReview$fetc19 = _context13.sent;\n              _yield$apiReview$fetc20 = _yield$apiReview$fetc19.data;\n              data = _yield$apiReview$fetc20.data;\n              code = _yield$apiReview$fetc20.code;\n\n              if (code == 0) {\n                _message.success('回退成功');\n\n                creditDetail();\n                setDisabled(true);\n              }\n\n              _context13.next = 16;\n              break;\n\n            case 13:\n              _context13.prev = 13;\n              _context13.t0 = _context13[\"catch\"](3);\n              console.log(_context13.t0);\n\n            case 16:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13, null, [[3, 13]]);\n    }));\n\n    return function backSub() {\n      return _ref14.apply(this, arguments);\n    };\n  }();\n\n  var riskColumns = [{\n    title: '序号',\n    key: 'sortNum',\n    width: 150,\n    render: function render(text, record, index) {\n      return index + 1;\n    }\n  }, {\n    title: '规则名称',\n    dataIndex: 'ruleName'\n  }, {\n    title: '规则设定',\n    dataIndex: 'scriptSource',\n    width: 150,\n    render: function render(text, record) {\n      return __jsx(\"div\", {\n        style: {\n          wordWrap: 'break-word',\n          wordBreak: 'break-word'\n        }\n      }, text);\n    }\n  }, {\n    title: '命中详情',\n    dataIndex: 'fieldValueStrL',\n    width: 150,\n    render: function render(text, record) {\n      return __jsx(\"div\", {\n        style: {\n          wordWrap: 'break-word',\n          wordBreak: 'break-word'\n        }\n      }, text);\n    }\n  }, {\n    title: '满足条件是否通过',\n    dataIndex: 'expectedValue',\n    width: 150,\n    render: function render(text, record, index) {\n      return text ? '通过' : '拒绝';\n    }\n  }, {\n    title: '命中结果',\n    dataIndex: 'result',\n    width: 150,\n    render: function render(text, record, index) {\n      return text ? '命中' : '未命中';\n    }\n  }, {\n    title: '操作',\n    key: 'cz',\n    width: 150,\n    fixed: 'right',\n    render: function render(text, record, index) {\n      return record.actionCode == 'Blacklist_rule_set-RF_403' || record.actionCode == 'Blacklist_limit_rule_set-RFL_403' ? __jsx(_Button, {\n        type: \"link\",\n        onClick: function onClick() {\n          return checkDetail(record);\n        }\n      }, \"\\u67E5\\u770B\\u8BE6\\u60C5\") : '-';\n    }\n  }];\n  var relationColumns = [{\n    title: '序号',\n    key: 'sortNum',\n    width: 50,\n    render: function render(text, record, index) {\n      return index + 1;\n    }\n  }, {\n    title: '关联人姓名',\n    dataIndex: 'name'\n  }, {\n    title: '关联原因',\n    dataIndex: 'reason'\n  }, {\n    title: '关联人身份证',\n    dataIndex: 'idCard'\n  }, {\n    title: '关联人手机号',\n    dataIndex: 'phone'\n  }, {\n    title: '申请过的产品',\n    dataIndex: 'products'\n  }, {\n    title: '累计授信额度',\n    dataIndex: 'totalCreditAmount'\n  }, {\n    title: '累计放款金额',\n    dataIndex: 'totalGrantAmount'\n  }];\n\n  var checkDetail = function checkDetail(record) {\n    var url = \"/credit/examine/detail/riskTable?name=\".concat(userInfoList.name, \"&orderId=\").concat(props.router.query.orderId, \"&idCard=\").concat(userInfoList.certNo, \"&mobile=\").concat(userInfoList.phone, \"&userType=\").concat(record.userType);\n    Router.push(url);\n  };\n\n  var bookRecord = function bookRecord() {\n    var url = \"/credit/examine/detail/bookRecord?userId=\".concat(detailData.userId);\n    Router.push(url);\n  };\n\n  var sendEms = /*#__PURE__*/function () {\n    var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14() {\n      var _yield$apiReview$fetc21, _yield$apiReview$fetc22, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              _context14.prev = 0;\n              _context14.next = 3;\n              return apiReview.fetch_sendSms_send({\n                creditId: props.router.query.creditId\n              });\n\n            case 3:\n              _yield$apiReview$fetc21 = _context14.sent;\n              _yield$apiReview$fetc22 = _yield$apiReview$fetc21.data;\n              data = _yield$apiReview$fetc22.data;\n              code = _yield$apiReview$fetc22.code;\n\n              if (code == 0) {\n                _message.success('短信发送成功');\n              }\n\n              _context14.next = 13;\n              break;\n\n            case 10:\n              _context14.prev = 10;\n              _context14.t0 = _context14[\"catch\"](0);\n              console.log(_context14.t0);\n\n            case 13:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, _callee14, null, [[0, 10]]);\n    }));\n\n    return function sendEms() {\n      return _ref15.apply(this, arguments);\n    };\n  }();\n\n  var addPeopleOk = /*#__PURE__*/function () {\n    var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15() {\n      var values, _yield$apiReview$fetc23, _yield$apiReview$fetc24, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n        while (1) {\n          switch (_context15.prev = _context15.next) {\n            case 0:\n              _context15.next = 2;\n              return peopleForm.validateFields();\n\n            case 2:\n              values = _context15.sent;\n              _context15.prev = 3;\n              _context15.next = 6;\n              return apiReview.fetch_linkman_update(_objectSpread(_objectSpread({}, values), {}, {\n                creditId: props.router.query.creditId,\n                changeType: 1\n              }));\n\n            case 6:\n              _yield$apiReview$fetc23 = _context15.sent;\n              _yield$apiReview$fetc24 = _yield$apiReview$fetc23.data;\n              data = _yield$apiReview$fetc24.data;\n              code = _yield$apiReview$fetc24.code;\n\n              if (code == 0) {\n                _message.success('新增联系人成功');\n\n                setAddPeopleVisible(false);\n                creditDetail();\n              }\n\n              _context15.next = 16;\n              break;\n\n            case 13:\n              _context15.prev = 13;\n              _context15.t0 = _context15[\"catch\"](3);\n              console.log(_context15.t0);\n\n            case 16:\n            case \"end\":\n              return _context15.stop();\n          }\n        }\n      }, _callee15, null, [[3, 13]]);\n    }));\n\n    return function addPeopleOk() {\n      return _ref16.apply(this, arguments);\n    };\n  }();\n\n  var handleRemark = /*#__PURE__*/function () {\n    var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16() {\n      var values, _yield$apiReview$fetc25, _yield$apiReview$fetc26, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n        while (1) {\n          switch (_context16.prev = _context16.next) {\n            case 0:\n              _context16.next = 2;\n              return remarkForm.validateFields();\n\n            case 2:\n              values = _context16.sent;\n              _context16.prev = 3;\n              _context16.next = 6;\n              return apiReview.fetch_linkman_update(_objectSpread(_objectSpread({}, values), {}, {\n                creditId: props.router.query.creditId,\n                changeType: 0,\n                linkmanName: newRecord.userName,\n                linkmanRelship: newRecord.attrName,\n                linkmanNo: newRecord.phoneNo\n              }));\n\n            case 6:\n              _yield$apiReview$fetc25 = _context16.sent;\n              _yield$apiReview$fetc26 = _yield$apiReview$fetc25.data;\n              data = _yield$apiReview$fetc26.data;\n              code = _yield$apiReview$fetc26.code;\n\n              if (code == 0) {\n                _message.success('备注成功');\n\n                setRemarkVisible(false);\n                creditDetail();\n                remarkForm.resetFields();\n              }\n\n              _context16.next = 16;\n              break;\n\n            case 13:\n              _context16.prev = 13;\n              _context16.t0 = _context16[\"catch\"](3);\n              console.log(_context16.t0);\n\n            case 16:\n            case \"end\":\n              return _context16.stop();\n          }\n        }\n      }, _callee16, null, [[3, 13]]);\n    }));\n\n    return function handleRemark() {\n      return _ref17.apply(this, arguments);\n    };\n  }();\n\n  var investigate = function investigate() {\n    setVisible(true);\n  };\n\n  var onAddRemark = /*#__PURE__*/function () {\n    var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(investigationModal) {\n      var values, _yield$apiReview$fetc27, _yield$apiReview$fetc28, data, code;\n\n      return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n        while (1) {\n          switch (_context17.prev = _context17.next) {\n            case 0:\n              _context17.next = 2;\n              return investigationModal.validateFields();\n\n            case 2:\n              values = _context17.sent;\n              console.log(values, '---');\n              _context17.prev = 4;\n              _context17.next = 7;\n              return apiReview.fetch_creditSurvey_update({\n                id: Number(props.router.query.creditId),\n                remark: values.note\n              });\n\n            case 7:\n              _yield$apiReview$fetc27 = _context17.sent;\n              _yield$apiReview$fetc28 = _yield$apiReview$fetc27.data;\n              data = _yield$apiReview$fetc28.data;\n              code = _yield$apiReview$fetc28.code;\n\n              if (code == 0) {\n                _message.success('下户调查成功');\n\n                setVisible(false);\n                creditDetail();\n              }\n\n              _context17.next = 17;\n              break;\n\n            case 14:\n              _context17.prev = 14;\n              _context17.t0 = _context17[\"catch\"](4);\n              console.log(_context17.t0);\n\n            case 17:\n            case \"end\":\n              return _context17.stop();\n          }\n        }\n      }, _callee17, null, [[4, 14]]);\n    }));\n\n    return function onAddRemark(_x4) {\n      return _ref18.apply(this, arguments);\n    };\n  }();\n\n  var spread = function spread() {\n    setIsCollapse(true);\n    window.localStorage.setItem('spreadId', '111');\n  };\n\n  return __jsx(Layout, {\n    isGray: true,\n    breadcrumbs: breadcrumbs\n  }, __jsx(_Card, null, __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 12\n  }, __jsx(_Avatar, {\n    size: 60,\n    icon: __jsx(UserOutlined, null)\n  }), __jsx(\"span\", {\n    style: {\n      fontWeight: 'bold',\n      fontSize: 24,\n      padding: 10\n    }\n  }, detailData.name)), __jsx(_Col, {\n    span: 12\n  }, __jsx(\"p\", {\n    style: {\n      fontWeight: 'bold',\n      fontSize: 26,\n      marginLeft: 250\n    }\n  }, \"\\u4FE1\\u5BA1\\u5355\\u53F7\\uFF1A\", detailData.creditNum))), __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: flag ? 5 : 3\n  }, __jsx(\"span\", null, \"\\u8054\\u7CFB\\u7535\\u8BDD\\uFF1A\", detailData.phone, flag ? __jsx(\"a\", {\n    onClick: sendEms\n  }, \"\\uFF08\\u53D1\\u9001\\u81F4\\u7535\\u524D\\u77ED\\u4FE1\\uFF09\") : null)), __jsx(_Col, {\n    span: 3\n  }, __jsx(\"span\", null, \"\\u4EA7\\u54C1\\u540D\\u79F0:\", detailData.productName)), __jsx(_Col, {\n    span: 4\n  }, __jsx(\"span\", null, \"\\u6388\\u4FE1\\u65E5\\u671F\\uFF1A\", detailData.creditTime)), __jsx(_Col, {\n    span: 3\n  }, __jsx(\"span\", null, \"\\u673A\\u5BA1\\u6388\\u4FE1\\u91D1\\u989D:\", detailData.policyLoanAmount)), __jsx(_Col, {\n    span: 3\n  }, __jsx(\"span\", null, \"\\u673A\\u5BA1\\u6388\\u4FE1\\u5229\\u7387:\", detailData.policyLoanRate)), __jsx(_Col, {\n    span: 3\n  }, __jsx(\"span\", null, \"\\u4EBA\\u5BA1\\u6388\\u4FE1\\u91D1\\u989D:\", detailData.creditAmount)), __jsx(_Col, {\n    span: 3\n  }, __jsx(\"span\", null, \"\\u4EBA\\u5BA1\\u6388\\u4FE1\\u5229\\u7387:\", detailData.yearRate)))), __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 16\n  }, __jsx(_Card, {\n    title: \"\\u98CE\\u9669\\u6807\\u7B7E\",\n    headStyle: {\n      paddingLeft: 20,\n      fontWeight: 700,\n      fontSize: 18,\n      paddingBottom: -60\n    },\n    style: {\n      padding: '0 30px',\n      marginTop: 20\n    }\n  }, Array.isArray(riskLable) && riskLable.length > 0 ? __jsx(\"div\", null, riskLable && riskLable.map(function (item, index) {\n    return __jsx(_Tag, {\n      color: \"red\"\n    }, item);\n  })) : __jsx(\"p\", null, \"\\u65E0\")), __jsx(\"div\", {\n    style: {\n      height: '100%',\n      marginTop: 20\n    }\n  }, __jsx(_Card, null, __jsx(_Tabs, {\n    animated: {\n      tabPane: true\n    },\n    activeKey: defaultActiveKey,\n    onTabClick: function onTabClick(key) {\n      return setDefaultActiveKey(key);\n    }\n  }, Array.isArray(infoData) && infoData.map(function (v, i) {\n    var key = i + 1 + '';\n    return __jsx(TabPane, {\n      tab: v.catName,\n      key: key\n    }, __jsx(_Card, {\n      title: v.catName\n    }, Array.isArray(v.secondLList) && v.secondLList.length > 0 ? v.secondLList.map(function (s_item, s_index) {\n      return __jsx(_Card, {\n        style: {\n          marginBottom: 15\n        },\n        key: s_index,\n        type: \"inner\",\n        title: s_item.catName\n      }, s_item.catType === 'cat_ocr' && __jsx(_Image.PreviewGroup, null, __jsx(_Row, {\n        gutter: 25\n      }, Array.isArray(s_item.list) && s_item.list.filter(function (img) {\n        return idCardImgType.indexOf(img.attrType) > -1;\n      }).map(function (img, img_index) {\n        return __jsx(_Col, {\n          flex: \"0 0 200\",\n          key: img_index\n        }, __jsx(_Image, {\n          width: 200,\n          height: 150,\n          src: img.showValue\n        }), __jsx(\"div\", {\n          className: styles.imgTime\n        }, img.updateTime || '-'));\n      }))), s_item.catType === 'before_loan_check' && __jsx(_Descriptions, {\n        bordered: true\n      }, Array.isArray(s_item.list) && s_item.list.map(function (vi, i) {\n        {\n          Array.isArray(vi.list);\n          return __jsx(_Descriptions.Item, {\n            label: vi.attrName,\n            key: i,\n            span: 2\n          }, Array.isArray(vi.list) ? __jsx(\"div\", null, vi.list.map(function (attr, index) {\n            var showTemp = attr.showValue;\n            var type = attr.attrType;\n\n            if (type == 'image' || type == 'voice' || type == 'video') {\n              var showValue = attr.showValue ? attr.showValue.split(',') : [];\n              showTemp = __jsx(Media, {\n                type: type,\n                data: showValue\n              });\n            }\n\n            return __jsx(_Descriptions, {\n              bordered: true\n            }, __jsx(_Descriptions.Item, {\n              label: attr.attrName,\n              key: index\n            }, showTemp));\n          })) : __jsx(\"div\", null, vi.showValue));\n        }\n      })), s_item.catType === 'cat_contact' && __jsx(\"div\", null, __jsx(\"span\", null, flag ? __jsx(_Button, {\n        type: \"primary\",\n        style: {\n          marginBottom: 10\n        },\n        onClick: function onClick() {\n          return setAddPeopleVisible(true);\n        }\n      }, \"\\u65B0\\u589E\\u8054\\u7CFB\\u4EBA\") : null), __jsx(ContactList, {\n        data: s_item.list\n      })), s_item.catType !== 'cat_ocr' && s_item.catType !== 'before_loan_check' && s_item.catType !== 'cat_contact' && __jsx(ShowDescriptions, {\n        data: s_item\n      }));\n    }) : __jsx(\"p\", null, \"\\u65E0\")));\n  }), __jsx(TabPane, {\n    tab: \"\\u98CE\\u63A7\\u51B3\\u7B56\",\n    key: \"tab\"\n  }, __jsx(_Card, {\n    title: \"\\u98CE\\u63A7\\u51B3\\u7B56\"\n  }, Array.isArray(detailData.riskList) && detailData.riskList.length > 0 ? detailData.riskList.map(function (riskItem, i) {\n    var list = Array.isArray(riskItem.riskBaseInfoList) ? riskItem.riskBaseInfoList.map(function (v, i) {\n      v.riskId = i;\n      v.userType = riskItem.userType;\n      return v;\n    }) : [];\n    return __jsx(\"div\", {\n      className: styles.fkjc,\n      key: i\n    }, __jsx(\"h3\", {\n      className: \"title\"\n    }, riskItem.userType == 1 ? '借款人' : '借款人配偶'), __jsx(_Row, {\n      gutter: 24,\n      className: \"desc\"\n    }, __jsx(_Col, null, \"\\u6267\\u884C\\u6761\\u6570\\uFF1A\", riskItem.resultCount), __jsx(_Col, null, \"\\u547D\\u4E2D\\u62D2\\u7EDD\\uFF1A\", riskItem.denyCount)), __jsx(_Table, {\n      dataSource: list,\n      columns: riskColumns,\n      pagination: false,\n      bordered: true,\n      rowKey: function rowKey(record) {\n        return record.ruleName + Math.random();\n      }\n    }));\n  }) : __jsx(\"p\", null, \"\\u65E0\"))), __jsx(TabPane, {\n    tab: \"\\u5173\\u8054\\u60C5\\u51B5\",\n    key: \"relation\"\n  }, __jsx(_Card, {\n    title: \"\\u5173\\u8054\\u60C5\\u51B5\"\n  }, Array.isArray(detailData.relevanceInfoList) && detailData.relevanceInfoList.length > 0 ? __jsx(_Table, {\n    dataSource: detailData.relevanceInfoList,\n    columns: relationColumns,\n    pagination: false,\n    bordered: true,\n    rowKey: function rowKey(record) {\n      return record.name + Math.random();\n    }\n  }) : __jsx(\"p\", null, \"\\u65E0\"))))))), __jsx(_Col, {\n    span: 8,\n    style: {\n      height: '100%'\n    }\n  }, __jsx(_Card, {\n    title: \"\\u4FE1\\u5BA1\\u7B56\\u7565\",\n    extra: !isCollapse ? __jsx(\"a\", {\n      onClick: spread\n    }, \"\\u5C55\\u5F00 \", __jsx(DownOutlined, null)) : __jsx(\"a\", {\n      onClick: function onClick() {\n        return setIsCollapse(false);\n      }\n    }, \"\\u6536\\u8D77\\xA0\", __jsx(UpOutlined, null)),\n    headStyle: {\n      paddingLeft: 5,\n      fontWeight: 700,\n      fontSize: 18,\n      paddingBottom: -60\n    },\n    style: {\n      paddingLeft: 30,\n      marginTop: 20,\n      zIndex: 2,\n      height: '100%'\n    }\n  }, isCollapse ? __jsx(\"div\", {\n    style: {\n      height: '100%'\n    },\n    dangerouslySetInnerHTML: {\n      __html: detailData.strategy\n    }\n  }) : null), __jsx(_Form, {\n    form: presentForm\n  }, __jsx(_Card, {\n    title: \"\\u7167\\u4F1A\\u6CE8\\u8BB0\",\n    bordered: true\n  }, __jsx(_Form.Item, {\n    label: \"\\u672C\\u4EBA\",\n    name: \"noteOneself\",\n    rules: [{\n      required: true,\n      message: '请先选择'\n    }]\n  }, __jsx(_Select, {\n    getPopupContainer: function getPopupContainer(triggerNode) {\n      return triggerNode.parentNode;\n    }\n  }, __jsx(_Select.Option, {\n    value: null\n  }, \"\\u8BF7\\u9009\\u62E9\"), primaryContactData.map(function (v, i) {\n    return __jsx(_Select.Option, {\n      key: i,\n      value: v.code\n    }, v.description);\n  }))), __jsx(_Form.Item, {\n    label: \"\\u4E3B\\u8981\\u8054\\u7CFB\\u4EBA\",\n    name: \"noteContactMain\",\n    rules: [{\n      required: true,\n      message: '请先选择'\n    }]\n  }, __jsx(_Select, {\n    getPopupContainer: function getPopupContainer(triggerNode) {\n      return triggerNode.parentNode;\n    }\n  }, __jsx(_Select.Option, {\n    value: null\n  }, \"\\u8BF7\\u9009\\u62E9\"), primaryContactData.map(function (v, i) {\n    return __jsx(_Select.Option, {\n      key: i,\n      value: v.code\n    }, v.description);\n  }))), __jsx(_Form.Item, {\n    label: \"\\u6B21\\u8981\\u8054\\u7CFB\\u4EBA\",\n    name: \"noteContactMinor\",\n    rules: [{\n      required: true,\n      message: '请先选择'\n    }]\n  }, __jsx(_Select, {\n    getPopupContainer: function getPopupContainer(triggerNode) {\n      return triggerNode.parentNode;\n    }\n  }, __jsx(_Select.Option, {\n    value: null\n  }, \"\\u8BF7\\u9009\\u62E9\"), primaryContactData.map(function (v, i) {\n    return __jsx(_Select.Option, {\n      key: i,\n      value: v.code\n    }, v.description);\n  }))), __jsx(_Form.Item, {\n    label: \"\\u5355\\u4F4D\",\n    name: \"noteCompany\",\n    rules: [{\n      required: true,\n      message: '请先选择'\n    }]\n  }, __jsx(_Select, {\n    getPopupContainer: function getPopupContainer(triggerNode) {\n      return triggerNode.parentNode;\n    }\n  }, __jsx(_Select.Option, {\n    value: null\n  }, \"\\u8BF7\\u9009\\u62E9\"), unitData.map(function (v, i) {\n    return __jsx(_Select.Option, {\n      key: i,\n      value: v.code\n    }, v.description);\n  }))), __jsx(_Form.Item, {\n    label: \"\\u7167\\u4F1A\\u6CE8\\u8BB0\",\n    name: \"noteRemark\"\n  }, __jsx(_Input.TextArea, null)), flag ? __jsx(_Button, {\n    disabled: infoData.surveyStatus == 1 ? true : false,\n    type: \"primary\",\n    style: {\n      \"float\": 'right'\n    }\n  }, infoData.surveyStatus == 1 ? __jsx(\"span\", null, \"\\u8C03\\u67E5\\u4E2D\") : infoData.surveyStatus == 0 || infoData.surveyStatus == null ? __jsx(\"span\", {\n    onClick: investigate\n  }, \"\\u53D1\\u8D77\\u4E0B\\u6237\\u8C03\\u67E5\") : __jsx(\"span\", null, \"\\u8C03\\u67E5\\u5B8C\\u6210\")) : null), __jsx(_Card, {\n    title: \"\\u4FE1\\u5BA1\\u7ED3\\u8BBA\",\n    bordered: true,\n    style: {\n      marginTop: 20\n    }\n  }, __jsx(_Form.Item, {\n    label: \"\\u7ED3\\u8BBA\",\n    name: \"verifyResult\",\n    rules: [{\n      required: true,\n      message: '请先选择'\n    }]\n  }, __jsx(_Select, {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: \"A\"\n  }, \"\\u901A\\u8FC7\"), __jsx(_Select.Option, {\n    value: \"D\"\n  }, \"\\u62D2\\u7EDD\"))), __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, currentValues) {\n      return prevValues.verifyResult !== currentValues.verifyResult;\n    }\n  }, function (_ref19) {\n    var getFieldValue = _ref19.getFieldValue;\n    return getFieldValue('verifyResult') == 'D' && __jsx(React.Fragment, null, __jsx(_Form.Item, {\n      label: \"\\u62D2\\u7EDD\\u7C7B\\u578B\",\n      name: \"reasonType\",\n      rules: [{\n        required: true,\n        message: '请选择拒绝类型'\n      }]\n    }, __jsx(_Select, {\n      placeholder: \"\\u8BF7\\u9009\\u62E9\",\n      getPopupContainer: function getPopupContainer(triggerNode) {\n        return triggerNode.parentNode;\n      }\n    }, rejectCodes && rejectCodes.length && rejectCodes.map(function (v) {\n      return __jsx(_Select.Option, {\n        value: v.rejectType,\n        key: v.rejectType\n      }, v.rejectTypeName);\n    }))), __jsx(_Form.Item, {\n      noStyle: true,\n      shouldUpdate: function shouldUpdate(prevValues, currentValues) {\n        return prevValues.reasonType !== currentValues.reasonType;\n      }\n    }, function (_ref20) {\n      var getFieldValue = _ref20.getFieldValue;\n      return __jsx(_Form.Item, {\n        label: \"\\u62D2\\u7EDD\\u539F\\u56E0\",\n        name: \"verifyResultReason\",\n        rules: [{\n          required: true,\n          message: '请选择拒绝原因'\n        }]\n      }, __jsx(_Select, {\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        getPopupContainer: function getPopupContainer(triggerNode) {\n          return triggerNode.parentNode;\n        }\n      }, function () {\n        var findOne = rejectCodes && rejectCodes.length && rejectCodes.filter(function (one) {\n          return one.rejectType == getFieldValue('reasonType');\n        });\n        return findOne && findOne.length && findOne[0].rejectCodeList.map(function (v) {\n          return __jsx(_Select.Option, {\n            value: v.rejectCode,\n            key: v.rejectCode\n          }, v.rejectName);\n        });\n      }()));\n    }));\n  }), __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, currentValues) {\n      return prevValues.verifyResult !== currentValues.verifyResult;\n    }\n  }, function (_ref21) {\n    var getFieldValue = _ref21.getFieldValue;\n    return getFieldValue('verifyResult') == 'A' && __jsx(React.Fragment, null, __jsx(_Form.Item, {\n      label: \"\\u6388\\u4FE1\\u989D\\u5EA6\",\n      name: \"policyLoanAmount\",\n      extra: __jsx(\"span\", null, \"\\u6CE8\\uFF1A\\u6B65\\u957F\\u4E3A:\", __jsx(\"span\", {\n        style: {\n          color: '#339dff'\n        }\n      }, \"1000\"), \"\\uFF0C\\u8BF7\\u6309\\u7167\\u6B65\\u957F\\u89C4\\u5219\\u4FEE\\u6539\\u6388\\u4FE1\\u989D\\u5EA6\\u3002\"),\n      rules: [{\n        required: true,\n        message: '请输入授信额度'\n      }, function (_ref22) {\n        var getFieldValue = _ref22.getFieldValue;\n        return {\n          validator: function validator(rule, value) {\n            if (value && value % 1000 != 0) {\n              return Promise.reject('请注意步长为1000，请重新输入');\n            }\n\n            return Promise.resolve();\n          }\n        };\n      }]\n    }, __jsx(_InputNumber, {\n      step: 100,\n      style: {\n        width: '100%'\n      }\n    })), __jsx(_Form.Item, {\n      label: \"\\u5E74\\u5229\\u7387\" // name=\"policyLoanRate\"\n      // rules={[{required: true, message: '请输入授信利率'}]}\n\n    }, __jsx(_Input, {\n      value: creditResult.policyLoanRate,\n      disabled: true,\n      suffix: \"%\"\n    })));\n  }), __jsx(_Form.Item, {\n    label: \"\\u7ED3\\u8BBA\\u5907\\u6CE8\",\n    name: \"resultRemark\"\n  }, __jsx(_Input.TextArea, null)), flag ? __jsx(\"div\", {\n    style: {\n      \"float\": 'right'\n    }\n  }, flag == 1 ? __jsx(_Button, {\n    type: \"primary\",\n    onClick: stashSub,\n    disabled: disabled\n  }, \"\\u6682 \\u5B58\") : flag == 2 || flag == 3 ? __jsx(_Button, {\n    type: \"primary\",\n    onClick: backSub,\n    disabled: disabled\n  }, \"\\u56DE \\u9000\") : null, __jsx(_Button, {\n    disabled: disabled,\n    type: \"primary\",\n    style: {\n      marginLeft: 10,\n      backgroundColor: '#70b603'\n    },\n    onClick: opUpdate\n  }, \"\\u63D0 \\u4EA4\")) : null)), __jsx(_Card, {\n    title: \"\\u7ED3\\u8BBA\\u5907\\u6CE8\\u5386\\u53F2\",\n    bordered: true,\n    style: {\n      marginTop: 20\n    }\n  }, __jsx(_Table, {\n    columns: remarkColums,\n    dataSource: remarkStatus,\n    pagination: false,\n    rowKey: function rowKey(record) {\n      return record.updateTime + Math.random();\n    },\n    footer: function footer() {\n      return __jsx(\"div\", {\n        style: {\n          textAlign: 'center'\n        }\n      }, {\n        init: __jsx(\"a\", {\n          onClick: loadMore\n        }, \"\\u67E5\\u770B\\u66F4\\u591A\"),\n        loading: __jsx(\"a\", null, \"\\u52A0\\u8F7D\\u4E2D\"),\n        noMore: __jsx(\"span\", null, \"\\u6570\\u636E\\u5DF2\\u52A0\\u8F7D\\u5B8C\\u6210\")\n      }[loadState]);\n    }\n  })), __jsx(_Card, {\n    title: \"\\u72B6\\u6001\\u5386\\u53F2\",\n    bordered: true,\n    style: {\n      marginTop: 20\n    }\n  }, __jsx(_Table, {\n    columns: historyColumns,\n    dataSource: statusHistoryList,\n    pagination: false,\n    rowKey: function rowKey(record) {\n      return record.updateTime + Math.random();\n    },\n    footer: function footer() {\n      return __jsx(\"div\", {\n        style: {\n          textAlign: 'center'\n        }\n      }, {\n        init: __jsx(\"a\", {\n          onClick: lookMore\n        }, \"\\u67E5\\u770B\\u66F4\\u591A\"),\n        loading: __jsx(\"a\", null, \"\\u52A0\\u8F7D\\u4E2D\"),\n        noMore: __jsx(\"span\", null, \"\\u6570\\u636E\\u5DF2\\u52A0\\u8F7D\\u5B8C\\u6210\")\n      }[loadStateHis]);\n    }\n  })))), __jsx(_Modal, {\n    visible: remarkVisible,\n    title: \"\\u5907\\u6CE8\",\n    onCancel: function onCancel() {\n      return setRemarkVisible(false);\n    },\n    onOk: handleRemark,\n    destroyOnClose: true,\n    maskClosable: false\n  }, __jsx(_Form, {\n    form: remarkForm,\n    name: remarkForm\n  }, __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u4EBA\\u5907\\u6CE8\",\n    name: \"remark\"\n  }, __jsx(_Input.TextArea, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })))), __jsx(_Modal, {\n    visible: addPeopleVisible,\n    title: \"\\u65B0\\u589E\\u8054\\u7CFB\\u4EBA\",\n    onCancel: function onCancel() {\n      return setAddPeopleVisible(false);\n    },\n    onOk: addPeopleOk\n  }, __jsx(_Form, {\n    form: peopleForm,\n    name: peopleForm\n  }, __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u4EBA\\u59D3\\u540D\",\n    name: \"linkmanName\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u7535\\u8BDD\",\n    name: \"linkmanNo\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u4EBA\\u5173\\u7CFB\",\n    name: \"linkmanRelship\"\n  }, __jsx(_Input, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  })))), __jsx(_Modal, {\n    title: \"\\u8BE6\\u60C5\",\n    width: \"80%\",\n    footer: null,\n    onCancel: function onCancel() {\n      return setShowCourt(false);\n    },\n    visible: showCourt\n  }, __jsx(_Table, {\n    dataSource: courtData,\n    columns: courtColumns,\n    pagination: false,\n    bordered: true,\n    rowKey: function rowKey(record) {\n      return record.datatime + Math.random();\n    }\n  })), __jsx(_Modal, {\n    title: \"\\u63D0\\u793A\",\n    visible: pointVisible,\n    onCancel: function onCancel() {\n      setPointVisible(false);\n    },\n    onOk: flag == 2 ? subMitReview : flag == 3 ? subMitFinal : subMitFirst\n  }, __jsx(\"p\", null, \"\\u786E\\u5B9A\\u7ED9\\u4E0E\\u6B64\\u7528\\u6237\\u901A\\u8FC7\\u5417\\uFF1F\"), __jsx(\"p\", null, \"\\u6388\\u4FE1\\u989D\\u5EA6:\\xA0\", __jsx(\"span\", {\n    style: {\n      color: '#df273e'\n    }\n  }, opUpdateData.policyLoanAmount)), __jsx(\"p\", null, \"\\u5E74\\u5229\\u7387:\\xA0\", __jsx(\"span\", {\n    style: {\n      color: '#df273e'\n    }\n  }, creditResult.policyLoanRate, \"%\"))), __jsx(_Modal, {\n    title: \"\\u63D0\\u793A\",\n    visible: refuseVisible,\n    onCancel: function onCancel() {\n      setRefuseVisible(false);\n    },\n    onOk: flag == 2 ? subMitReview : flag == 3 ? subMitFinal : subMitFirst\n  }, __jsx(\"p\", null, \"\\u786E\\u5B9A\\u7ED9\\u4E0E\\u6B64\\u7528\\u6237\\u62D2\\u7EDD\\u5417\\uFF1F\")), __jsx(InvestigationModal, {\n    visible: visible,\n    onHide: function onHide() {\n      return setVisible(false);\n    },\n    selectItem: Number(props.router.query.creditId),\n    onSubmit: onAddRemark\n  }));\n}\n\nbody.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee18() {\n  return _regeneratorRuntime.wrap(function _callee18$(_context18) {\n    while (1) {\n      switch (_context18.prev = _context18.next) {\n        case 0:\n          return _context18.abrupt(\"return\", {});\n\n        case 1:\n        case \"end\":\n          return _context18.stop();\n      }\n    }\n  }, _callee18);\n}));\nexport default withRouter(body);","map":null,"metadata":{},"sourceType":"module"}