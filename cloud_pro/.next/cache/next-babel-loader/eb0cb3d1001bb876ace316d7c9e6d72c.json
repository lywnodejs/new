{"ast":null,"code":"import \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/switch/style\";\nimport _Switch from \"antd/lib/switch\";\nimport \"antd/lib/card/style\";\nimport _Card from \"antd/lib/card\";\nimport \"antd/lib/space/style\";\nimport _Space from \"antd/lib/space\";\nimport \"antd/lib/row/style\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/input-number/style\";\nimport _InputNumber from \"antd/lib/input-number\";\nimport \"antd/lib/col/style\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/select/style\";\nimport _Select from \"antd/lib/select\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/tooltip/style\";\nimport _Tooltip from \"antd/lib/tooltip\";\nimport \"antd/lib/message/style\";\nimport _message from \"antd/lib/message\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { Layout } from '~/components/Layout';\nimport React, { useEffect, useState } from 'react';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { useCookies } from 'react-cookie';\nimport Router, { withRouter } from 'next/router';\nimport api from '~/api/product';\nimport { CREDIT_TYPE } from '~/utils/const';\nconst breadcrumbs = [{\n  text: '产品管理'\n}, {\n  text: '编辑产品信息'\n}];\n\nfunction body(props) {\n  const [cookies] = useCookies(['tenantId']);\n  const {\n    0: detail,\n    1: setDetail\n  } = useState([]);\n\n  const [informationForm] = _Form.useForm();\n\n  const [extraInformationForm] = _Form.useForm();\n\n  const [yunYingForm] = _Form.useForm();\n\n  useEffect(() => {\n    async function fetchData() {\n      // fetchList()\n      if (props.router.query.id !== 'new') {\n        fetchList();\n      } else {\n        extraInformationForm.setFieldsValue({\n          gracePeriod: false\n        });\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const fetchList = async () => {\n    try {\n      const {\n        data: {\n          data,\n          code\n        }\n      } = await api.get_product_detail(props.router.query.id);\n\n      if (code === 0) {\n        console.log(data); // data.newuserLimitExpireTimeUnit = String(\n        //   data.newuserLimitExpireTimeUnit,\n        // )\n        // data.olduserLimitExpireTimeUnit = String(\n        //   data.olduserLimitExpireTimeUnit,\n        // )\n        // data.isStopInterest = String(data.isStopInterest)\n\n        data.repayDay = data.fixedDeductDate == 0 ? 2 : 1;\n        data.gracePeriod = !!data.gracePeriod;\n        informationForm.setFieldsValue(data);\n        extraInformationForm.setFieldsValue(data);\n        yunYingForm.setFieldsValue(data);\n        setDetail(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const onSubmit = async () => {\n    const getForm1 = informationForm.validateFields;\n    const getForm2 = extraInformationForm.validateFields;\n    const getForm3 = yunYingForm.validateFields;\n    Promise.all([getForm1(), getForm2(), getForm3()]).then(async ([_ref, values2, values3]) => {\n      let {\n        repayDay\n      } = _ref,\n          values1 = _objectWithoutProperties(_ref, [\"repayDay\"]);\n\n      if (repayDay == 2) {\n        values1.fixedDeductDate = 0;\n      }\n\n      const params = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, values1), values2), values3), {}, {\n        // stepAmount: 100,\n        tenantId: cookies.tenantId\n      });\n\n      let requestFun = null;\n\n      if (props.router.query.id !== 'new') {\n        params.id = props.router.query.id;\n        requestFun = api.edit_product;\n      } else {\n        requestFun = api.add_product;\n      }\n\n      try {\n        const {\n          data: {\n            data,\n            code\n          }\n        } = await requestFun(params);\n\n        if (code == 0) {\n          _message.success('编辑成功');\n\n          Router.back();\n        }\n      } catch (errorInfo) {\n        console.log('Failed:', errorInfo);\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  const changeExpireTimeUnit = val => {\n    informationForm.setFieldsValue('newuserLimitExpireTimeUnit', val);\n  };\n\n  const changeOldTimeUnit = val => {\n    informationForm.setFieldsValue('olduserLimitExpireTimeUnit', val);\n  };\n\n  const onCancel = () => {\n    Router.back();\n  };\n\n  const newTipsElement = () => {\n    return __jsx(React.Fragment, null, __jsx(\"span\", null, \"\\u65B0\\u6237\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u2003\"), __jsx(_Tooltip, {\n      title: \"\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u5C06\\u4F1A\\u5F71\\u54CD\\u672A\\u7533\\u8BF7\\u65F6\\u9700\\u91CD\\u65B0\\u8FDB\\u4EF6\\u6388\\u4FE1\\u8D44\\u6599\\u7684\\u65F6\\u95F4\\u3002\"\n    }, __jsx(ExclamationCircleOutlined, null)));\n  };\n\n  const oldTipsElement = () => {\n    return __jsx(React.Fragment, null, __jsx(\"span\", null, \"\\u8001\\u6237\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u2003\"), __jsx(_Tooltip, {\n      title: \"\\u989D\\u5EA6\\u6709\\u6548\\u671F\\u5C06\\u4F1A\\u5F71\\u54CD\\u7528\\u6237\\u7684\\u501F\\u6B3E\\u671F\\u9650\\u9009\\u62E9\\u3002\"\n    }, __jsx(ExclamationCircleOutlined, null)));\n  };\n\n  return __jsx(Layout, {\n    breadcrumbs: breadcrumbs\n  }, __jsx(_Card, {\n    title: \"\\u57FA\\u672C\\u4FE1\\u606F\",\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Form, {\n    requiredMark: true,\n    style: {\n      marginBottom: 20\n    },\n    form: informationForm,\n    layout: \"vertical\",\n    name: \"informationForm\",\n    initialValues: {\n      rateType: 1,\n      repaymentPeriodType: 1,\n      olduserLimitExpireTimeUnit: 1,\n      newuserLimitExpireTimeUnit: 1,\n      termModel: 1\n    }\n  }, __jsx(_Row, {\n    gutter: 50\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u4EA7\\u54C1\\u540D\\u79F0\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: '请输入产品名称'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value && (value.length < 1 || value.length > 10)) {\n          return Promise.reject('输入范围大于1字符，小于等于10字符');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_Input, {\n    placeholder: \"\\u652F\\u6301\\u4E2D\\u82F1\\u6587\\u3001\\u6570\\u5B57\\u548C\\u4E0B\\u5212\\u7EBF\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u5E74\\u5316\\u5229\\u7387\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 10,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: \"0 0 120px\"\n  }, __jsx(_Form.Item, {\n    name: \"rateType\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u8303\\u56F4\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u56FA\\u5B9A\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, curValues) => prevValues.rateType !== curValues.rateType\n  }, ({\n    getFieldValue\n  }) => {\n    const rateType = getFieldValue('rateType');\n    return rateType == 2 ? __jsx(_Form.Item, {\n      name: \"yearInterestRate\",\n      rules: [{\n        required: true,\n        message: '请输入年化利率'\n      }, ({\n        getFieldValue\n      }) => ({\n        validator(rule, value) {\n          if (value >= 37) {\n            return Promise.reject('输入范围大于0小于37');\n          }\n\n          return Promise.resolve();\n        }\n\n      })]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      min: 0,\n      precision: 2\n    })) : __jsx(_Row, {\n      wrap: false,\n      gutter: 24,\n      align: \"middle\"\n    }, __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"minRate\",\n      rules: [{\n        required: true,\n        message: '请输入最小年化利率'\n      }, ({\n        getFieldValue\n      }) => ({\n        validator(rule, value) {\n          if (value >= 37) {\n            return Promise.reject('输入范围大于0小于37');\n          }\n\n          return Promise.resolve();\n        }\n\n      })]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      min: 0,\n      precision: 2\n    }))), __jsx(_Col, {\n      flex: \"0 0 30px\",\n      style: {\n        textAlign: 'center',\n        marginBottom: 20\n      }\n    }, \"\\u81F3\"), __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"maxRate\",\n      rules: [{\n        required: true,\n        message: '请输入最大年化利率'\n      }, ({\n        getFieldValue\n      }) => ({\n        validator(rule, value) {\n          if (value >= 37) {\n            return Promise.reject('输入范围大于0小于37');\n          }\n\n          return Promise.resolve();\n        }\n\n      })]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      precision: 2,\n      min: 0\n    }))));\n  })), __jsx(_Col, {\n    flex: \"0 0 auto\",\n    style: {\n      marginBottom: 20\n    }\n  }, \"%\"))), __jsx(_Form.Item, {\n    label: \"\\u8D37\\u6B3E\\u671F\\u9650\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: \"0 0 120px\"\n  }, __jsx(_Form.Item, {\n    rules: [{\n      required: true,\n      message: '请选择'\n    }],\n    name: \"termModel\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u8303\\u56F4\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u56FA\\u5B9A\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, curValues) => prevValues.termModel !== curValues.termModel\n  }, ({\n    getFieldValue\n  }) => {\n    const termModel = getFieldValue('termModel');\n    return termModel == 1 ? __jsx(_Row, {\n      gutter: 24,\n      wrap: false,\n      align: \"middle\"\n    }, __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"minTerms\",\n      rules: [{\n        required: true,\n        message: '请输入贷款期限最小值'\n      } // ({getFieldValue}) => ({\n      //   validator(rule, value) {\n      //     if (value > 37) {\n      //       return Promise.reject('输入范围大于0小于37')\n      //     }\n      //     return Promise.resolve()\n      //   },\n      // }),\n      ]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6B63\\u6574\\u6570\",\n      precision: 0,\n      min: 1,\n      max: 999\n    }))), __jsx(_Col, {\n      flex: \"0 0 auto\",\n      style: {\n        marginBottom: 20\n      }\n    }, \"\\u81F3\"), __jsx(_Col, {\n      flex: 1\n    }, __jsx(_Form.Item, {\n      name: \"maxTerms\",\n      rules: [{\n        required: true,\n        message: '请输入贷款期限最大值'\n      } // ({getFieldValue}) => ({\n      //   validator(rule, value) {\n      //     if (value > 37) {\n      //       return Promise.reject('输入范围大于0小于37')\n      //     }\n      //     return Promise.resolve()\n      //   },\n      // }),\n      ]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6B63\\u6574\\u6570\",\n      precision: 0,\n      min: 1,\n      max: 999\n    })))) : __jsx(_Form.Item, {\n      name: \"allowTerms\",\n      rules: [{\n        required: true,\n        message: '请输入贷款期限'\n      }, ({\n        getFieldValue\n      }) => ({\n        validator(rule, value) {\n          if (!value) {\n            return Promise.resolve();\n          }\n\n          const arr = value.split('/').filter(v => !!v);\n          const reg = /(^[1-9]\\d*$)/;\n          const isTrue = arr.every(v => reg.test(v));\n\n          if (!isTrue) {\n            return Promise.reject('请输入正确的贷款期限，必须是正整数');\n          }\n\n          const numIsTrue = arr.every(v => +v > 0 && +v < 1000);\n\n          if (!numIsTrue) {\n            return Promise.reject('贷款期限大于0小于1000');\n          }\n\n          return Promise.resolve();\n        }\n\n      })]\n    }, __jsx(_Input, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u591A\\u4E2A\\u503C\\u7528\\u201C/\\u201D\\u9694\\u5F00\\uFF0C\\u4F8B3/6/9\"\n    }));\n  })), __jsx(_Col, {\n    flex: \"0 0 auto\",\n    style: {\n      marginBottom: 20\n    }\n  }, \"\\u6708\"))), __jsx(_Form.Item, {\n    label: \"\\u6388\\u4FE1\\u7C7B\\u578B\",\n    rules: [{\n      required: true,\n      message: '请选择授信类型'\n    }],\n    name: \"creditType\"\n  }, __jsx(_Select, {\n    style: {\n      width: 180\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, CREDIT_TYPE.map((v, i) => __jsx(_Select.Option, {\n    value: v.key,\n    key: i\n  }, v.name))))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u8FD8\\u6B3E\\u65B9\\u5F0F\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"repaymentTypes\",\n    rules: [{\n      required: true,\n      message: '请选择还款方式'\n    }]\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    mode: \"multiple\",\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u8FD8\\u6B3E\\u65B9\\u5F0F\",\n    optionFilterProp: \"children\",\n    allowClear: true,\n    showArrow: true\n  }, __jsx(_Select.Option, {\n    value: \"1\"\n  }, \"\\u7B49\\u989D\\u672C\\u606F\"), __jsx(_Select.Option, {\n    value: \"2\"\n  }, \"\\u7B49\\u989D\\u672C\\u91D1\"), __jsx(_Select.Option, {\n    value: \"3\"\n  }, \"\\u5148\\u606F\\u540E\\u672C\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"repaymentPeriodType\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    showArrow: true\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u6309\\u6708\\u8FD8\\u6B3E\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u6309\\u5B63\\u8FD8\\u6B3E\")))))), __jsx(_Form.Item, {\n    label: \"\\u6574\\u4F53\\u6388\\u4FE1\\u91D1\\u989D\\uFF08\\u5143\\uFF09\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"minCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入整体授信金额'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value >= 1000000) {\n          return Promise.reject('输入范围大于0小于1000000');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))), __jsx(_Col, {\n    flex: \"0 0 24px\",\n    style: {\n      textAlign: 'center'\n    }\n  }, \"-\"), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"maxCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入整体授信金额'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value >= 1000000) {\n          return Promise.reject('输入范围大于0小于1000000');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))))), __jsx(_Form.Item, {\n    label: \"\\u5355\\u7B14\\u7528\\u4FE1\\u91D1\\u989D\\uFF08\\u5143\\uFF09\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"middle\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"minSingleCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入单笔用信金额'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value >= 1000000) {\n          return Promise.reject('输入范围大于0小于1000000');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))), __jsx(_Col, {\n    flex: \"0 0 24px\",\n    style: {\n      textAlign: 'center'\n    }\n  }, \"-\"), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    name: \"maxSingleCreditAmount\",\n    rules: [{\n      required: true,\n      message: '请输入单笔用信金额'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value >= 1000000) {\n          return Promise.reject('输入范围大于0小于1000000');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    min: 1,\n    max: 999999,\n    style: {\n      width: '100%'\n    }\n  }))))), __jsx(_Form.Item, {\n    label: newTipsElement(),\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"newuserLimitExpireTime\",\n    style: {\n      display: 'inline-block',\n      marginRight: 0,\n      width: '160px'\n    },\n    rules: [{\n      required: true,\n      message: '请输入新户额度有效期'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value > 100) {\n          return Promise.reject('输入范围大于0小于100');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6574\\u6570\",\n    min: 0,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(_Form.Item, {\n    name: \"newuserLimitExpireTimeUnit\",\n    style: {\n      display: 'inline-block',\n      width: '60px',\n      marginLeft: '10px'\n    }\n  }, __jsx(_Select, {\n    onChange: val => changeExpireTimeUnit(val)\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u65E5\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u6708\"))))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u8FD8\\u6B3E\\u65E5\",\n    required: true,\n    style: {\n      marginBottom: 0\n    }\n  }, __jsx(_Row, {\n    align: \"start\",\n    gutter: 15,\n    wrap: false\n  }, __jsx(_Col, {\n    flex: \"0 0 180px\"\n  }, __jsx(_Form.Item, {\n    rules: [{\n      required: true,\n      message: '请选择还款日'\n    }],\n    name: \"repayDay\"\n  }, __jsx(_Select, {\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u56FA\\u5B9A\\u8FD8\\u6B3E\\u65E5\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u653E\\u6B3E\\u65E5\\u4F5C\\u4E3A\\u8FD8\\u6B3E\\u65E5\")))), __jsx(_Col, {\n    flex: 1\n  }, __jsx(_Form.Item, {\n    style: {\n      marginBottom: 0\n    },\n    shouldUpdate: (prevValues, curValues) => prevValues.repayDay !== curValues.repayDay\n  }, ({\n    getFieldValue\n  }) => {\n    const repayDay = getFieldValue('repayDay');\n    return repayDay == 1 ? __jsx(_Space, {\n      align: \"baseline\"\n    }, __jsx(\"span\", null, \" \\u6BCF\\u6708\"), __jsx(_Form.Item, {\n      name: \"fixedDeductDate\",\n      rules: [{\n        required: true,\n        message: '请填写还款日'\n      } // ({getFieldValue}) => ({\n      //   validator(rule, value) {\n      //     if (value > 37) {\n      //       return Promise.reject('输入范围大于0小于37')\n      //     }\n      //     return Promise.resolve()\n      //   },\n      // }),\n      ]\n    }, __jsx(_InputNumber, {\n      style: {\n        width: '100%'\n      },\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      precision: 0,\n      min: 1,\n      max: 28\n    })), __jsx(\"span\", null, \"\\u65E5\")) : null;\n  })))), __jsx(_Form.Item, {\n    label: \"\\u6388\\u4FE1\\u91D1\\u989D\\u6B65\\u957F\\u9650\\u5236\",\n    name: \"creditStepAmount\",\n    rules: [{\n      required: true,\n      message: '请输入授信金额步长'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        // if (value && (value.length < 1 || value.length > 10)) {\n        //   return Promise.reject(\n        //     '输入范围大于1字符，小于等于10字符',\n        //   )\n        // }\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    style: {\n      width: '100%'\n    },\n    min: 1,\n    max: 999999999,\n    precision: 0,\n    placeholder: \"\\u4F8B\\uFF1A\\u6B65\\u957F1000\\uFF0C\\u5219\\u6388\\u4FE1\\u91D1\\u989D\\u5FC5\\u987B\\u662F1000\\u7684\\u500D\\u6570\"\n  })), __jsx(_Form.Item, {\n    label: \"\\u7528\\u4FE1\\u91D1\\u989D\\u6B65\\u957F\\u9650\\u5236\",\n    name: \"stepAmount\",\n    rules: [{\n      required: true,\n      message: '请输入用信金额步长限制'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        // if (value && (value.length < 1 || value.length > 10)) {\n        //   return Promise.reject(\n        //     '输入范围大于1字符，小于等于10字符',\n        //   )\n        // }\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    min: 1,\n    max: 999999999,\n    precision: 0,\n    style: {\n      width: '100%'\n    },\n    placeholder: \"\\u4F8B\\uFF1A\\u6B65\\u957F100\\uFF0C\\u5219\\u7528\\u4FE1\\u91D1\\u989D\\u5FC5\\u987B\\u662F100\\u7684\\u500D\\u6570\"\n  })), __jsx(_Form.Item, {\n    label: oldTipsElement(),\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"olduserLimitExpireTime\",\n    style: {\n      display: 'inline-block',\n      marginRight: 0,\n      width: '160px'\n    },\n    rules: [{\n      required: true,\n      message: '请输入老户额度有效期'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value > 1000) {\n          return Promise.reject('输入范围大于0小于1000');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6574\\u6570\",\n    min: 0,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(_Form.Item, {\n    name: \"olduserLimitExpireTimeUnit\",\n    style: {\n      display: 'inline-block',\n      width: '60px',\n      marginLeft: '10px'\n    }\n  }, __jsx(_Select, {\n    onChange: val => changeOldTimeUnit(val)\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u65E5\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u6708\")))))))), __jsx(_Card, {\n    title: \"\\u8865\\u5145\\u4FE1\\u606F\",\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Form, {\n    style: {\n      marginBottom: 20\n    },\n    form: extraInformationForm,\n    layout: \"vertical\",\n    name: \"extraInformationForm\",\n    initialValues: {}\n  }, __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u5BBD\\u9650\\u671F\",\n    name: \"gracePeriod\",\n    valuePropName: \"checked\"\n  }, __jsx(_Switch, {\n    checkedChildren: \"\\u5F00\",\n    unCheckedChildren: \"\\u5173\"\n  })), __jsx(\"p\", {\n    style: {\n      color: '#bababa'\n    }\n  }, \"\\uFF08\\u6CE8\\uFF1A\\u5BBD\\u9650\\u671F\\u5929\\u6570\\u9ED8\\u8BA4\\u4E3A3\\u5929)\")), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u7F5A\\u606F\\u4E0A\\u6D6E\\u6BD4\\u4F8B\",\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"penaltyRate\",\n    style: {\n      display: 'inline-block',\n      marginLeft: '5px',\n      width: '200px'\n    },\n    rules: [{\n      required: true,\n      message: '请输入罚息上浮比例'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        // if (value > 100) {\n        //   return Promise.reject('输入范围大于等于0小于101')\n        // }\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n    min: 0,\n    max: 100,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(\"span\", {\n    style: {\n      paddingLeft: '5px',\n      verticalAlign: 'sub'\n    }\n  }, \"%\"))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"LPR\\u914D\\u7F6E\",\n    required: true\n  }, __jsx(_Form.Item, {\n    name: \"lprRate\",\n    style: {\n      width: '80%',\n      display: 'inline-block',\n      marginBottom: 0\n    },\n    rules: [{\n      required: true,\n      message: '请输入LPR'\n    }, ({\n      getFieldValue\n    }) => ({\n      validator(rule, value) {\n        if (value > 100) {\n          return Promise.reject('输入范围大于等于0小于101');\n        }\n\n        return Promise.resolve();\n      }\n\n    })]\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n    min: 0,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(\"span\", {\n    style: {\n      paddingLeft: '5px',\n      verticalAlign: 'sub'\n    }\n  }, \"%\")), __jsx(\"p\", {\n    style: {\n      color: '#bababa'\n    }\n  }, \"\\uFF08\\u6CE8\\uFF1A\\u663E\\u793A\\u5728\\u534F\\u8BAE\\u4E2D\\uFF0C\\u5F53\\u914D\\u7F6E\\u4E3A0\\u5219\\u4E0D\\u5C55\\u793A\\uFF09\"))), __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u63D0\\u524D\\u8FD8\\u6B3E\",\n    rules: [{\n      required: true,\n      message: '请选择提前还款'\n    }],\n    name: \"prepaymentType\"\n  }, __jsx(_Select, {\n    style: {\n      width: 180\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u5141\\u8BB8\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u4E0D\\u5141\\u8BB8\")))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u63D0\\u524D\\u7ED3\\u6E05\",\n    rules: [{\n      required: true,\n      message: '请选择提前结清'\n    }],\n    name: \"aheadSettleType\"\n  }, __jsx(_Select, {\n    style: {\n      width: 180\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u5141\\u8BB8\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u4E0D\\u5141\\u8BB8\")))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: (prevValues, curValues) => prevValues.aheadSettleType !== curValues.aheadSettleType\n  }, ({\n    getFieldValue\n  }) => {\n    const beforeSettle = getFieldValue('aheadSettleType');\n    return beforeSettle == 1 ? __jsx(React.Fragment, null, __jsx(_Form.Item, {\n      label: \"\\u63D0\\u524D\\u7ED3\\u6E05\\u8FDD\\u7EA6\\u91D1\",\n      required: true\n    }, __jsx(_Form.Item, {\n      name: \"earlySettleAmountFee\",\n      style: {\n        width: '80%',\n        display: 'inline-block',\n        marginBottom: 0\n      },\n      rules: [{\n        required: true,\n        message: '请输入提前结清违约金'\n      }]\n    }, __jsx(_InputNumber, {\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u6570\\u5B57\",\n      min: 0,\n      max: 999999999,\n      style: {\n        width: '100%'\n      }\n    })), __jsx(\"span\", {\n      style: {\n        paddingLeft: '5px',\n        verticalAlign: 'sub'\n      }\n    }, \"%\")), __jsx(\"p\", {\n      style: {\n        color: '#bababa'\n      }\n    }, \"\\uFF08\\u6CE8\\uFF1A\\u6309\\u5269\\u4F59\\u672C\\u91D1\\u603B\\u989D\\u7684\\u767E\\u5206\\u6BD4\\u8BA1\\u6536\\u30020\\u4E3A\\u4E0D\\u6536\\u53D6\\uFF09\")) : null;\n  }))))), __jsx(_Card, {\n    title: \"\\u8FD0\\u8425\\u4FE1\\u606F\",\n    style: {\n      marginTop: '20px'\n    }\n  }, __jsx(_Form, {\n    style: {\n      marginBottom: 20\n    },\n    form: yunYingForm,\n    layout: \"vertical\",\n    name: \"yunYingForm\",\n    initialValues: {}\n  }, __jsx(_Row, {\n    gutter: 24\n  }, __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u8FD0\\u8425\\u6A21\\u5F0F\",\n    name: \"operatingModel\",\n    rules: [{\n      required: true,\n      message: '请选择运营模式'\n    }]\n  }, __jsx(_Select, {\n    style: {\n      width: 150\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u8FD0\\u8425\\u6A21\\u5F0F\"\n  }, __jsx(_Select.Option, {\n    value: 1\n  }, \"\\u8054\\u5408\\u8D37\"), __jsx(_Select.Option, {\n    value: 2\n  }, \"\\u52A9\\u8D37\"), __jsx(_Select.Option, {\n    value: 3\n  }, \"\\u81EA\\u8425\")))), __jsx(_Col, {\n    span: 8\n  }, __jsx(_Form.Item, {\n    label: \"\\u6BCF\\u65E5\\u653E\\u6B3E\\u9650\\u989D\"\n  }, __jsx(_Form.Item, {\n    name: \"operatingLoanAmount\",\n    style: {\n      width: '80%',\n      display: 'inline-block',\n      marginBottom: 0\n    }\n  }, __jsx(_InputNumber, {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6574\\u6570\\uFF0C\\u5355\\u4F4D\\u201C\\u4E07\\u5143\\u201D\",\n    min: 0,\n    precision: 0,\n    max: 999999999,\n    style: {\n      width: '100%'\n    }\n  })), __jsx(\"span\", {\n    style: {\n      paddingLeft: '5px',\n      verticalAlign: 'sub'\n    }\n  }, \"\\u4E07\\u5143\")))))), __jsx(_Row, {\n    style: {\n      marginTop: '10px'\n    }\n  }, __jsx(_Button, {\n    onClick: onCancel\n  }, \"\\u53D6\\u6D88\"), __jsx(_Button, {\n    type: \"primary\",\n    htmlType: \"button\",\n    onClick: onSubmit,\n    style: {\n      marginLeft: '5px'\n    }\n  }, \"\\u786E\\u5B9A\")));\n}\n\nbody.getInitialProps = async () => {\n  return {};\n};\n\nexport default withRouter(body);","map":null,"metadata":{},"sourceType":"module"}