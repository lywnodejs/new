{"ast":null,"code":"import { cloneDeep, isString, flow, curry } from 'lodash';\nexport function cookies(cookie = '') {\n  return cookie.split('; ').reduce((prev, current) => {\n    const [name, value] = current.split('=');\n    prev[name] = value;\n    return prev;\n  }, {});\n}\nexport const formatMoney = function (s) {\n  if (!s) {\n    return 0;\n  }\n\n  var noNegative = true; //默认是正值。\n\n  s = parseFloat(s + '');\n  s = s + ''; //转换成字符串\n\n  if (parseFloat(s) < 0) {\n    //是负数\n    s = Math.abs(s) + '';\n    noNegative = false;\n  }\n\n  var zheng = s.split('.')[0];\n  var dian = s.split('.')[1]; //将整数部分，利用字符串的charAt() 方法，转换成数组。\n\n  var zhengArr = [];\n\n  for (var i = 0; i < zheng.length; i++) {\n    zhengArr.push(zheng.charAt(i));\n  }\n\n  zhengArr = zhengArr.reverse();\n  var t = '';\n\n  for (var i = 0; i < zhengArr.length; i++) {\n    if (i % 3 == 2 && i != zhengArr.length - 1) {\n      //为第三位，并且并不是最后了。如123456时，6并不加,\n      t += zhengArr[i] + ',';\n    } else {\n      t += zhengArr[i] + ''; //加上空格\n    }\n  }\n\n  return (noNegative ? '' : '-') + t.split('').reverse().join('') + `${dian ? '.' + dian : ''}`;\n};\nexport function isEmpty(param) {\n  if (param.length == 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport function isNumber(param) {\n  if (isNaN(param)) {\n    return false;\n  } else {\n    return true;\n  }\n} //匹配IP地址的正则表达式\n\nexport function isIP(strIP) {\n  var re = /^((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2}|\\*)(\\.((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2}|\\*)){3}$/g;\n\n  if (re.test(strIP)) {\n    return true;\n  }\n\n  return false;\n}\nexport function computeUnit(val) {\n  var arr = [{\n    name: '万',\n    value: 5\n  }, {\n    name: '十万',\n    value: 6\n  }, {\n    name: '百万',\n    value: 7\n  }, {\n    name: '千万',\n    value: 8\n  }, {\n    name: '亿',\n    value: 9\n  }, {\n    name: '十亿',\n    value: 10\n  }, {\n    name: '百亿',\n    value: 11\n  }, {\n    name: '千亿',\n    value: 12\n  }];\n\n  if (val) {\n    let len = Number(val).toFixed(0).length;\n    let findOne = arr.find(v => v.value == len);\n    return findOne ? findOne.name : '';\n  }\n\n  return null;\n}\n/*\n * @Description: 文件下载\n * @param:api-请求方法\n * @param: params-请求参数\n * @param: setShowLoad-关闭按钮loading  可选\n */\n\nexport async function downLoadFile(api, params, setShowLoad) {\n  const request = await api(params);\n  setShowLoad && setShowLoad(false);\n  const {\n    data,\n    headers\n  } = request;\n\n  try {\n    let fileName = headers['content-disposition'].split(';')[1].split('=')[1];\n    let blob = new Blob([data], {\n      type: request.headers['content-type']\n    });\n\n    if ('msSaveOrOpenBlob' in navigator) {\n      //IE导出\n      window.navigator.msSaveOrOpenBlob(blob, fileName);\n    } else {\n      var a = document.createElement('a');\n      a.download = fileName;\n      a.href = URL.createObjectURL(blob);\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}","map":{"version":3,"sources":["/Users/liuyawei/Desktop/rxhui/信用算力/项目/cloud_pro/utils/index.js"],"names":["cloneDeep","isString","flow","curry","cookies","cookie","split","reduce","prev","current","name","value","formatMoney","s","noNegative","parseFloat","Math","abs","zheng","dian","zhengArr","i","length","push","charAt","reverse","t","join","isEmpty","param","isNumber","isNaN","isIP","strIP","re","test","computeUnit","val","arr","len","Number","toFixed","findOne","find","v","downLoadFile","api","params","setShowLoad","request","data","headers","fileName","blob","Blob","type","navigator","window","msSaveOrOpenBlob","a","document","createElement","download","href","URL","createObjectURL","body","appendChild","click","removeChild","error","console","log"],"mappings":"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","sourcesContent":["import {cloneDeep, isString, flow, curry} from 'lodash'\n\nexport function cookies(cookie = '') {\n  return cookie.split('; ').reduce((prev, current) => {\n    const [name, value] = current.split('=')\n    prev[name] = value\n    return prev\n  }, {})\n}\n\nexport const formatMoney = function (s) {\n  if (!s) {\n    return 0\n  }\n  var noNegative = true //默认是正值。\n  s = parseFloat(s + '')\n  s = s + '' //转换成字符串\n  if (parseFloat(s) < 0) {\n    //是负数\n    s = Math.abs(s) + ''\n    noNegative = false\n  }\n  var zheng = s.split('.')[0]\n  var dian = s.split('.')[1]\n  //将整数部分，利用字符串的charAt() 方法，转换成数组。\n  var zhengArr = []\n  for (var i = 0; i < zheng.length; i++) {\n    zhengArr.push(zheng.charAt(i))\n  }\n  zhengArr = zhengArr.reverse()\n  var t = ''\n  for (var i = 0; i < zhengArr.length; i++) {\n    if (i % 3 == 2 && i != zhengArr.length - 1) {\n      //为第三位，并且并不是最后了。如123456时，6并不加,\n      t += zhengArr[i] + ','\n    } else {\n      t += zhengArr[i] + '' //加上空格\n    }\n  }\n  return (\n    (noNegative ? '' : '-') +\n    t.split('').reverse().join('') +\n    `${dian ? '.' + dian : ''}`\n  )\n}\n\nexport function isEmpty(param) {\n  if (param.length == 0) {\n    return true\n  } else {\n    return false\n  }\n}\n\nexport function isNumber(param) {\n  if (isNaN(param)) {\n    return false\n  } else {\n    return true\n  }\n}\n\n//匹配IP地址的正则表达式\nexport function isIP(strIP) {\n  var re = /^((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2}|\\*)(\\.((2(5[0-5]|[0-4]\\d))|[0-1]?\\d{1,2}|\\*)){3}$/g\n  if (re.test(strIP)) {\n    return true\n  }\n  return false\n}\n\nexport function computeUnit(val) {\n  var arr = [\n    {name: '万', value: 5},\n    {name: '十万', value: 6},\n    {name: '百万', value: 7},\n    {name: '千万', value: 8},\n    {name: '亿', value: 9},\n    {name: '十亿', value: 10},\n    {name: '百亿', value: 11},\n    {name: '千亿', value: 12},\n  ]\n  if (val) {\n    let len = Number(val).toFixed(0).length\n    let findOne = arr.find((v) => v.value == len)\n    return findOne ? findOne.name : ''\n  }\n  return null\n}\n\n/*\n * @Description: 文件下载\n * @param:api-请求方法\n * @param: params-请求参数\n * @param: setShowLoad-关闭按钮loading  可选\n */\n\nexport async function downLoadFile(api, params, setShowLoad) {\n  const request = await api(params)\n  setShowLoad && setShowLoad(false)\n  const {data, headers} = request\n  try {\n    let fileName = headers['content-disposition'].split(';')[1].split('=')[1]\n    let blob = new Blob([data], {type: request.headers['content-type']})\n\n    if ('msSaveOrOpenBlob' in navigator) {\n      //IE导出\n      window.navigator.msSaveOrOpenBlob(blob, fileName)\n    } else {\n      var a = document.createElement('a')\n      a.download = fileName\n      a.href = URL.createObjectURL(blob)\n      document.body.appendChild(a)\n      a.click()\n      document.body.removeChild(a)\n    }\n  } catch (error) {\n    console.log(error)\n  }\n}\n"]},"metadata":{},"sourceType":"module"}