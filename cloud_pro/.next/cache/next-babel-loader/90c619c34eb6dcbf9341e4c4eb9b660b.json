{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { DownOutlined, RightOutlined } from '@ant-design/icons';\n\nvar TableListTwo = function TableListTwo(_ref) {\n  var plan = _ref.plan;\n\n  var _useState = useState([]),\n      expandedRowKeys = _useState[0],\n      setExpandedRowKeys = _useState[1];\n\n  var columns = [{\n    title: '期数',\n    dataIndex: 'term',\n    key: 'term',\n    width: 140\n  }, {\n    title: '状态',\n    dataIndex: 'status',\n    key: 'status',\n    width: 140\n  }, {\n    title: '科目',\n    dataIndex: 'type',\n    key: 'type',\n    width: 140\n  }, {\n    title: '应还总额',\n    dataIndex: 'amount',\n    key: 'amount',\n    width: 140,\n    render: function render(record) {\n      if (record == null) {\n        return null;\n      } else {\n        var str = Number(record).toLocaleString();\n        return str;\n      }\n    }\n  }, {\n    title: '已还',\n    dataIndex: 'finish',\n    key: 'finish',\n    width: 140,\n    render: function render(record) {\n      if (record == null) {\n        return null;\n      } else {\n        var str = Number(record).toLocaleString();\n        return str;\n      }\n    }\n  }, {\n    title: '剩余（元）',\n    dataIndex: 'surplus',\n    key: 'surplus',\n    width: 140,\n    render: function render(record) {\n      if (record == null) {\n        return null;\n      } else {\n        var str = Number(record).toLocaleString();\n        return str;\n      }\n    }\n  }, {\n    title: '减免（元）',\n    dataIndex: 'reduction',\n    key: 'reduction',\n    width: 140\n  }, {\n    title: '起息日',\n    dataIndex: 'beginInterestDateStr',\n    key: 'beginInterestDateStr',\n    width: 140\n  }, {\n    title: '应还日',\n    dataIndex: 'deductDate',\n    key: 'deductDate',\n    width: 140\n  }, {\n    title: '逾期天数',\n    dataIndex: 'days',\n    key: 'days',\n    width: 140\n  }, {\n    title: '操作',\n    width: 140,\n    render: function render(t, record) {\n      return renderOperation(record);\n    }\n  }];\n\n  var renderOperation = function renderOperation(record) {\n    if (Array.isArray(record.subDtos) && record.subDtos.length) {\n      if (expandedRowKeys.includes(record.id)) {\n        return __jsx(DownOutlined, {\n          style: {\n            color: 'blue'\n          },\n          onClick: function onClick() {\n            return handleClose(record);\n          }\n        });\n      } else {\n        return __jsx(RightOutlined, {\n          style: {\n            color: 'blue'\n          },\n          onClick: function onClick() {\n            return handleOpen(record);\n          }\n        });\n      }\n    }\n\n    return null;\n  };\n\n  var handleOpen = function handleOpen(record) {\n    var keys = _toConsumableArray(expandedRowKeys);\n\n    keys.push(record.id);\n    setExpandedRowKeys(keys);\n  };\n\n  var handleClose = function handleClose(record) {\n    var keys = _toConsumableArray(expandedRowKeys);\n\n    var index = keys.indexOf(record.id);\n    keys.splice(index);\n    setExpandedRowKeys(keys);\n  };\n\n  return __jsx(_Table, {\n    rowKey: \"id\",\n    dataSource: plan,\n    columns: columns,\n    bordered: true,\n    scroll: {\n      y: '100%',\n      x: '100%'\n    },\n    style: {\n      marginTop: 20\n    },\n    expandable: {\n      childrenColumnName: 'subDtos',\n      expandIcon: function expandIcon() {\n        return __jsx(\"span\", null);\n      },\n      expandedRowKeys: expandedRowKeys\n    }\n  });\n};\n\nexport default TableListTwo;","map":null,"metadata":{},"sourceType":"module"}