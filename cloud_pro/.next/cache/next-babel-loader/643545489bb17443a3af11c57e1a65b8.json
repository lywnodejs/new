{"ast":null,"code":"import \"antd/lib/modal/style\";\nimport _Modal from \"antd/lib/modal\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport \"antd/lib/input/style\";\nimport _Input from \"antd/lib/input\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nimport \"antd/lib/form/style\";\nimport _Form from \"antd/lib/form\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nexport default function SendSms(props) {\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  useEffect(function () {\n    if (visible) {\n      form.resetFields();\n    }\n  }, [visible]);\n\n  var successFunc = function successFunc() {\n    setLoading(false);\n    setVisible(false);\n  };\n\n  var failFunc = function failFunc() {\n    setLoading(false);\n  };\n\n  var handleOk = function handleOk() {\n    form.validateFields().then(function (values) {\n      setLoading(true);\n      props.getContactInfo(values, successFunc, failFunc);\n    })[\"catch\"](function (errorInfo) {\n      console.error(errorInfo);\n    });\n  };\n\n  var layout = {\n    labelCol: {\n      span: 8\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n  return __jsx(React.Fragment, null, __jsx(_Button, {\n    type: \"primary\",\n    onClick: function onClick() {\n      return setVisible(true);\n    }\n  }, \"\\u65B0\\u589E\\u8054\\u7CFB\\u4EBA\"), __jsx(_Modal, {\n    title: \"\\u65B0\\u589E\\u8054\\u7CFB\\u4EBA\",\n    visible: visible,\n    confirmLoading: loading,\n    onOk: handleOk,\n    onCancel: function onCancel() {\n      return setVisible(false);\n    }\n  }, __jsx(_Form, _extends({}, layout, {\n    form: form,\n    name: \"basic\"\n  }), __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u4EBA\\u59D3\\u540D\",\n    name: \"username\",\n    rules: [{\n      required: true,\n      message: '请输入联系人姓名!'\n    }, {\n      max: 20,\n      message: '输入范围大于0小于20字符!'\n    }]\n  }, __jsx(_Input, null)), __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u4EBA\\u7535\\u8BDD\",\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: '请输入联系人电话!'\n    }, {\n      pattern: /^1[3456789]\\d{9}$/,\n      message: '请输入正确手机号格式!'\n    }]\n  }, __jsx(_Input, null)), __jsx(_Form.Item, {\n    label: \"\\u8054\\u7CFB\\u4EBA\\u5173\\u7CFB\",\n    name: \"gx\",\n    rules: [{\n      required: true,\n      message: '请输入联系人关系!'\n    }, {\n      max: 100,\n      message: '输入范围大于0小于100字符!'\n    }]\n  }, __jsx(_Input, null)))));\n}","map":null,"metadata":{},"sourceType":"module"}