{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport Carousel, { Modal as ImageModal, ModalGateway } from 'react-images';\nimport Router from 'next/router';\n\nvar TableList = function TableList(_ref) {\n  var list = _ref.list,\n      isHasMore = _ref.isHasMore,\n      userId = _ref.userId;\n\n  var _useState = useState(false),\n      modalIsOpen = _useState[0],\n      setModalIsOpen = _useState[1];\n\n  var _useState2 = useState([]),\n      previewImgs = _useState2[0],\n      setPreviewImgs = _useState2[1];\n\n  var columns = [{\n    title: '属性',\n    dataIndex: 'attributeName',\n    key: 'attributeName',\n    width: 150\n  }, {\n    title: '值',\n    dataIndex: 'attributeValue',\n    key: 'attributeValue',\n    width: 150,\n    render: function render(text, record, index) {\n      return record.isLink ? __jsx(_Button, {\n        type: \"link\",\n        onClick: function onClick() {\n          return check(text);\n        }\n      }, \"\\u67E5\\u770B\", isHasMore ? '更多' : '照片') : text;\n    }\n  }, {\n    title: '更新时间',\n    dataIndex: 'updateTime',\n    key: 'updateTime',\n    width: 150\n  }];\n\n  var check = function check(param) {\n    if (!isHasMore) {\n      checkImg(param);\n      return;\n    }\n\n    var url = \"/feed/order/form?userId=\".concat(userId, \"&tag=contacts\");\n    Router.push(url);\n  };\n\n  var checkImg = function checkImg(img) {\n    toggleModal();\n    setPreviewImgs([{\n      src: img\n    }]);\n  };\n\n  var toggleModal = function toggleModal() {\n    setModalIsOpen(function (modalIsOpen) {\n      return !modalIsOpen;\n    });\n  };\n\n  var Footer = function Footer(_ref2) {\n    var currentView = _ref2.currentView,\n        modalProps = _ref2.modalProps;\n    return null;\n  };\n\n  return __jsx(React.Fragment, null, __jsx(_Table, {\n    rowKey: \"id\",\n    dataSource: list,\n    columns: columns,\n    bordered: true,\n    pagination: false,\n    scroll: {\n      y: '100%',\n      x: '100%'\n    }\n  }), __jsx(ModalGateway, null, modalIsOpen ? __jsx(ImageModal, {\n    onClose: toggleModal\n  }, __jsx(Carousel, {\n    views: previewImgs,\n    components: {\n      Footer: Footer\n    }\n  })) : null));\n};\n\nexport default TableList;","map":null,"metadata":{},"sourceType":"module"}