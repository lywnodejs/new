{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nimport \"antd/lib/button/style\";\nimport _Button from \"antd/lib/button\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport Carousel, { Modal as ImageModal, ModalGateway } from 'react-images';\nimport Router from 'next/router';\n\nconst TableList = ({\n  list,\n  isHasMore,\n  userId\n}) => {\n  const {\n    0: modalIsOpen,\n    1: setModalIsOpen\n  } = useState(false);\n  const {\n    0: previewImgs,\n    1: setPreviewImgs\n  } = useState([]);\n  const columns = [{\n    title: '属性',\n    dataIndex: 'attributeName',\n    key: 'attributeName',\n    width: 150\n  }, {\n    title: '值',\n    dataIndex: 'attributeValue',\n    key: 'attributeValue',\n    width: 150,\n    render: (text, record, index) => {\n      return record.isLink ? __jsx(_Button, {\n        type: \"link\",\n        onClick: () => check(text)\n      }, \"\\u67E5\\u770B\", isHasMore ? '更多' : '照片') : text;\n    }\n  }, {\n    title: '更新时间',\n    dataIndex: 'updateTime',\n    key: 'updateTime',\n    width: 150\n  }];\n\n  const check = param => {\n    if (!isHasMore) {\n      checkImg(param);\n      return;\n    }\n\n    let url = `/feed/order/form?userId=${userId}&tag=contacts`;\n    Router.push(url);\n  };\n\n  const checkImg = img => {\n    toggleModal();\n    setPreviewImgs([{\n      src: img\n    }]);\n  };\n\n  const toggleModal = () => {\n    setModalIsOpen(modalIsOpen => !modalIsOpen);\n  };\n\n  const Footer = ({\n    currentView,\n    modalProps\n  }) => {\n    return null;\n  };\n\n  return __jsx(React.Fragment, null, __jsx(_Table, {\n    rowKey: \"id\",\n    dataSource: list,\n    columns: columns,\n    bordered: true,\n    pagination: false,\n    scroll: {\n      y: '100%',\n      x: '100%'\n    }\n  }), __jsx(ModalGateway, null, modalIsOpen ? __jsx(ImageModal, {\n    onClose: toggleModal\n  }, __jsx(Carousel, {\n    views: previewImgs,\n    components: {\n      Footer\n    }\n  })) : null));\n};\n\nexport default TableList;","map":null,"metadata":{},"sourceType":"module"}