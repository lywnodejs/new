{"ast":null,"code":"import \"antd/lib/table/style\";\nimport _Table from \"antd/lib/table\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport Router, { withRouter } from 'next/router';\nimport _ from 'lodash';\nconst defaultArr = [{\n  title: '日期',\n  dataIndex: 'dateTime'\n}, {\n  title: '支行代码',\n  dataIndex: 'networkCode'\n}, {\n  title: '所属网点',\n  dataIndex: 'networkName'\n}, {\n  title: '进件单数',\n  dataIndex: 'inputLoansCount'\n}, {\n  title: '进件用户数',\n  dataIndex: 'inputLoansUserCount'\n}, {\n  title: '新增用户数',\n  dataIndex: 'newAddUserCount'\n}, {\n  title: '授信通过人数',\n  dataIndex: 'passedUserCount'\n}, {\n  title: '授信通过率',\n  dataIndex: 'passedRate'\n}, {\n  title: '放款人数',\n  dataIndex: 'loanUserCount'\n}, {\n  title: '放款单数',\n  dataIndex: 'loanCount'\n}, {\n  title: '放款金额',\n  dataIndex: 'loanAmountSum'\n}, {\n  title: '贷款调查通过率',\n  dataIndex: 'surveyRate'\n}];\n\nconst TableList = ({\n  data,\n  activeKey,\n  pageParams,\n  changePageParams\n}) => {\n  const {\n    0: columns,\n    1: setColumns\n  } = useState([...defaultArr]);\n  useEffect(() => {\n    let arr = _.cloneDeep(defaultArr);\n\n    if (activeKey == 1) {\n      arr.splice(1, 1, ...[{\n        title: '客户经理',\n        dataIndex: 'managerName'\n      }, {\n        title: '工号',\n        dataIndex: 'jobNumber'\n      }]);\n      setColumns(arr);\n    } else {\n      setColumns(arr);\n    }\n  }, [activeKey]);\n  const pagination = {\n    defaultCurrent: 1,\n    total: data.totalSize,\n    pageSize: pageParams.pageSize,\n    showQuickJumper: true,\n    showSizeChanger: false,\n    current: pageParams.pageNo || 0,\n    showTotal: total => {\n      return `共 ${total} 条记录`;\n    },\n    onChange: (pageNumber, pageSize) => {\n      let obj = {\n        pageNo: pageParams.pageSize === pageSize ? pageNumber : 1,\n        pageSize\n      };\n      changePageParams(obj);\n    }\n  };\n  return __jsx(_Table, {\n    rowKey: (r, i) => {\n      return pageParams.pageNo + '' + i;\n    },\n    dataSource: data.list,\n    columns: columns,\n    bordered: true,\n    pagination: pagination,\n    scroll: {\n      y: '100%',\n      x: '100%'\n    }\n  });\n};\n\nexport default withRouter(TableList);","map":null,"metadata":{},"sourceType":"module"}