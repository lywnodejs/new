{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[198],{\"7vCr\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/customer/detail/AdjustmentLimitModal\",function(){return n(\"PhZa\")}])},Gytx:function(e,t){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if(\"object\"!==typeof e||!e||\"object\"!==typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var s=o[c];if(!u(s))return!1;var f=e[s],l=t[s];if(!1===(a=n?n.call(r,f,l,s):void 0)||void 0===a&&f!==l)return!1}return!0}},PhZa:function(e,t,n){\"use strict\";n.r(t);n(\"fwXI\");var r=n(\"CC+v\"),a=n.n(r),o=(n(\"GBD3\"),n(\"wXtC\")),i=n.n(o),u=(n(\"cUip\"),n(\"iJl9\")),c=n.n(u),s=(n(\"MaXC\"),n(\"4IMT\")),f=n.n(s),l=(n(\"tL+A\"),n(\"QpBz\")),d=n.n(l),p=n(\"o0o1\"),m=n.n(p),b=n(\"HaE+\"),y=n(\"rePB\"),v=n(\"ODXe\"),g=(n(\"7kJ1\"),n(\"qPIi\")),j=n.n(g),w=(n(\"nTym\"),n(\"qu0K\")),O=n.n(w),h=n(\"q1tI\"),D=n.n(h),E=n(\"wd/R\"),k=n.n(E),P=n(\"ZaHK\"),x=D.a.createElement;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(y.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=O.a.Item,_=j.a.Group;(new Date).toLocaleDateString();function z(e){var t=O.a.useForm(),n=Object(v.a)(t,1)[0],r=e.itemList,o=e.classificationDoVisble,u=e.handleCancelDo,s=e.productConversion,l=e.disabledDate,p=e.onHide,y=(e.keyId,e.fetchCustomerDetail),g=Object(h.useState)([]),w=g[0],D=g[1],E=Object(h.useState)(!1),C=E[0],z=E[1],I=Object(h.useState)([]),L=(I[0],I[1]);Object(h.useEffect)((function(){n.setFieldsValue(S(S({},r),{},{fixedEndDate:k()(r.fixedEndDate)}))}),[o]);var F=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validateFields();case 2:t=e.sent,D(t),z(!0);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:r.id,fixedLimitAmount:w.fixedLimitAmount,fixedEndDate:k()(w.fixedEndDate).format(\"YYYY-MM-DD\"),frozenEndType:w.frozenEndType,accountStatus:\"\\u6b63\\u5e38\"==w.accountStatus?1:2},\"\\u51bb\\u7ed3\"==w.accountStatus&&\"1\"==w.frozenEndType&&(t=S(S({},t),{},{frozenEndDate:Number(w.frozenEndDay)})),e.prev=2,e.next=5,P.a.update_user_limitAmount(t);case 5:n=e.sent,a=n.data,a.data,0==a.code&&(d.a.success(\"\\u63d0\\u4ea4\\u6210\\u529f\"),z(!1),p(),y()),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),z(!1),p();case 17:case\"end\":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return x(\"div\",null,x(a.a,{title:\"\\u8c03\\u6574\\u989d\\u5ea6\",visible:o,width:400,onCancel:p,footer:[x(f.a,{key:\"back\",onClick:u},\"\\u53d6\\u6d88\"),x(f.a,{key:\"submit\",type:\"primary\",onClick:F},\"\\u4e0b\\u4e00\\u6b65\")],getContainer:!1},x(O.a,{name:\"adjustmentForm\",key:Date.now,form:n},x(T,null,x(\"span\",{style:{fontWeight:600,fontSize:18}},r.userName,\"\\xa0\\xa0\\xa0\\xa0\",s(r.productId))),x(T,{label:\"\\u6388\\u4fe1\\u989d\\u5ea6\",name:\"fixedLimitAmount\",rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u6388\\u4fe1\\u989d\\u5ea6\"},function(e){e.getFieldValue;return{validator:function(e,t){return t&&(Number(t)<0||!Number.isInteger(Number(t)))?Promise.reject(\"\\u8bf7\\u8f93\\u5165\\u6b63\\u6574\\u6570\"):Promise.resolve()}}}]},x(c.a,{suffix:\"\\u5143\",width:50})),x(\"div\",{style:{position:\"relative\"}},x(T,{noStyle:!0,shouldUpdate:function(e,t){return e.accountStatus!==t.accountStatus}},(function(e){if(\"\\u51bb\\u7ed3\"==(0,e.getFieldValue)(\"accountStatus\"))return x(T,{label:\"\\u51bb\\u7ed3\\u65f6\\u957f\",name:\"frozenEndType\",style:{marginTop:20},rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u51bb\\u7ed3\\u65f6\\u957f\\u7c7b\\u578b\"}]},x(_,null,x(j.a,{value:1},\"\\u51bb\\u7ed3\"),x(j.a,{value:2,style:{marginLeft:90}},\"\\u81f3\\u6709\\u6548\\u671f\")))})),x(T,{shouldUpdate:function(e,t){return e.frozenEndType!==t.frozenEndType||e.accountStatus!==t.accountStatus},style:{position:\"absolute\",left:140,top:0}},(function(e){var t=e.getFieldValue;if(1==t(\"frozenEndType\")&&\"\\u51bb\\u7ed3\"==t(\"accountStatus\"))return x(T,{name:\"frozenEndDay\",rules:[{required:!0,message:\"\\u8bf7\\u586b\\u5199\\u51bb\\u7ed3\\u5929\\u6570\"},function(e){e.getFieldValue;return{validator:function(e,t){return t>9999999?Promise.reject(\"\\u8f93\\u5165\\u51bb\\u7ed3\\u5929\\u6570\\u8fc7\\u591a\\uff0c\\u8bf7\\u91cd\\u65b0\\u8f93\\u5165\"):!Number.isInteger(Number(t))||Number(t)<1?Promise.reject(\"\\u51bb\\u7ed3\\u5929\\u6570\\u4e3a\\u6b63\\u6574\\u6570\\uff0c\\u8bf7\\u91cd\\u65b0\\u8f93\\u5165\"):Promise.resolve()}}}]},x(c.a,{style:{width:80},suffix:\"\\u5929\"}))})),x(T,{label:\"\\u989d\\u5ea6\\u6709\\u6548\\u671f\",name:\"fixedEndDate\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u989d\\u5ea6\\u6709\\u6548\\u671f\"}]},x(i.a,{allowClear:!0,disabledDate:l,onChange:function(e,t){L(t)}}))))),x(a.a,{title:\"\\u64cd\\u4f5c\\u786e\\u8ba4\",visible:C,width:400,onCancel:function(){return z(!1)},footer:[x(f.a,{key:\"back\",onClick:function(){z(!1)}},\"\\u8fd4\\u56de\\u4fee\\u6539\"),x(f.a,{key:\"submit\",type:\"primary\",onClick:N},\"\\u786e\\u8ba4\\u63d0\\u4ea4\")]},x(\"div\",{style:{fontWeight:600,fontSize:18}},r.userName,\"\\xa0\\xa0\\xa0\\xa0\",s(r.productId)),x(\"div\",{style:{marginTop:20,fontSize:18}},\"\\u6388\\u4fe1\\u989d\\u5ea6\\uff1a\",w.fixedLimitAmount),x(\"div\",{style:{marginTop:20,fontSize:18}},\"\\u989d\\u5ea6\\u6709\\u6548\\u671f: \",k()(w.fixedEndDate).format(\"YYYY-MM-DD\"))))}z.getInitialProps=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",{});case 1:case\"end\":return e.stop()}}),e)}))),t.default=z},ZaHK:function(e,t,n){\"use strict\";var r=n(\"sW4n\"),a=\"customerInfo/\";t.a={get_customer_list:function(e){return Object(r.g)(\"\".concat(a,\"queryCustomerInfoList\"),\"get\",e)},get_customer_detail:function(e){return Object(r.g)(\"\".concat(a,\"queryCustomerInfoDatil\"),\"get\",e)},update_customer_fiveLevelType:function(e){return Object(r.g)(\"\".concat(a,\"updateFiveLevelType\"),\"post\",e)},update_user_limitAmount:function(e){return Object(r.g)(\"\".concat(a,\"updateUserLimitAmount\"),\"post\",e)}}},\"tL+A\":function(e,t,n){\"use strict\";n(\"VEUW\"),n(\"wWjF\")},wWjF:function(e,t,n){}},[[\"7vCr\",0,2,24,25,1,3,4,5,6,7,14,21,26,27,29,28,31,32,36,37]]]);","extractedComments":[]}