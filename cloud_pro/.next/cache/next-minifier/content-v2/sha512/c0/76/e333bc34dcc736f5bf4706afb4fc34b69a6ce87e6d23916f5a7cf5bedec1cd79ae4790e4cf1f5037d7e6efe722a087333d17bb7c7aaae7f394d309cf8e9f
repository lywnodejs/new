{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{\"/ry3\":function(e,t,n){\"use strict\";n.r(t);n(\"fwXI\");var a=n(\"CC+v\"),r=n.n(a),u=(n(\"7kJ1\"),n(\"qPIi\")),i=n.n(u),l=(n(\"pJsf\"),n(\"g4D/\")),c=n.n(l),o=(n(\"cUip\"),n(\"iJl9\")),s=n.n(o),p=(n(\"ek7I\"),n(\"FAat\")),f=n.n(p),d=n(\"o0o1\"),g=n.n(d),m=(n(\"tL+A\"),n(\"QpBz\")),v=n.n(m),b=n(\"HaE+\"),O=n(\"rePB\"),y=(n(\"nTym\"),n(\"qu0K\")),j=n.n(y),k=n(\"ODXe\"),h=n(\"q1tI\"),w=n.n(h),x=n(\"eci7\"),P=w.a.createElement;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=j.a.useForm(),n=Object(k.a)(t,1)[0],a=Object(h.useState)([]),u=a[0],l=a[1],o=Object(h.useState)([]),p=o[0],d=o[1],m=e.selectIndex,O=e.visible,y=e.onHide,w=e.selectItem,C=e.pullData,S=(e.allPages,e.productId),T=e.productList;Object(h.useEffect)((function(){-1==m?(n.resetFields(),n.setFieldsValue({readStatus:0}),l([]),d([])):(console.log(w),n.setFieldsValue(I(I({},w),{},{node:w.nodeKey})),w.applicationType&&D(w.applicationType))}),[O,m]);var _=function(){var t=Object(b.a)(g.a.mark((function t(){var a,r,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.validateFields();case 3:return a=t.sent,r=I(I({},a),{},{productId:S}),u=null,r.isFirst=r.isFirst?1:0,r.templateName=e.tempData.find((function(e){return e.id==r.templateId})).name,-1==m?u=x.a.addAgreement:(u=x.a.updateAgreement,r.id=w.id),t.next=11,u(r);case 11:0==t.sent.data.code&&(y(),v.a.success(\"\\u4fdd\\u5b58\\u6210\\u529f\"),C()),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(\"Failed:\",t.t0);case 18:case\"end\":return t.stop()}}),t,null,[[0,15]])})));return function(){return t.apply(this,arguments)}}(),E=function(t,n){var a=e.appTypes.find((function(e){return e.key==t})),r=e[n][a.value];return Object.keys(r).map((function(e){return{key:e,value:r[e]}}))},D=function(e,t){var n=[],a=[];e&&(n=E(e,\"allPages\"),a=E(e,\"signNode\")),l(n),d(a)};return P(r.a,{title:-1===m?\"\\u534f\\u8bae\\u65b0\\u589e\":\"\\u534f\\u8bae\\u7f16\\u8f91\",maskClosable:!1,visible:O,destroyOnClose:!0,forceRender:!0,onOk:_,onCancel:y,cancelText:\"\\u53d6\\u6d88\",okText:\"\\u786e\\u5b9a\"},P(j.a,{key:Date.now,form:n,name:\"agreementForm\"},P(j.a.Item,{label:\"\\u4ea7\\u54c1\"},P(j.a.Item,{noStyle:!0},function(){var e=T.find((function(e){return e.id==S}));return e?e.name:\"\"}())),P(j.a.Item,{label:\"\\u5e94\\u7528\\u7c7b\\u578b\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u5e94\\u7528\\u7c7b\\u578b\"}],name:\"applicationType\"},P(f.a,{style:{width:\"160px\"},onChange:D},e.appTypes.map((function(e,t){return P(f.a.Option,{key:t,value:e.key},e.value)})))),P(j.a.Item,{label:\"\\u5c55\\u793a\\u9875\\u9762\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u5c55\\u793a\\u9875\\u9762\"}],name:\"showPage\"},P(f.a,{style:{width:\"160px\"}},u.map((function(e,t){return P(f.a.Option,{key:t,value:e.key},e.value)})))),P(j.a.Item,{label:\"\\u534f\\u8bae\\u540d\\u79f0\",name:\"fileName\",rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u534f\\u8bae\\u540d\\u79f0\"},function(e){e.getFieldValue;return{validator:function(e,t){return t&&(t.length>30||t.length<1)?Promise.reject(\"\\u8f93\\u5165\\u8303\\u56f4\\u5927\\u4e8e1\\u5b57\\u7b26\\uff0c\\u5c0f\\u4e8e\\u7b49\\u4e8e30\\u5b57\\u7b26\"):Promise.resolve()}}}]},P(s.a,{placeholder:\"\\u793a\\u4f8b\\uff1a\\u300a\\u501f\\u6b3e\\u534f\\u8bae\\u300b\\uff0c\\u6700\\u591a30\\u5b57\\u7b26\\u3002\"})),P(j.a.Item,{label:\"\\u534f\\u8bae\\u6a21\\u677f\",name:\"templateId\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u534f\\u8bae\\u6a21\\u677f\"}]},P(f.a,{style:{width:\"160px\"}},e.tempData.map((function(e,t){return P(f.a.Option,{key:t,value:e.id},e.name)})))),P(j.a.Item,{label:\"\\u662f\\u5426\\u9996\\u4f4d\",name:\"isFirst\",valuePropName:\"checked\"},P(c.a,null,\"\\u9996\\u4f4d\\uff0c\\u540c\\u9875\\u9762\\u5b58\\u5728\\u591a\\u4e2a\\u534f\\u8bae\\u65f6\\u7f6e\\u4e8e\\u9996\\u4f4d\\u3002\")),P(j.a.Item,{label:\"\\u5f3a\\u5236\\u9605\\u8bfb\",name:\"readStatus\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u662f\\u5426\\u5f3a\\u5236\\u9605\\u8bfb\"}]},P(i.a.Group,null,P(i.a,{value:1},\"\\u662f\"),P(i.a,{value:0},\"\\u5426\"))),P(j.a.Item,{label:\"\\u662f\\u5426\\u7b7e\\u7ae0\",name:\"isSignature\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u662f\\u5426\\u7b7e\\u7ae0\"}]},P(i.a.Group,null,P(i.a,{value:1},\"\\u662f\"),P(i.a,{value:0},\"\\u5426\"))),P(j.a.Item,{shouldUpdate:function(e,t){return e.isSignature!==t.isSignature},noStyle:!0},(function(e){if(1==(0,e.getFieldValue)(\"isSignature\"))return P(j.a.Item,{label:\"\\u7b7e\\u7ae0\\u8282\\u70b9\",name:\"node\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u7b7e\\u7ae0\\u8282\\u70b9\"}]},P(f.a,{style:{width:\"160px\"}},p.map((function(e,t){return P(f.a.Option,{key:t,value:e.key},e.value)}))))})),P(j.a.Item,{label:\"\\u72b6\\u6001\",name:\"status\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u72b6\\u6001\"}]},P(i.a.Group,null,P(i.a,{value:0},\"\\u505c\\u7528\"),P(i.a,{value:1},\"\\u542f\\u7528\"))),P(j.a.Item,{label:\"\\u63cf\\u8ff0\",name:\"description\",rules:[function(e){e.getFieldValue;return{validator:function(e,t){return t&&t.length<5?Promise.reject(\"\\u6700\\u5c11\\u8f93\\u51655\\u4e2a\\u5b57\\u7b26\"):Promise.resolve()}}}]},P(s.a.TextArea,{placeholder:\"\\u8bf7\\u8f93\\u5165\\u81f3\\u5c115\\u4e2a\\u5b57\\u7b26\"}))))}S.getInitialProps=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",{});case 1:case\"end\":return e.stop()}}),e)}))),t.default=S},\"7JwH\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/agreement/AgreementForm\",function(){return n(\"/ry3\")}])},\"7N94\":function(e,t,n){},DMXp:function(e,t,n){\"use strict\";var a=n(\"TqRt\"),r=n(\"cDf5\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=t.GroupContext=void 0;var u=a(n(\"pVnL\")),i=a(n(\"lSNA\")),l=a(n(\"RIqP\")),c=a(n(\"J4zp\")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==r(e)&&\"function\"!==typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(\"q1tI\")),s=a(n(\"TSYQ\")),p=a(n(\"BnGs\")),f=a(n(\"JmJJ\")),d=n(\"vgIT\");function g(e){if(\"function\"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var m=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},v=o.createContext(null);t.GroupContext=v;var b=function(e,t){var n=e.defaultValue,a=e.children,r=e.options,g=void 0===r?[]:r,b=e.prefixCls,O=e.className,y=e.style,j=e.onChange,k=m(e,[\"defaultValue\",\"children\",\"options\",\"prefixCls\",\"className\",\"style\",\"onChange\"]),h=o.useContext(d.ConfigContext),w=h.getPrefixCls,x=h.direction,P=o.useState(k.value||n||[]),C=(0,c.default)(P,2),I=C[0],S=C[1],T=o.useState([]),_=(0,c.default)(T,2),E=_[0],D=_[1];o.useEffect((function(){\"value\"in k&&S(k.value||[])}),[k.value]);var N=function(){return g.map((function(e){return\"string\"===typeof e?{label:e,value:e}:e}))},A=w(\"checkbox\",b),M=\"\".concat(A,\"-group\"),q=(0,p.default)(k,[\"value\",\"disabled\"]);g&&g.length>0&&(a=N().map((function(e){return o.createElement(f.default,{prefixCls:A,key:e.value.toString(),disabled:\"disabled\"in e?e.disabled:k.disabled,value:e.value,checked:-1!==I.indexOf(e.value),onChange:e.onChange,className:\"\".concat(M,\"-item\"),style:e.style},e.label)})));var J={toggleOption:function(e){var t=I.indexOf(e.value),n=(0,l.default)(I);-1===t?n.push(e.value):n.splice(t,1),\"value\"in k||S(n);var a=N();null===j||void 0===j||j(n.filter((function(e){return-1!==E.indexOf(e)})).sort((function(e,t){return a.findIndex((function(t){return t.value===e}))-a.findIndex((function(e){return e.value===t}))})))},value:I,disabled:k.disabled,name:k.name,registerValue:function(e){D((function(t){return[].concat((0,l.default)(t),[e])}))},cancelValue:function(e){D((function(t){return t.filter((function(t){return t!==e}))}))}},F=(0,s.default)(M,(0,i.default)({},\"\".concat(M,\"-rtl\"),\"rtl\"===x),O);return o.createElement(\"div\",(0,u.default)({className:F,style:y},q,{ref:t}),o.createElement(v.Provider,{value:J},a))},O=o.forwardRef(b),y=o.memo(O);t.default=y},JmJJ:function(e,t,n){\"use strict\";var a=n(\"TqRt\"),r=n(\"cDf5\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var u=a(n(\"lSNA\")),i=a(n(\"pVnL\")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==r(e)&&\"function\"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(\"default\"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=u?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(\"q1tI\")),c=a(n(\"TSYQ\")),o=a(n(\"x1Ya\")),s=n(\"DMXp\"),p=n(\"vgIT\"),f=a(n(\"m4nH\"));function d(e){if(\"function\"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},m=function(e,t){var n,a=e.prefixCls,r=e.className,d=e.children,m=e.indeterminate,v=void 0!==m&&m,b=e.style,O=e.onMouseEnter,y=e.onMouseLeave,j=e.skipGroup,k=void 0!==j&&j,h=g(e,[\"prefixCls\",\"className\",\"children\",\"indeterminate\",\"style\",\"onMouseEnter\",\"onMouseLeave\",\"skipGroup\"]),w=l.useContext(p.ConfigContext),x=w.getPrefixCls,P=w.direction,C=l.useContext(s.GroupContext),I=l.useRef(h.value);l.useEffect((function(){null===C||void 0===C||C.registerValue(h.value),(0,f.default)(\"checked\"in h||!!C||!(\"value\"in h),\"Checkbox\",\"`value` is not a valid prop, do you mean `checked`?\")}),[]),l.useEffect((function(){if(!k)return h.value!==I.current&&(null===C||void 0===C||C.cancelValue(I.current),null===C||void 0===C||C.registerValue(h.value)),function(){return null===C||void 0===C?void 0:C.cancelValue(h.value)}}),[h.value]);var S=x(\"checkbox\",a),T=(0,i.default)({},h);C&&!k&&(T.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),C.toggleOption&&C.toggleOption({label:d,value:h.value})},T.name=C.name,T.checked=-1!==C.value.indexOf(h.value),T.disabled=h.disabled||C.disabled);var _=(0,c.default)((n={},(0,u.default)(n,\"\".concat(S,\"-wrapper\"),!0),(0,u.default)(n,\"\".concat(S,\"-rtl\"),\"rtl\"===P),(0,u.default)(n,\"\".concat(S,\"-wrapper-checked\"),T.checked),(0,u.default)(n,\"\".concat(S,\"-wrapper-disabled\"),T.disabled),n),r),E=(0,c.default)((0,u.default)({},\"\".concat(S,\"-indeterminate\"),v));return l.createElement(\"label\",{className:_,style:b,onMouseEnter:O,onMouseLeave:y},l.createElement(o.default,(0,i.default)({},T,{prefixCls:S,className:E,ref:t})),void 0!==d&&l.createElement(\"span\",null,d))},v=l.forwardRef(m);v.displayName=\"Checkbox\";var b=v;t.default=b},eci7:function(e,t,n){\"use strict\";var a=n(\"sW4n\");t.a={get_data_dict:function(e){return Object(a.b)(\"dataDictionary/\".concat(e))},fetch_agreement_list:function(e){return Object(a.g)(\"loanSignatureTemplate/search\",\"get\",e)},download_agreement_list:function(e){return Object(a.g)(\"loanSignatureTemplate/download\",\"post\",e)},update_agreement_item:function(e){return Object(a.g)(\"loanSignatureTemplate/save\",\"post\",e)},fetch_agreement_signature:function(e){return Object(a.g)(\"loanSignature/search\",\"get\",e)},get_file_base64:function(e){return Object(a.g)(\"napi/file-base64\",\"get\",e)},getTemplateList:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.gettemplatelist\",[e])},getEnableTemplateList:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.queryenabletemplatelist\",[e],!0)},changeTempStatus:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.updatetemplatestatus\",[e])},getTemplateDetail:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.gettemplatedetail\",[{id:e}])},getTemplateLabel:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.getdictionarylist\",[{type:e}])},addTemplate:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.addtemplate\",[e])},updateTemplate:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.updatetemplate\",[e])},previewTemplate:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.viewtemplate\",[e])},getAppType:function(){return Object(a.c)(\"bank.api.agreementenumservice.getapplicationmap\")},getAllPage:function(){return Object(a.c)(\"bank.api.agreementenumservice.getpositionmap\")},getAgreementList:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.getsignatureagreementlist\",[e])},changeAgreementStatus:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.updateagreementstatus\",[e])},previewAgreement:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.viewagreement\",[{id:e}])},getSignNode:function(){return Object(a.c)(\"bank.api.agreementenumservice.getsignnodemap\")},addAgreement:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.addagreement\",[e])},updateAgreement:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.updateagreement\",[e])},downloadAgreement:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.agreementbranchdownload\",[{ids:e}])},getSignAgreementList:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.getsignaturerecordlist\",[e])},downloadSignAgreement:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.recordbranchdownload\",[{ids:e}])},getStatusList:function(){return Object(a.c)(\"bank.api.agreementenumservice.getstatusmap\",[{}])},uploadData:function(e){return Object(a.c)(\"bank.api.agreementsignatureservice.agreementimgupload\",[e])}}},\"g4D/\":function(e,t,n){\"use strict\";var a=n(\"TqRt\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var r=a(n(\"JmJJ\")),u=a(n(\"DMXp\")),i=r.default;i.Group=u.default,i.__ANT_CHECKBOX=!0;var l=i;t.default=l},pJsf:function(e,t,n){\"use strict\";n(\"VEUW\"),n(\"7N94\")},\"tL+A\":function(e,t,n){\"use strict\";n(\"VEUW\"),n(\"wWjF\")},wWjF:function(e,t,n){}},[[\"7JwH\",0,2,24,1,3,4,5,6,7,8,9,11,12,14,17,21,26,27,29,28,31,32]]]);","extractedComments":[]}