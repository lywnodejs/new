define("normalize",{}),define("css",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("css!common/show-large-img/css",[],function(){}),define("js/common/utils",["require","exports","module"],function(e,t,n){var o={isDate:function(e){return"[object Date]"==={}.toString.call(e)},pageName:function(){return location.href.replace(/\.html(.+)?/,"").split("/").pop()},getUrlData:function(e){var t=(e||location.href.replace(/#.*/g,"")).match(/\?(.*)/),n={};if(!(t=t&&t[1]))return n;t=t.split("&");var o,i;return t.forEach(function(e){e=e.split("="),o=decodeURIComponent(e[0]),i="null"===e[1]||null==e[1]?"":decodeURIComponent(e[1]),o&&(n[o]=i)}),n},getHashData:function(){return o.getUrlData(location.hash)},removeScriptTags:function(e){return e&&e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<link\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/link>/gi,"")},getElOffset:function(e){if(!e)return console.log("elem is null"),{};var t=e.getBoundingClientRect(),n=document.body,o=document.documentElement;if(t.width||t.height||e.getClientRects().length){var i=window.pageYOffset||o.scrollTop||n.scrollTop,r=window.pageXOffset||o.scrollLeft||n.scrollLeft,a=o.clientTop||n.clientTop||0,l=o.clientLeft||n.clientLeft||0,c=t.top+i-a,s=t.left+r-l;return{top:Math.round(c),left:Math.round(s)}}return console.log("elem is hidde"),{}},getScroll:function(){var e=document.documentElement,t=document.body;return{left:(window.scrollX||window.pageXOffset||e.scrollLeft||t.scrollLeft)-(e.clientLeft||t.clientLeft||0),top:(window.scrollY||window.pageYOffset||e.scrollTop||t.scrollTop)-(e.clientTop||t.clientTop||0)}}};return o}),define("js/common/debounce",["require","exports","module"],function(e,t,n){return function(e,t){var n,o,i,r,a,l,c=function(){l=+new Date-r,l<t&&l>=0?n=setTimeout(c,t-l):(n=null,a=e.apply(i,o),n||(i=o=null))};return function(){return i=this,o=arguments,r=+new Date,n||(n=setTimeout(c,t)),a}}}),define("common/show-large-img/index",["require","exports","module","css!./css.css","../../js/common/utils","../../js/common/debounce"],function(e,t,n){e("css!./css.css");var o=e("../../js/common/utils"),i=e("../../js/common/debounce"),r=angular.module("ui.showLargeImg",[]);r.controller("showImgCtrl",["$scope","$timeout","$http","$q","$element","$window",function(e,t,n,o,i,r){}]),r.directive("uiShowLargeImg",["$timeout","$parse","$document",function(e,t,n,r){return{restrict:"A",controllerAs:"$showImgCtrl",controller:"showImgCtrl",link:function(e,t,n,r){var a,l=document.createElement("div"),c=angular.element(document.body),s=!1,u=!1,d=!1;l.setAttribute("layer-id","js-large-layer"),l.className="i-img-layer",c.append(l);var m=function(e){var t=o.getElOffset(e),n=o.getScroll(),i=t.left,r=t.top-n.top;return{width:e.clientWidth+"px",height:e.clientHeight+"px",left:i+"px",top:r+"px"}},p=function(e){return angular.element(e).clone().css(angular.extend({position:"fixed",zIndex:105},m(e))).addClass("i-img-tran")[0]},g=function(e){if($el=angular.element(e),$el.attr("src")){$el.addClass("i-tran"),$el.css("cursor","move").attr("data-large-img",1);var t=window.innerWidth,n=window.innerHeight,o=new Image;o.onload=function(){var e,o;this.width>this.height?(e=this.width>=t-18?t-18:this.width,o=this.height/this.width*e):(o=this.height>=n-18?n-18:this.height,e=this.width/this.height*o),$el.css({width:e+"px",height:o+"px",left:(t-e)/2+"px",top:(n-o)/2+"px"})},o.src=$el.attr("src")}};window.addEventListener("resize",i(function(){g(document.querySelector("[data-large-img]"))},100));var f=function(){l.classList.remove("i-show");var e=document.querySelector("img[data-large-img]");e&&!u&&(u=!0,e.classList.add("i-tran"),e.classList.add("remove"),angular.element(e).css(angular.extend({position:"fixed",zIndex:105},m(a))),a=null,setTimeout(function(){u=!1,e&&e.parentElement&&e.parentElement.removeChild(e)},500))},h=function(e){setTimeout(function(){s=!1},300),e.prop("draggable",!0),c.off("mousemove touchmove mouseup mouseleave  touchend touchcancel"),f()};c.on("mousedown touchstart",function(e){var t=angular.element(e.srcElement);if(1==t.attr("data-large-img")){t.removeClass("i-tran"),e.stopImmediatePropagation();var n=e.pageY,o=e.pageX;t.prop("draggable",!1),c.on("mousemove touchmove",function(e){e.stopImmediatePropagation(),s=!0;var i=e.pageY-n,r=e.pageX-o;o=e.pageX,n=e.pageY,t.css({top:parseInt(t[0].style.top,10)+i+"px",left:parseInt(t[0].style.left,10)+r+"px"})}),c.on("mouseup mouseleave touchend touchcancel",function(e){e.stopImmediatePropagation(),h(t)})}}),["click","keydown","touchstart"].forEach(function(e){document.addEventListener(e,function(e){if(!(s||u||d)){if("keydown"===e.type&&27===e.keyCode)return void f();var t=angular.element(e.srcElement);return 1==t.attr("data-large-img")||"js-large-layer"===t.attr("layer-id")?void f():void 0}})},!1),t.on("click",function(e){var t=e.srcElement;if("IMG"===t.nodeName){e.preventDefault(),e.stopPropagation(),a=t,l.classList.add("i-show"),d=!0;var n=p(t);c.append(n),g(n),setTimeout(function(){d=!1},800)}})}}}])}),function(e){var t=document,n="appendChild",o="styleSheet",i=t.createElement("style");i.type="text/css",t.getElementsByTagName("head")[0][n](i),i[o]?i[o].cssText=e:i[n](t.createTextNode(e))}(".i-img-layer{position:fixed;left:0;right:0;top:0;bottom:0;height:0;width:0;z-index:101;background:#000;opacity:0;transition:opacity .3s ease-in-out;}.i-img-layer.i-show{opacity:.6;height:100%;width:100%;}.i-img-tran.i-tran{transition:all .5s ease-in-out;}.i-img-tran.remove{opacity:.8;}");