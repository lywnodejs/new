define("common/http-provider/http-provider",["require","exports","module"],function(r,e,t){return function(r){r.factory("myHttpInterceptor",["$q","$window",function(r,e){return{request:function(r){return r.headers.TaskId=+new Date+"-"+String(Math.random()).slice(2),r},requestError:function(e){return console.error("requestError:"+e.config.url,arguments),r.reject(e)},response:function(t){if(t.data&&t.data.errno){if("301"===String(t.data.errno))return t.data.data.logoutURL&&(e.location.href=t.data.data.logoutURL.replace("${jumpto}",encodeURI(location.href))),r.reject(t);if(0!==t.data.errno)return console.error("res data error:",t.config.url,t),t}return t},responseError:function(e){return console.error("responseError:"+e.config.url,arguments),r.reject(e)}}}]),r.config(["$httpProvider",function(r){r.defaults.useXDomain=!0,r.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r.interceptors.push("myHttpInterceptor")}])}});