"use strict";define("js/common/utils",["require","exports","module"],function(e,t,n){var i={isDate:function(e){return"[object Date]"==={}.toString.call(e)},pageName:function(){return location.href.replace(/\.html(.+)?/,"").split("/").pop()},getUrlData:function(e){var t=(e||location.href.replace(/#.*/g,"")).match(/\?(.*)/),n={};if(!(t=t&&t[1]))return n;t=t.split("&");var i,a;return t.forEach(function(e){e=e.split("="),i=decodeURIComponent(e[0]),a="null"===e[1]||null==e[1]?"":decodeURIComponent(e[1]),i&&(n[i]=a)}),n},getHashData:function(){return i.getUrlData(location.hash)},removeScriptTags:function(e){return e&&e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<link\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/link>/gi,"")},getElOffset:function(e){if(!e)return console.log("elem is null"),{};var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement;if(t.width||t.height||e.getClientRects().length){var a=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,r=i.clientTop||n.clientTop||0,c=i.clientLeft||n.clientLeft||0,l=t.top+a-r,s=t.left+o-c;return{top:Math.round(l),left:Math.round(s)}}return console.log("elem is hidde"),{}},getScroll:function(){var e=document.documentElement,t=document.body;return{left:(window.scrollX||window.pageXOffset||e.scrollLeft||t.scrollLeft)-(e.clientLeft||t.clientLeft||0),top:(window.scrollY||window.pageYOffset||e.scrollTop||t.scrollTop)-(e.clientTop||t.clientTop||0)}}};return i}),define("js/common/service/service",["require","exports","module","../utils"],function(e,t,n){var i=e("../utils");return function(e){e.factory("mypagination",function(){var e={initList:function(t,n,a,o){var r=i.getHashData();o.searchText=r.searchText||"",o.getExtendData=function(){return{searchText:o.searchText,type:o.type,docType:i.getHashData().docType}},o.$on("data",function(e,t){angular.extend(o,t)}),n.$on("menu.filterData",function(){o.getData()}),e.initPageination(t,n,a,o),o.getData(i.getHashData()),o.isSetHash=!0},initPageination:function(e,t,n,a){var o=i.getHashData();a.pageSize=0|o.size||10,a.currentPage=0|o.page||1,a.totalItems=1e5,a.pageSizeOptions=[10,20,30,50],a.maxSize=5,a.totalPage=0,a.jumpPageNum="",a.pageSizeOptions.indexOf(a.pageSize)<0&&(a.pageSize=10),a.oldSearchText="";var r=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t+=n+"="+("object"==typeof e[n]?encodeURIComponent(JSON.stringify(e[n])):e[n])+"&");location.hash="?"+t.replace(/&$/,"")};a.keyUp=function(e){13===e.keyCode&&a.searchText!==a.oldSearchText&&(a.oldSearchText=a.searchText,a.currentPage=1,a.getData())},a.jumpPage=function(e){if(!e||13===e.keyCode){var t=parseInt(a.jumpPageNum,10);if(isNaN(t)||t===a.currentPage||t<=0)return void(a.jumpPageNum="");t>=a.totalPage&&(t=a.totalPage),a.currentPage=t,a.getData(),a.jumpPageNum=""}},a.changePageSize=function(){a.getData()};var c=a;a.getData=function(i){a.isShow=!1;var o={page:a.currentPage,size:a.pageSize};return angular.isFunction(a.getExtendData)&&(o=angular.extend({},a.getExtendData()||{},o)),Object.keys(i||{}).length&&angular.extend(o,i),e({url:a.getDataUrl,method:"GET",params:o}).success(function(e){if("0"!==String(e.errno))return void console.log("error");t.$broadcast("data",{datas:e.data,totalItems:e.total||0,totalPage:Math.ceil(e.total/c.pageSize)}),!0===a.isSetHash&&n(function(){r(o),a.isShow=!0})})}}};return e})}}),define("normalize",{}),define("css",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("css!common/directive/loading/css/loading",[],function(){}),define("common/directive/loading/loading",["require","exports","module","css!./css/loading"],function(e,t,n){return e("css!./css/loading"),function(e){e.directive("loading",["$http","$rootScope",function(e,t){return{restrict:"E",replace:!0,scope:{loadingtext:"@?",isloading:"=",opacity:"@?"},template:['<div class="p-loading-wrap">','   <div class="mask" ng-style="{opacity:opacity}"></div>','   <div class="loading-content">','       <span class="loading"></span>',"       <span ng-cloak>{{loadingtext}}<dot></dot></span>","   </div>","</div>"].join(""),link:function(n,i,a){n.loadingtext=a.loadingtext||"数据加载中",n.opacity=a.opacity||1,n.isShowLoading=function(){return!0===n.isloading||e.pendingRequests.length>0&&!1!==t.showLoading},n.$watch(n.isShowLoading,function(e){i.css({display:e?"block":"none"})})}}}])}}),define("js/common/filter/application-filter",["require","exports","module"],function(e,t,n){var i={dataConsumerMap:["公安部","检察院","法院","交通委","其他"],dataTypeMap:["订单相关汇总类数据","补贴和定价策略相关数据","财务报表类数据","其它有争议数据","司机三证和背景调查信息"],dataProvideMethodMap:["API接口","邮件发送","线下传递","其他"],dataVolumeMap:[">=50万","<50万"]};return function(e){e.filter("getKeysJoin",function(){return function(e,t,n){return e.map(function(e){return e[t]}).join(n||",")}});for(var t in i)i.hasOwnProperty(t)&&function(t,n){e.filter(n.replace("Map",""),function(){return function(e){return t[0|e]}})}(i[t],t);e.filter("getRedirectPage",function(){return function(e){return e|=0,e?~[1,5].indexOf(e)?"hole-edit":~[200].indexOf(e)?"alarm-order-detail":~[201].indexOf(e)?"alarm-order-edit":"hole-detail":"application-detail"}})}}),define("js/common/filter/filter",["require","exports","module","../utils"],function(e,t,n){var i=e("../utils"),a=function(e){return e.email&&e.name?'<a href="http://home.didichuxing.com/person.html#/'+(e.email&&e.email.split("@")[0])+'/1" target="_blank">'+e.name+"</a>":""},o=["未处理","已处理","误报库","问题库","已发单"],r=["S0(严重)","S1(高危)","S2(中危)","S3(低危)","忽略"];return function(e){e.filter("to_trusted",["$sce",function(e){return function(t){return t?e.trustAsHtml(i.removeScriptTags(t)):""}}]).filter("getName",function(){return function(e){return e&&e.map(function(e){return'<a href="http://home.didichuxing.com/person.html#/'+(e.email&&e.email.split("@")[0])+'/1" target="_blank">'+e.name+"</a>"}).join(",")||"无"}}).filter("getEmail",function(){return function(e){return e&&e.map(function(e){return e.email}).join(",")}}).filter("getEmailLink",function(){return function(e){if(e)return a(e)}}).filter("getArrEmailLink",function(){return function(e){if(Array.isArray(e)&&e.length)return e.map(function(e){return a(e)}).join(",")}}).filter("getStateText",function(){return function(e){return o[e]||""}}).filter("getRiskLevel",function(){return function(e){return r[e]||""}})}}),define("js/common/app-list-init",["require","exports","module","./service/service","../../common/directive/loading/loading","./filter/application-filter","./filter/filter"],function(e,t,n){return function(t){e("./service/service")(t),e("../../common/directive/loading/loading")(t),e("./filter/application-filter")(t),e("./filter/filter")(t)}}),function(e){var t=document,n="appendChild",i="styleSheet",a=t.createElement("style");a.type="text/css",t.getElementsByTagName("head")[0][n](a),a[i]?a[i].cssText=e:a[n](t.createTextNode(e))}("@charset \"UTF-8\";dot{display:inline-block;height:1em;line-height:1;text-align:left;vertical-align:-.25em;overflow:hidden;}dot::before{display:block;content:'...\\A..\\A.';white-space:pre-wrap;animation:d-dot 2s infinite step-start both;}@keyframes d-dot{33%{transform:translateY(-2em);}66%{transform:translateY(-1em);}}html{min-width:1100px;}.p-loading-wrap{}@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}.p-loading-wrap .mask{height:100%;width:100%;background-color:#fff;position:absolute;left:0;top:0;z-index:1000;}.p-loading-wrap .loading-content{z-index:1001;position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;width:100%;height:32px;line-height:32px;text-align:center;vertical-align:middle;}.p-loading-wrap .loading{position:relative;display:inline-block;width:32px;height:32px;vertical-align:middle;}.p-loading-wrap .loading:after{margin:12px 12px 0;display:block;content:'';width:3px;height:3px;border-radius:100%;box-shadow:0 -10px 0 1px #ccc,10px 0px #ccc,0 10px #ccc,-10px 0 #ccc,-7px -7px 0 0.5px #ccc,7px -7px 0 1.5px #ccc,7px 7px #ccc,-7px 7px #ccc;animation:spin 1s steps(8) infinite;}");