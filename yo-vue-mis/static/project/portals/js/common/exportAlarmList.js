define("text",{load:function(t){throw new Error("Dynamic load not allowed: "+t)}}),define("text!common/export-data/tpl.html",[],function(){return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <title>${title}</title>\n</head>\n\n<body>\n    ${data}\n</body>\n\n</html>'}),define("common/export-data/index",["require","exports","module","text!./tpl.html"],function(t,e,a){var r=t("text!./tpl.html");return function(t,e,a){if(!t)return void console.trace("data is error");var n=r.replace("${data}",t).replace("${title}",e),o=URL.createObjectURL(new Blob([n],{type:"text/html"})),d=document.createElement("a");document.body.appendChild(d),d.download=e+"."+a,d.href=o,d.click(),setTimeout(function(){d.parentElement.removeChild(d)})}}),define("common/export-data/export-excel",["require","exports","module","./index"],function(t,e,a){var r=t("./index");return function(t,e,a){if(!t)return void console.log("data is error");var n=Object.keys(t.thead),o="<table> <thead> <tr>${thead}</tr> </thead> <tbody> ${tbody} </tbody></table>".replace("${thead}",Object.keys(t.thead).map(function(e){return"<th>"+t.thead[e]+"</th>"}).join("")).replace("${tbody}",t.tbody.map(function(t){return"<tr>"+n.map(function(e){return"<td>"+t[e]+"</td>"}).join("")+"</tr>"}).join(""));r(o,e,a)}}),define("js/alarm/adapterAlarmData",["require","exports","module"],function(t,e,a){return function(t,e,a){if(e=e||{},!Array.isArray(t.datas)||!t.datas.length)return t;var r=[],n=t.datas[0].alarmData;return n&&(r=Object.keys(n)),t.datas.forEach(function(t){t.id in e&&(t.isChecked=a),angular.isObject(t.alarmData)&&r.forEach(function(e){t[e]=t.alarmData[e]})}),t}}),define("js/common/exportAlarmList",["require","exports","module","../../common/export-data/export-excel","../alarm/adapterAlarmData"],function(t,e,a){var r=t("../../common/export-data/export-excel"),n=t("../alarm/adapterAlarmData");return function(t,e,a,o,d){var i={};o.forEach(function(t,e){i[d[e]]=t});var l=function(t){return Array.isArray(t)?(t.forEach(function(t){t.processerJson=a("getName")(t.processerJson)}),t):t};t.exportAlarmList=function(){e({method:"GET",url:t.getDataUrl,params:{page:1,size:t.totalItems||1e4}}).success(function(t){if("0"===String(t.errno)){var e=l(n({datas:t.data}).datas);r({thead:i,tbody:e},"告警信息","xls")}})}}});