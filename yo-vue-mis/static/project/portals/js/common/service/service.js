"use strict";define("js/common/utils",["require","exports","module"],function(e,t,a){var n={isDate:function(e){return"[object Date]"==={}.toString.call(e)},pageName:function(){return location.href.replace(/\.html(.+)?/,"").split("/").pop()},getUrlData:function(e){var t=(e||location.href.replace(/#.*/g,"")).match(/\?(.*)/),a={};if(!(t=t&&t[1]))return a;t=t.split("&");var n,o;return t.forEach(function(e){e=e.split("="),n=decodeURIComponent(e[0]),o="null"===e[1]||null==e[1]?"":decodeURIComponent(e[1]),n&&(a[n]=o)}),a},getHashData:function(){return n.getUrlData(location.hash)},removeScriptTags:function(e){return e&&e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<link\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/link>/gi,"")},getElOffset:function(e){if(!e)return console.log("elem is null"),{};var t=e.getBoundingClientRect(),a=document.body,n=document.documentElement;if(t.width||t.height||e.getClientRects().length){var o=window.pageYOffset||n.scrollTop||a.scrollTop,r=window.pageXOffset||n.scrollLeft||a.scrollLeft,i=n.clientTop||a.clientTop||0,c=n.clientLeft||a.clientLeft||0,l=t.top+o-i,u=t.left+r-c;return{top:Math.round(l),left:Math.round(u)}}return console.log("elem is hidde"),{}},getScroll:function(){var e=document.documentElement,t=document.body;return{left:(window.scrollX||window.pageXOffset||e.scrollLeft||t.scrollLeft)-(e.clientLeft||t.clientLeft||0),top:(window.scrollY||window.pageYOffset||e.scrollTop||t.scrollTop)-(e.clientTop||t.clientTop||0)}}};return n}),define("js/common/service/service",["require","exports","module","../utils"],function(e,t,a){var n=e("../utils");return function(e){e.factory("mypagination",function(){var e={initList:function(t,a,o,r){var i=n.getHashData();r.searchText=i.searchText||"",r.getExtendData=function(){return{searchText:r.searchText,type:r.type,docType:n.getHashData().docType}},r.$on("data",function(e,t){angular.extend(r,t)}),a.$on("menu.filterData",function(){r.getData()}),e.initPageination(t,a,o,r),r.getData(n.getHashData()),r.isSetHash=!0},initPageination:function(e,t,a,o){var r=n.getHashData();o.pageSize=0|r.size||10,o.currentPage=0|r.page||1,o.totalItems=1e5,o.pageSizeOptions=[10,20,30,50],o.maxSize=5,o.totalPage=0,o.jumpPageNum="",o.pageSizeOptions.indexOf(o.pageSize)<0&&(o.pageSize=10),o.oldSearchText="";var i=function(e){var t="";for(var a in e)e.hasOwnProperty(a)&&void 0!==e[a]&&(t+=a+"="+("object"==typeof e[a]?encodeURIComponent(JSON.stringify(e[a])):e[a])+"&");location.hash="?"+t.replace(/&$/,"")};o.keyUp=function(e){13===e.keyCode&&o.searchText!==o.oldSearchText&&(o.oldSearchText=o.searchText,o.currentPage=1,o.getData())},o.jumpPage=function(e){if(!e||13===e.keyCode){var t=parseInt(o.jumpPageNum,10);if(isNaN(t)||t===o.currentPage||t<=0)return void(o.jumpPageNum="");t>=o.totalPage&&(t=o.totalPage),o.currentPage=t,o.getData(),o.jumpPageNum=""}},o.changePageSize=function(){o.getData()};var c=o;o.getData=function(n){o.isShow=!1;var r={page:o.currentPage,size:o.pageSize};return angular.isFunction(o.getExtendData)&&(r=angular.extend({},o.getExtendData()||{},r)),Object.keys(n||{}).length&&angular.extend(r,n),e({url:o.getDataUrl,method:"GET",params:r}).success(function(e){if("0"!==String(e.errno))return void console.log("error");t.$broadcast("data",{datas:e.data,totalItems:e.total||0,totalPage:Math.ceil(e.total/c.pageSize)}),!0===o.isSetHash&&a(function(){i(r),o.isShow=!0})})}}};return e})}});