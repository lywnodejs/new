"use strict";define("js/common/uploader",["require","exports","module"],function(e,o,i){return function(e){var o=new plupload.Uploader({browse_button:e||"upload-file",url:"http://tms.didichuxing.com/api/public/upload",runtimes:"html5",filters:{mime_types:[{title:"img",extensions:"jpg,jpeg,png,gif"}],max_file_size:"10mb"},multipart_params:{type:"img",compress:!0,business_type:"aegis"},multi_selection:!1,dragdrop:!0});return o.init(),o.bind("FilesAdded",function(e,o){e.start(),console.log("开始上传！",e,o)}),o.bind("FileUploaded",function(e,o,i){console.log("FileUploaded",e,o,i);var r=JSON.parse(i.response);if(!r.success)return void console.error(i);var n=document.createElement("img");n.src=r.url,document.body.appendChild(n)}),o.bind("UploadProgress",function(e,o){console.log("UploadProgress",e,o)}),o.bind("Error",function(e,o){console.log("Error",e,o)}),o.uploadImage=function(e){o.addFile(e),o.start()},o}});