define("js/inStats/utils/HHTable",[],function(){function t(t,e,a,l){var d='<table class="table table-bordered table-striped table-hover">',r=[];e||(e="<thead><tr><th>一级类型</th><th>漏洞数量</th><th>二级类型</th><th>漏洞数量</th></tr><thead>"),d+=e;for(var n=0,s=t.length;n<s;n++)for(var o=0,h=t[n].children,u=h.length;o<u;o++){var v=h[o].name,c=t[n].name,f=function(t,e){for(var a=0;a<t.length;a++)if(t[a].name===e)return t[a];return!1}(r,v),i=h[o].value;f||(f={name:v},r.push(f)),f[c]=i}for(n=0,s=r.length;n<s;n++){var b=[],g=r[n];l.forEach(function(t){b.push(g[t]||0)}),r[n].data=b}console.log(r.length);var m=["总计",0];for(x=0,tlen=r.length;x<tlen;x++){var p=0,y=r[x].data,F="<tr>";for(F+="<td>"+r[x].name+"</td>",n=0,s=y.length;n<s;n++)void 0===m[2+n]&&(m[2+n]=0),p+=y[n],m[2+n]+=y[n];for(F+='<td class="td-value">'+p+"</td>",n=0,s=y.length;n<s;n++)F+='<td class="td-value">'+y[n]+"</td>",F+='<td class="td-value">'+Number.prototype.toFixed.call(1e4*y[n]/p/100,2)+"%</td>";for(;n<a;n++)F+='<td class="td-value">-</td>',F+='<td class="td-value">-</td>';F+="</tr>",m[1]+=p,d+=F}var H="<tr>";for(H+="<td>"+m[0]+"</td>",H+='<td class="td-value">'+m[1]+"</td>",n=2,s=m.length;n<s;n++)H+='<td class="td-value">'+m[n]+"</td>",H+='<td class="td-value">'+Number.prototype.toFixed.call(1e4*m[n]/m[1]/100,2)+"%</td>";for(;n<a+2;n++)H+='<td class="td-value">-</td>',H+='<td class="td-value">-</td>';return H+="</tr>",(d+=H)+"</table>"}return t});